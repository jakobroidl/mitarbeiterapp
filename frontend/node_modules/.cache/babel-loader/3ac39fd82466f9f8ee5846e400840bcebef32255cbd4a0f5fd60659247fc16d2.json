{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JRoidl\\\\Desktop\\\\mitarbeiterapp\\\\frontend\\\\src\\\\pages\\\\kiosk\\\\KioskMode.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/kiosk/KioskMode.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { de } from 'date-fns/locale';\nimport { ClockIcon, UserCircleIcon, CheckCircleIcon, XCircleIcon, ArrowLeftIcon, ArrowRightIcon, ExclamationCircleIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KioskMode = () => {\n  _s();\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [personalCode, setPersonalCode] = useState('');\n  const [step, setStep] = useState('code'); // 'code', 'status', 'position', 'success', 'error'\n  const [staffInfo, setStaffInfo] = useState(null);\n  const [positions, setPositions] = useState([]);\n  const [selectedPosition, setSelectedPosition] = useState(null);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState(''); // 'success', 'error', 'warning'\n  const [loading, setLoading] = useState(false);\n  const kioskToken = process.env.REACT_APP_KIOSK_TOKEN || localStorage.getItem('kiosk_token');\n  const inputRef = useRef(null);\n  const resetTimeoutRef = useRef(null);\n\n  // Update clock every second\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  // Load positions on mount\n  useEffect(() => {\n    loadPositions();\n  }, []);\n\n  // Auto-focus input\n  useEffect(() => {\n    if (step === 'code' && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [step]);\n\n  // Auto-reset after success/error\n  useEffect(() => {\n    if (step === 'success' || step === 'error') {\n      resetTimeoutRef.current = setTimeout(() => {\n        resetToStart();\n      }, 5000);\n    }\n    return () => {\n      if (resetTimeoutRef.current) {\n        clearTimeout(resetTimeoutRef.current);\n      }\n    };\n  }, [step]);\n  const loadPositions = async () => {\n    try {\n      const response = await api.get('/timeclock/positions');\n      setPositions(response.data.positions);\n    } catch (error) {\n      console.error('Fehler beim Laden der Positionen:', error);\n    }\n  };\n  const resetToStart = () => {\n    setStep('code');\n    setPersonalCode('');\n    setStaffInfo(null);\n    setSelectedPosition(null);\n    setSelectedEvent(null);\n    setMessage('');\n    setMessageType('');\n  };\n  const handleCodeSubmit = async e => {\n    e.preventDefault();\n    if (!personalCode || personalCode.length < 6) return;\n    setLoading(true);\n    try {\n      const response = await api.get(`/timeclock/kiosk/status/${personalCode}`);\n      setStaffInfo(response.data);\n      if (response.data.is_clocked_in) {\n        // Mitarbeiter ist eingestempelt - zeige Status zum Ausstempeln\n        setStep('status');\n      } else {\n        // Mitarbeiter ist nicht eingestempelt - zeige Positionsauswahl\n        setStep('position');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Ungültiger Personal-Code');\n      setMessageType('error');\n      setStep('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleClockIn = async () => {\n    if (!selectedPosition) {\n      setMessage('Bitte wählen Sie eine Position');\n      setMessageType('warning');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await api.post('/timeclock/kiosk/clock-in', {\n        personal_code: personalCode,\n        position_id: selectedPosition,\n        event_id: selectedEvent,\n        kiosk_token: kioskToken\n      });\n      setMessage(response.data.message);\n      setMessageType('success');\n      setStep('success');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setMessage(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Fehler beim Einstempeln');\n      setMessageType('error');\n      setStep('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleClockOut = async () => {\n    setLoading(true);\n    try {\n      const response = await api.post('/timeclock/kiosk/clock-out', {\n        personal_code: personalCode,\n        kiosk_token: kioskToken\n      });\n      setMessage(response.data.message);\n      setMessageType('success');\n      setStep('success');\n\n      // Zeige Arbeitszusammenfassung\n      if (response.data.summary) {\n        const {\n          total_hours,\n          break_minutes\n        } = response.data.summary;\n        setMessage(prev => `${prev}\\n\\nArbeitszeit: ${total_hours} Stunden${break_minutes > 0 ? ` (inkl. ${break_minutes} Min. Pause)` : ''}`);\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setMessage(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Fehler beim Ausstempeln');\n      setMessageType('error');\n      setStep('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderCodeInput = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center min-h-screen p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-6xl font-light text-white mb-2\",\n          children: format(currentTime, 'HH:mm:ss')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl text-white/80\",\n          children: format(currentTime, 'EEEE, d. MMMM yyyy', {\n            locale: de\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n            className: \"h-16 w-16 text-ios-blue mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-ios-gray-900\",\n            children: \"Stempeluhr\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-ios-gray-600 mt-2\",\n            children: \"Geben Sie Ihren Personal-Code ein\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleCodeSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: inputRef,\n            type: \"text\",\n            value: personalCode,\n            onChange: e => setPersonalCode(e.target.value.toUpperCase()),\n            placeholder: \"Personal-Code\",\n            className: \"w-full px-6 py-4 text-2xl text-center font-mono bg-ios-gray-100 rounded-2xl \\r border-2 border-ios-gray-300 focus:border-ios-blue focus:outline-none \\r focus:ring-4 focus:ring-ios-blue/20 transition-all\",\n            maxLength: \"20\",\n            autoComplete: \"off\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || personalCode.length < 6,\n            className: \"w-full mt-6 py-4 bg-ios-blue text-white text-xl font-semibold rounded-2xl\\r hover:bg-blue-600 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\\r transition-all duration-200\",\n            children: loading ? 'Wird geprüft...' : 'Weiter'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-3 mt-6\",\n        children: [1, 2, 3, 4, 5, 6, 7, 8, 9, 'C', 0, '←'].map(key => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _inputRef$current;\n            if (key === 'C') {\n              setPersonalCode('');\n            } else if (key === '←') {\n              setPersonalCode(prev => prev.slice(0, -1));\n            } else {\n              setPersonalCode(prev => prev + key);\n            }\n            (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n          },\n          className: \"bg-white/90 hover:bg-white text-ios-gray-900 text-2xl font-semibold \\r py-4 rounded-2xl shadow-lg active:scale-95 transition-all\",\n          children: key\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n  const renderStatus = () => {\n    var _staffInfo$staff, _staffInfo$staff2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center min-h-screen p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-md\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [staffInfo !== null && staffInfo !== void 0 && (_staffInfo$staff = staffInfo.staff) !== null && _staffInfo$staff !== void 0 && _staffInfo$staff.profile_image ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `/uploads/profiles/${staffInfo.staff.profile_image}`,\n              alt: staffInfo.staff.name,\n              className: \"h-24 w-24 rounded-full mx-auto mb-4 border-4 border-white shadow-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(UserCircleIcon, {\n              className: \"h-24 w-24 text-ios-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-ios-gray-900\",\n              children: staffInfo === null || staffInfo === void 0 ? void 0 : (_staffInfo$staff2 = staffInfo.staff) === null || _staffInfo$staff2 === void 0 ? void 0 : _staffInfo$staff2.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg text-ios-gray-600\",\n              children: personalCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 11\n          }, this), (staffInfo === null || staffInfo === void 0 ? void 0 : staffInfo.is_clocked_in) && (staffInfo === null || staffInfo === void 0 ? void 0 : staffInfo.current_entry) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-ios-green/10 rounded-2xl p-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center space-x-3 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                className: \"h-6 w-6 text-ios-green\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg font-semibold text-ios-gray-900\",\n                children: \"Eingestempelt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: [\"Seit: \", format(new Date(staffInfo.current_entry.clock_in), 'HH:mm'), \" Uhr\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: [\"Position: \", staffInfo.current_entry.position_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), staffInfo.current_entry.event_name && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: [\"Event: \", staffInfo.current_entry.event_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [staffInfo !== null && staffInfo !== void 0 && staffInfo.is_clocked_in ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleClockOut,\n              disabled: loading,\n              className: \"w-full py-4 bg-ios-red text-white text-xl font-semibold rounded-2xl\\r hover:bg-red-600 active:scale-95 disabled:opacity-50 \\r transition-all duration-200\",\n              children: loading ? 'Wird ausgestempelt...' : 'Ausstempeln'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setStep('position'),\n              disabled: loading,\n              className: \"w-full py-4 bg-ios-green text-white text-xl font-semibold rounded-2xl\\r hover:bg-green-600 active:scale-95 disabled:opacity-50 \\r transition-all duration-200\",\n              children: \"Einstempeln\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetToStart,\n              className: \"w-full py-3 bg-ios-gray-200 text-ios-gray-700 text-lg font-semibold \\r rounded-2xl hover:bg-ios-gray-300 active:scale-95 transition-all duration-200\",\n              children: \"Abbrechen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 5\n    }, this);\n  };\n  const renderPositionSelection = () => {\n    var _staffInfo$today_even;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center min-h-screen p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-2xl\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-ios-gray-900 text-center mb-6\",\n            children: \"Position w\\xE4hlen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8\",\n            children: positions.map(position => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedPosition(position.id),\n              className: `p-6 rounded-2xl border-2 transition-all duration-200 ${selectedPosition === position.id ? 'border-ios-blue bg-ios-blue/10' : 'border-ios-gray-300 hover:border-ios-gray-400'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-3 w-3 rounded-full mx-auto mb-3\",\n                style: {\n                  backgroundColor: position.color\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-ios-gray-900\",\n                children: position.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this)]\n            }, position.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 11\n          }, this), (staffInfo === null || staffInfo === void 0 ? void 0 : (_staffInfo$today_even = staffInfo.today_events) === null || _staffInfo$today_even === void 0 ? void 0 : _staffInfo$today_even.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-ios-gray-900 mb-3\",\n              children: \"Heutige Veranstaltung (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: staffInfo.today_events.map(event => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedEvent(event.id === selectedEvent ? null : event.id),\n                className: `w-full p-4 rounded-xl border-2 text-left transition-all ${selectedEvent === event.id ? 'border-ios-purple bg-ios-purple/10' : 'border-ios-gray-300 hover:border-ios-gray-400'}`,\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-ios-gray-900\",\n                  children: event.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 21\n                }, this)\n              }, event.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetToStart,\n              className: \"flex-1 py-3 bg-ios-gray-200 text-ios-gray-700 font-semibold \\r rounded-2xl hover:bg-ios-gray-300 active:scale-95 transition-all\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n                className: \"inline h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 15\n              }, this), \"Zur\\xFCck\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleClockIn,\n              disabled: !selectedPosition || loading,\n              className: \"flex-1 py-3 bg-ios-green text-white font-semibold rounded-2xl\\r hover:bg-green-600 active:scale-95 disabled:opacity-50 \\r disabled:cursor-not-allowed transition-all\",\n              children: [loading ? 'Wird eingestempelt...' : 'Einstempeln', /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                className: \"inline h-5 w-5 ml-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 5\n    }, this);\n  };\n  const renderMessage = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center min-h-screen p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8 text-center\",\n        children: [messageType === 'success' && /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          className: \"h-24 w-24 text-ios-green mx-auto mb-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this), messageType === 'error' && /*#__PURE__*/_jsxDEV(XCircleIcon, {\n          className: \"h-24 w-24 text-ios-red mx-auto mb-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this), messageType === 'warning' && /*#__PURE__*/_jsxDEV(ExclamationCircleIcon, {\n          className: \"h-24 w-24 text-ios-orange mx-auto mb-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-semibold text-ios-gray-900 whitespace-pre-line\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 text-sm text-ios-gray-500\",\n          children: \"Automatische Weiterleitung in 5 Sekunden...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 397,\n    columnNumber: 5\n  }, this);\n\n  // Render based on current step\n  switch (step) {\n    case 'status':\n      return renderStatus();\n    case 'position':\n      return renderPositionSelection();\n    case 'success':\n    case 'error':\n      return renderMessage();\n    default:\n      return renderCodeInput();\n  }\n};\n_s(KioskMode, \"nBRd9LFC+v331M67f4hWMjtAt20=\");\n_c = KioskMode;\nexport default KioskMode;\nvar _c;\n$RefreshReg$(_c, \"KioskMode\");","map":{"version":3,"names":["React","useState","useEffect","useRef","api","format","de","ClockIcon","UserCircleIcon","CheckCircleIcon","XCircleIcon","ArrowLeftIcon","ArrowRightIcon","ExclamationCircleIcon","jsxDEV","_jsxDEV","KioskMode","_s","currentTime","setCurrentTime","Date","personalCode","setPersonalCode","step","setStep","staffInfo","setStaffInfo","positions","setPositions","selectedPosition","setSelectedPosition","selectedEvent","setSelectedEvent","message","setMessage","messageType","setMessageType","loading","setLoading","kioskToken","process","env","REACT_APP_KIOSK_TOKEN","localStorage","getItem","inputRef","resetTimeoutRef","timer","setInterval","clearInterval","loadPositions","current","focus","setTimeout","resetToStart","clearTimeout","response","get","data","error","console","handleCodeSubmit","e","preventDefault","length","is_clocked_in","_error$response","_error$response$data","handleClockIn","post","personal_code","position_id","event_id","kiosk_token","_error$response2","_error$response2$data","handleClockOut","summary","total_hours","break_minutes","prev","_error$response3","_error$response3$data","renderCodeInput","className","children","fileName","_jsxFileName","lineNumber","columnNumber","locale","onSubmit","ref","type","value","onChange","target","toUpperCase","placeholder","maxLength","autoComplete","disabled","map","key","onClick","_inputRef$current","slice","renderStatus","_staffInfo$staff","_staffInfo$staff2","staff","profile_image","src","alt","name","current_entry","clock_in","position_name","event_name","renderPositionSelection","_staffInfo$today_even","position","id","style","backgroundColor","color","today_events","event","renderMessage","_c","$RefreshReg$"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/kiosk/KioskMode.js"],"sourcesContent":["// frontend/src/pages/kiosk/KioskMode.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport api from '../../services/api';\r\nimport { format } from 'date-fns';\r\nimport { de } from 'date-fns/locale';\r\nimport {\r\n  ClockIcon,\r\n  UserCircleIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ArrowLeftIcon,\r\n  ArrowRightIcon,\r\n  ExclamationCircleIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst KioskMode = () => {\r\n  const [currentTime, setCurrentTime] = useState(new Date());\r\n  const [personalCode, setPersonalCode] = useState('');\r\n  const [step, setStep] = useState('code'); // 'code', 'status', 'position', 'success', 'error'\r\n  const [staffInfo, setStaffInfo] = useState(null);\r\n  const [positions, setPositions] = useState([]);\r\n  const [selectedPosition, setSelectedPosition] = useState(null);\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState(''); // 'success', 'error', 'warning'\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  const kioskToken = process.env.REACT_APP_KIOSK_TOKEN || localStorage.getItem('kiosk_token');\r\n  const inputRef = useRef(null);\r\n  const resetTimeoutRef = useRef(null);\r\n\r\n  // Update clock every second\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setCurrentTime(new Date());\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  // Load positions on mount\r\n  useEffect(() => {\r\n    loadPositions();\r\n  }, []);\r\n\r\n  // Auto-focus input\r\n  useEffect(() => {\r\n    if (step === 'code' && inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [step]);\r\n\r\n  // Auto-reset after success/error\r\n  useEffect(() => {\r\n    if (step === 'success' || step === 'error') {\r\n      resetTimeoutRef.current = setTimeout(() => {\r\n        resetToStart();\r\n      }, 5000);\r\n    }\r\n    return () => {\r\n      if (resetTimeoutRef.current) {\r\n        clearTimeout(resetTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [step]);\r\n\r\n  const loadPositions = async () => {\r\n    try {\r\n      const response = await api.get('/timeclock/positions');\r\n      setPositions(response.data.positions);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Positionen:', error);\r\n    }\r\n  };\r\n\r\n  const resetToStart = () => {\r\n    setStep('code');\r\n    setPersonalCode('');\r\n    setStaffInfo(null);\r\n    setSelectedPosition(null);\r\n    setSelectedEvent(null);\r\n    setMessage('');\r\n    setMessageType('');\r\n  };\r\n\r\n  const handleCodeSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!personalCode || personalCode.length < 6) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get(`/timeclock/kiosk/status/${personalCode}`);\r\n      setStaffInfo(response.data);\r\n      \r\n      if (response.data.is_clocked_in) {\r\n        // Mitarbeiter ist eingestempelt - zeige Status zum Ausstempeln\r\n        setStep('status');\r\n      } else {\r\n        // Mitarbeiter ist nicht eingestempelt - zeige Positionsauswahl\r\n        setStep('position');\r\n      }\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Ungültiger Personal-Code');\r\n      setMessageType('error');\r\n      setStep('error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClockIn = async () => {\r\n    if (!selectedPosition) {\r\n      setMessage('Bitte wählen Sie eine Position');\r\n      setMessageType('warning');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.post('/timeclock/kiosk/clock-in', {\r\n        personal_code: personalCode,\r\n        position_id: selectedPosition,\r\n        event_id: selectedEvent,\r\n        kiosk_token: kioskToken\r\n      });\r\n\r\n      setMessage(response.data.message);\r\n      setMessageType('success');\r\n      setStep('success');\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Fehler beim Einstempeln');\r\n      setMessageType('error');\r\n      setStep('error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClockOut = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.post('/timeclock/kiosk/clock-out', {\r\n        personal_code: personalCode,\r\n        kiosk_token: kioskToken\r\n      });\r\n\r\n      setMessage(response.data.message);\r\n      setMessageType('success');\r\n      setStep('success');\r\n\r\n      // Zeige Arbeitszusammenfassung\r\n      if (response.data.summary) {\r\n        const { total_hours, break_minutes } = response.data.summary;\r\n        setMessage(prev => `${prev}\\n\\nArbeitszeit: ${total_hours} Stunden${break_minutes > 0 ? ` (inkl. ${break_minutes} Min. Pause)` : ''}`);\r\n      }\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Fehler beim Ausstempeln');\r\n      setMessageType('error');\r\n      setStep('error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderCodeInput = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-8\">\r\n      <div className=\"w-full max-w-md\">\r\n        {/* Clock Display */}\r\n        <div className=\"text-center mb-12\">\r\n          <div className=\"text-6xl font-light text-white mb-2\">\r\n            {format(currentTime, 'HH:mm:ss')}\r\n          </div>\r\n          <div className=\"text-xl text-white/80\">\r\n            {format(currentTime, 'EEEE, d. MMMM yyyy', { locale: de })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Input Card */}\r\n        <div className=\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\">\r\n          <div className=\"text-center mb-8\">\r\n            <ClockIcon className=\"h-16 w-16 text-ios-blue mx-auto mb-4\" />\r\n            <h1 className=\"text-3xl font-bold text-ios-gray-900\">Stempeluhr</h1>\r\n            <p className=\"text-ios-gray-600 mt-2\">Geben Sie Ihren Personal-Code ein</p>\r\n          </div>\r\n\r\n          <form onSubmit={handleCodeSubmit}>\r\n            <input\r\n              ref={inputRef}\r\n              type=\"text\"\r\n              value={personalCode}\r\n              onChange={(e) => setPersonalCode(e.target.value.toUpperCase())}\r\n              placeholder=\"Personal-Code\"\r\n              className=\"w-full px-6 py-4 text-2xl text-center font-mono bg-ios-gray-100 rounded-2xl \r\n                       border-2 border-ios-gray-300 focus:border-ios-blue focus:outline-none \r\n                       focus:ring-4 focus:ring-ios-blue/20 transition-all\"\r\n              maxLength=\"20\"\r\n              autoComplete=\"off\"\r\n              disabled={loading}\r\n            />\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || personalCode.length < 6}\r\n              className=\"w-full mt-6 py-4 bg-ios-blue text-white text-xl font-semibold rounded-2xl\r\n                       hover:bg-blue-600 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\r\n                       transition-all duration-200\"\r\n            >\r\n              {loading ? 'Wird geprüft...' : 'Weiter'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Numeric Keypad for Touch */}\r\n        <div className=\"grid grid-cols-3 gap-3 mt-6\">\r\n          {[1, 2, 3, 4, 5, 6, 7, 8, 9, 'C', 0, '←'].map((key) => (\r\n            <button\r\n              key={key}\r\n              onClick={() => {\r\n                if (key === 'C') {\r\n                  setPersonalCode('');\r\n                } else if (key === '←') {\r\n                  setPersonalCode(prev => prev.slice(0, -1));\r\n                } else {\r\n                  setPersonalCode(prev => prev + key);\r\n                }\r\n                inputRef.current?.focus();\r\n              }}\r\n              className=\"bg-white/90 hover:bg-white text-ios-gray-900 text-2xl font-semibold \r\n                       py-4 rounded-2xl shadow-lg active:scale-95 transition-all\"\r\n            >\r\n              {key}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderStatus = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-8\">\r\n      <div className=\"w-full max-w-md\">\r\n        <div className=\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\">\r\n          {/* Staff Info */}\r\n          <div className=\"text-center mb-8\">\r\n            {staffInfo?.staff?.profile_image ? (\r\n              <img\r\n                src={`/uploads/profiles/${staffInfo.staff.profile_image}`}\r\n                alt={staffInfo.staff.name}\r\n                className=\"h-24 w-24 rounded-full mx-auto mb-4 border-4 border-white shadow-lg\"\r\n              />\r\n            ) : (\r\n              <UserCircleIcon className=\"h-24 w-24 text-ios-gray-400 mx-auto mb-4\" />\r\n            )}\r\n            <h2 className=\"text-2xl font-bold text-ios-gray-900\">{staffInfo?.staff?.name}</h2>\r\n            <p className=\"text-lg text-ios-gray-600\">{personalCode}</p>\r\n          </div>\r\n\r\n          {/* Current Status */}\r\n          {staffInfo?.is_clocked_in && staffInfo?.current_entry && (\r\n            <div className=\"bg-ios-green/10 rounded-2xl p-6 mb-6\">\r\n              <div className=\"flex items-center justify-center space-x-3 mb-3\">\r\n                <CheckCircleIcon className=\"h-6 w-6 text-ios-green\" />\r\n                <span className=\"text-lg font-semibold text-ios-gray-900\">Eingestempelt</span>\r\n              </div>\r\n              <div className=\"text-center space-y-1\">\r\n                <p className=\"text-sm text-ios-gray-600\">\r\n                  Seit: {format(new Date(staffInfo.current_entry.clock_in), 'HH:mm')} Uhr\r\n                </p>\r\n                <p className=\"text-sm text-ios-gray-600\">\r\n                  Position: {staffInfo.current_entry.position_name}\r\n                </p>\r\n                {staffInfo.current_entry.event_name && (\r\n                  <p className=\"text-sm text-ios-gray-600\">\r\n                    Event: {staffInfo.current_entry.event_name}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"space-y-3\">\r\n            {staffInfo?.is_clocked_in ? (\r\n              <button\r\n                onClick={handleClockOut}\r\n                disabled={loading}\r\n                className=\"w-full py-4 bg-ios-red text-white text-xl font-semibold rounded-2xl\r\n                         hover:bg-red-600 active:scale-95 disabled:opacity-50 \r\n                         transition-all duration-200\"\r\n              >\r\n                {loading ? 'Wird ausgestempelt...' : 'Ausstempeln'}\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={() => setStep('position')}\r\n                disabled={loading}\r\n                className=\"w-full py-4 bg-ios-green text-white text-xl font-semibold rounded-2xl\r\n                         hover:bg-green-600 active:scale-95 disabled:opacity-50 \r\n                         transition-all duration-200\"\r\n              >\r\n                Einstempeln\r\n              </button>\r\n            )}\r\n            \r\n            <button\r\n              onClick={resetToStart}\r\n              className=\"w-full py-3 bg-ios-gray-200 text-ios-gray-700 text-lg font-semibold \r\n                       rounded-2xl hover:bg-ios-gray-300 active:scale-95 transition-all duration-200\"\r\n            >\r\n              Abbrechen\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderPositionSelection = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-8\">\r\n      <div className=\"w-full max-w-2xl\">\r\n        <div className=\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\">\r\n          <h2 className=\"text-2xl font-bold text-ios-gray-900 text-center mb-6\">\r\n            Position wählen\r\n          </h2>\r\n\r\n          {/* Positions Grid */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8\">\r\n            {positions.map((position) => (\r\n              <button\r\n                key={position.id}\r\n                onClick={() => setSelectedPosition(position.id)}\r\n                className={`p-6 rounded-2xl border-2 transition-all duration-200 ${\r\n                  selectedPosition === position.id\r\n                    ? 'border-ios-blue bg-ios-blue/10'\r\n                    : 'border-ios-gray-300 hover:border-ios-gray-400'\r\n                }`}\r\n              >\r\n                <div\r\n                  className=\"h-3 w-3 rounded-full mx-auto mb-3\"\r\n                  style={{ backgroundColor: position.color }}\r\n                />\r\n                <p className=\"font-semibold text-ios-gray-900\">{position.name}</p>\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Events (if available) */}\r\n          {staffInfo?.today_events?.length > 0 && (\r\n            <div className=\"mb-8\">\r\n              <h3 className=\"text-lg font-semibold text-ios-gray-900 mb-3\">\r\n                Heutige Veranstaltung (optional)\r\n              </h3>\r\n              <div className=\"space-y-2\">\r\n                {staffInfo.today_events.map((event) => (\r\n                  <button\r\n                    key={event.id}\r\n                    onClick={() => setSelectedEvent(event.id === selectedEvent ? null : event.id)}\r\n                    className={`w-full p-4 rounded-xl border-2 text-left transition-all ${\r\n                      selectedEvent === event.id\r\n                        ? 'border-ios-purple bg-ios-purple/10'\r\n                        : 'border-ios-gray-300 hover:border-ios-gray-400'\r\n                    }`}\r\n                  >\r\n                    <p className=\"font-medium text-ios-gray-900\">{event.name}</p>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex space-x-3\">\r\n            <button\r\n              onClick={resetToStart}\r\n              className=\"flex-1 py-3 bg-ios-gray-200 text-ios-gray-700 font-semibold \r\n                       rounded-2xl hover:bg-ios-gray-300 active:scale-95 transition-all\"\r\n            >\r\n              <ArrowLeftIcon className=\"inline h-5 w-5 mr-2\" />\r\n              Zurück\r\n            </button>\r\n            <button\r\n              onClick={handleClockIn}\r\n              disabled={!selectedPosition || loading}\r\n              className=\"flex-1 py-3 bg-ios-green text-white font-semibold rounded-2xl\r\n                       hover:bg-green-600 active:scale-95 disabled:opacity-50 \r\n                       disabled:cursor-not-allowed transition-all\"\r\n            >\r\n              {loading ? 'Wird eingestempelt...' : 'Einstempeln'}\r\n              <ArrowRightIcon className=\"inline h-5 w-5 ml-2\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderMessage = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-8\">\r\n      <div className=\"w-full max-w-md\">\r\n        <div className=\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8 text-center\">\r\n          {messageType === 'success' && (\r\n            <CheckCircleIcon className=\"h-24 w-24 text-ios-green mx-auto mb-6\" />\r\n          )}\r\n          {messageType === 'error' && (\r\n            <XCircleIcon className=\"h-24 w-24 text-ios-red mx-auto mb-6\" />\r\n          )}\r\n          {messageType === 'warning' && (\r\n            <ExclamationCircleIcon className=\"h-24 w-24 text-ios-orange mx-auto mb-6\" />\r\n          )}\r\n          \r\n          <p className=\"text-xl font-semibold text-ios-gray-900 whitespace-pre-line\">\r\n            {message}\r\n          </p>\r\n          \r\n          <div className=\"mt-8 text-sm text-ios-gray-500\">\r\n            Automatische Weiterleitung in 5 Sekunden...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Render based on current step\r\n  switch (step) {\r\n    case 'status':\r\n      return renderStatus();\r\n    case 'position':\r\n      return renderPositionSelection();\r\n    case 'success':\r\n    case 'error':\r\n      return renderMessage();\r\n    default:\r\n      return renderCodeInput();\r\n  }\r\n};\r\n\r\nexport default KioskMode;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}