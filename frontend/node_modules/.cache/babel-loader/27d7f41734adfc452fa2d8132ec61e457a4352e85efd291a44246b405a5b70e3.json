{"ast":null,"code":"import _objectSpread from\"C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/admin/MessageCompose.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import api from'../../services/api';import toast from'react-hot-toast';import{PaperAirplaneIcon,XMarkIcon,UserGroupIcon,ExclamationCircleIcon,MagnifyingGlassIcon,CheckIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MessageCompose=()=>{const navigate=useNavigate();const[sending,setSending]=useState(false);const[recipients,setRecipients]=useState([]);const[selectedRecipients,setSelectedRecipients]=useState([]);const[searchQuery,setSearchQuery]=useState('');const[sendToAll,setSendToAll]=useState(false);const[message,setMessage]=useState({subject:'',content:'',priority:'normal'});useEffect(()=>{loadRecipients();},[searchQuery]);const loadRecipients=async()=>{try{const params=searchQuery?\"?search=\".concat(searchQuery):'';const response=await api.get(\"/messages/recipients\".concat(params));setRecipients(response.data.recipients);}catch(error){console.error('Fehler beim Laden der Empfänger:',error);}};const handleSubmit=async e=>{e.preventDefault();if(!message.subject.trim()){toast.error('Bitte geben Sie einen Betreff ein');return;}if(!message.content.trim()){toast.error('Bitte geben Sie einen Nachrichtentext ein');return;}if(!sendToAll&&selectedRecipients.length===0){toast.error('Bitte wählen Sie mindestens einen Empfänger');return;}setSending(true);try{await api.post('/messages/send',{subject:message.subject,content:message.content,priority:message.priority,send_to_all:sendToAll,recipient_ids:sendToAll?[]:selectedRecipients.map(r=>r.id)});toast.success('Nachricht erfolgreich gesendet');navigate('/admin/messages');}catch(error){var _error$response,_error$response$data;console.error('Fehler beim Senden der Nachricht:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Fehler beim Senden der Nachricht');}finally{setSending(false);}};const toggleRecipient=recipient=>{setSelectedRecipients(prev=>{const exists=prev.find(r=>r.id===recipient.id);if(exists){return prev.filter(r=>r.id!==recipient.id);}else{return[...prev,recipient];}});};const selectAllVisible=()=>{const newRecipients=[...selectedRecipients];recipients.forEach(recipient=>{if(!newRecipients.find(r=>r.id===recipient.id)){newRecipients.push(recipient);}});setSelectedRecipients(newRecipients);};const clearSelection=()=>{setSelectedRecipients([]);setSendToAll(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-ios-gray-900\",children:\"Neue Nachricht\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-600\",children:\"Senden Sie eine Nachricht an Mitarbeiter\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-ios-gray-900 mb-4\",children:\"Empf\\xE4nger\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center mb-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:sendToAll,onChange:e=>{setSendToAll(e.target.checked);if(e.target.checked){setSelectedRecipients([]);}},className:\"rounded border-ios-gray-300 text-ios-blue focus:ring-ios-blue\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm font-medium text-ios-gray-700\",children:\"An alle Mitarbeiter senden\"})]})}),!sendToAll&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-4\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-ios-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),placeholder:\"Mitarbeiter suchen...\",className:\"ios-input pl-10\"})]}),selectedRecipients.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-ios-gray-700\",children:[\"Ausgew\\xE4hlt (\",selectedRecipients.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearSelection,className:\"text-sm text-ios-red hover:text-red-600\",children:\"Alle entfernen\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:selectedRecipients.map(recipient=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-ios-blue/10 text-ios-blue\",children:[recipient.name,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>toggleRecipient(recipient),className:\"ml-2 hover:text-ios-blue\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4\"})})]},recipient.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 max-h-60 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:selectAllVisible,className:\"w-full text-left px-3 py-2 text-sm text-ios-blue hover:bg-ios-gray-50 rounded-lg\",children:\"Alle sichtbaren ausw\\xE4hlen\"}),recipients.map(recipient=>{const isSelected=selectedRecipients.find(r=>r.id===recipient.id);return/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>toggleRecipient(recipient),className:\"w-full text-left px-3 py-2 rounded-lg transition-colors \".concat(isSelected?'bg-ios-blue/10 text-ios-blue':'hover:bg-ios-gray-50'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:recipient.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-ios-gray-500 ml-2\",children:recipient.personal_code})]}),isSelected&&/*#__PURE__*/_jsx(CheckIcon,{className:\"h-5 w-5 text-ios-blue\"})]})},recipient.id);})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-ios-gray-900 mb-4\",children:\"Nachricht\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Priorit\\xE4t\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"low\",checked:message.priority==='low',onChange:e=>setMessage(_objectSpread(_objectSpread({},message),{},{priority:e.target.value})),className:\"text-ios-blue focus:ring-ios-blue\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm\",children:\"Niedrig\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"normal\",checked:message.priority==='normal',onChange:e=>setMessage(_objectSpread(_objectSpread({},message),{},{priority:e.target.value})),className:\"text-ios-blue focus:ring-ios-blue\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm\",children:\"Normal\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"high\",checked:message.priority==='high',onChange:e=>setMessage(_objectSpread(_objectSpread({},message),{},{priority:e.target.value})),className:\"text-ios-blue focus:ring-ios-blue\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm\",children:\"Hoch\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Betreff\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message.subject,onChange:e=>setMessage(_objectSpread(_objectSpread({},message),{},{subject:e.target.value})),className:\"ios-input\",placeholder:\"Betreff eingeben...\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Nachricht\"}),/*#__PURE__*/_jsx(\"textarea\",{value:message.content,onChange:e=>setMessage(_objectSpread(_objectSpread({},message),{},{content:e.target.value})),rows:10,className:\"ios-input resize-none\",placeholder:\"Nachricht eingeben...\",required:true}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-ios-gray-500\",children:[message.content.length,\" / 5000 Zeichen\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/admin/messages'),className:\"ios-button-secondary\",children:\"Abbrechen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[message.priority==='high'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-ios-orange\",children:[/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:\"h-5 w-5 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Hohe Priorit\\xE4t\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:sending,className:\"ios-button-primary flex items-center\",children:[/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-5 w-5 mr-2\"}),sending?'Wird gesendet...':'Nachricht senden']})]})]})]})]});};export default MessageCompose;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","api","toast","PaperAirplaneIcon","XMarkIcon","UserGroupIcon","ExclamationCircleIcon","MagnifyingGlassIcon","CheckIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MessageCompose","navigate","sending","setSending","recipients","setRecipients","selectedRecipients","setSelectedRecipients","searchQuery","setSearchQuery","sendToAll","setSendToAll","message","setMessage","subject","content","priority","loadRecipients","params","concat","response","get","data","error","console","handleSubmit","e","preventDefault","trim","length","post","send_to_all","recipient_ids","map","r","id","success","_error$response","_error$response$data","toggleRecipient","recipient","prev","exists","find","filter","selectAllVisible","newRecipients","forEach","push","clearSelection","className","children","onSubmit","type","checked","onChange","target","value","placeholder","onClick","name","isSelected","personal_code","_objectSpread","required","rows","disabled"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/admin/MessageCompose.js"],"sourcesContent":["// frontend/src/pages/admin/MessageCompose.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  PaperAirplaneIcon,\r\n  XMarkIcon,\r\n  UserGroupIcon,\r\n  ExclamationCircleIcon,\r\n  MagnifyingGlassIcon,\r\n  CheckIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst MessageCompose = () => {\r\n  const navigate = useNavigate();\r\n  const [sending, setSending] = useState(false);\r\n  const [recipients, setRecipients] = useState([]);\r\n  const [selectedRecipients, setSelectedRecipients] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [sendToAll, setSendToAll] = useState(false);\r\n  const [message, setMessage] = useState({\r\n    subject: '',\r\n    content: '',\r\n    priority: 'normal'\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadRecipients();\r\n  }, [searchQuery]);\r\n\r\n  const loadRecipients = async () => {\r\n    try {\r\n      const params = searchQuery ? `?search=${searchQuery}` : '';\r\n      const response = await api.get(`/messages/recipients${params}`);\r\n      setRecipients(response.data.recipients);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Empfänger:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!message.subject.trim()) {\r\n      toast.error('Bitte geben Sie einen Betreff ein');\r\n      return;\r\n    }\r\n\r\n    if (!message.content.trim()) {\r\n      toast.error('Bitte geben Sie einen Nachrichtentext ein');\r\n      return;\r\n    }\r\n\r\n    if (!sendToAll && selectedRecipients.length === 0) {\r\n      toast.error('Bitte wählen Sie mindestens einen Empfänger');\r\n      return;\r\n    }\r\n\r\n    setSending(true);\r\n\r\n    try {\r\n      await api.post('/messages/send', {\r\n        subject: message.subject,\r\n        content: message.content,\r\n        priority: message.priority,\r\n        send_to_all: sendToAll,\r\n        recipient_ids: sendToAll ? [] : selectedRecipients.map(r => r.id)\r\n      });\r\n\r\n      toast.success('Nachricht erfolgreich gesendet');\r\n      navigate('/admin/messages');\r\n    } catch (error) {\r\n      console.error('Fehler beim Senden der Nachricht:', error);\r\n      toast.error(error.response?.data?.message || 'Fehler beim Senden der Nachricht');\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const toggleRecipient = (recipient) => {\r\n    setSelectedRecipients(prev => {\r\n      const exists = prev.find(r => r.id === recipient.id);\r\n      if (exists) {\r\n        return prev.filter(r => r.id !== recipient.id);\r\n      } else {\r\n        return [...prev, recipient];\r\n      }\r\n    });\r\n  };\r\n\r\n  const selectAllVisible = () => {\r\n    const newRecipients = [...selectedRecipients];\r\n    recipients.forEach(recipient => {\r\n      if (!newRecipients.find(r => r.id === recipient.id)) {\r\n        newRecipients.push(recipient);\r\n      }\r\n    });\r\n    setSelectedRecipients(newRecipients);\r\n  };\r\n\r\n  const clearSelection = () => {\r\n    setSelectedRecipients([]);\r\n    setSendToAll(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-4xl mx-auto\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-ios-gray-900\">Neue Nachricht</h1>\r\n        <p className=\"text-ios-gray-600\">Senden Sie eine Nachricht an Mitarbeiter</p>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Recipients */}\r\n        <div className=\"ios-card p-6\">\r\n          <h2 className=\"text-lg font-semibold text-ios-gray-900 mb-4\">Empfänger</h2>\r\n          \r\n          <div className=\"flex items-center mb-4\">\r\n            <label className=\"flex items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={sendToAll}\r\n                onChange={(e) => {\r\n                  setSendToAll(e.target.checked);\r\n                  if (e.target.checked) {\r\n                    setSelectedRecipients([]);\r\n                  }\r\n                }}\r\n                className=\"rounded border-ios-gray-300 text-ios-blue focus:ring-ios-blue\"\r\n              />\r\n              <span className=\"ml-2 text-sm font-medium text-ios-gray-700\">\r\n                An alle Mitarbeiter senden\r\n              </span>\r\n            </label>\r\n          </div>\r\n\r\n          {!sendToAll && (\r\n            <>\r\n              {/* Search */}\r\n              <div className=\"relative mb-4\">\r\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-ios-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  placeholder=\"Mitarbeiter suchen...\"\r\n                  className=\"ios-input pl-10\"\r\n                />\r\n              </div>\r\n\r\n              {/* Selected Recipients */}\r\n              {selectedRecipients.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-ios-gray-700\">\r\n                      Ausgewählt ({selectedRecipients.length})\r\n                    </span>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={clearSelection}\r\n                      className=\"text-sm text-ios-red hover:text-red-600\"\r\n                    >\r\n                      Alle entfernen\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {selectedRecipients.map((recipient) => (\r\n                      <span\r\n                        key={recipient.id}\r\n                        className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-ios-blue/10 text-ios-blue\"\r\n                      >\r\n                        {recipient.name}\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => toggleRecipient(recipient)}\r\n                          className=\"ml-2 hover:text-ios-blue\"\r\n                        >\r\n                          <XMarkIcon className=\"h-4 w-4\" />\r\n                        </button>\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Recipient List */}\r\n              <div className=\"space-y-1 max-h-60 overflow-y-auto\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={selectAllVisible}\r\n                  className=\"w-full text-left px-3 py-2 text-sm text-ios-blue hover:bg-ios-gray-50 rounded-lg\"\r\n                >\r\n                  Alle sichtbaren auswählen\r\n                </button>\r\n                {recipients.map((recipient) => {\r\n                  const isSelected = selectedRecipients.find(r => r.id === recipient.id);\r\n                  return (\r\n                    <button\r\n                      key={recipient.id}\r\n                      type=\"button\"\r\n                      onClick={() => toggleRecipient(recipient)}\r\n                      className={`w-full text-left px-3 py-2 rounded-lg transition-colors ${\r\n                        isSelected \r\n                          ? 'bg-ios-blue/10 text-ios-blue' \r\n                          : 'hover:bg-ios-gray-50'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <span className=\"font-medium\">{recipient.name}</span>\r\n                          <span className=\"text-sm text-ios-gray-500 ml-2\">\r\n                            {recipient.personal_code}\r\n                          </span>\r\n                        </div>\r\n                        {isSelected && <CheckIcon className=\"h-5 w-5 text-ios-blue\" />}\r\n                      </div>\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Message Details */}\r\n        <div className=\"ios-card p-6\">\r\n          <h2 className=\"text-lg font-semibold text-ios-gray-900 mb-4\">Nachricht</h2>\r\n          \r\n          <div className=\"space-y-4\">\r\n            {/* Priority */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">\r\n                Priorität\r\n              </label>\r\n              <div className=\"flex space-x-4\">\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"low\"\r\n                    checked={message.priority === 'low'}\r\n                    onChange={(e) => setMessage({ ...message, priority: e.target.value })}\r\n                    className=\"text-ios-blue focus:ring-ios-blue\"\r\n                  />\r\n                  <span className=\"ml-2 text-sm\">Niedrig</span>\r\n                </label>\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"normal\"\r\n                    checked={message.priority === 'normal'}\r\n                    onChange={(e) => setMessage({ ...message, priority: e.target.value })}\r\n                    className=\"text-ios-blue focus:ring-ios-blue\"\r\n                  />\r\n                  <span className=\"ml-2 text-sm\">Normal</span>\r\n                </label>\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"high\"\r\n                    checked={message.priority === 'high'}\r\n                    onChange={(e) => setMessage({ ...message, priority: e.target.value })}\r\n                    className=\"text-ios-blue focus:ring-ios-blue\"\r\n                  />\r\n                  <span className=\"ml-2 text-sm\">Hoch</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Subject */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">\r\n                Betreff\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={message.subject}\r\n                onChange={(e) => setMessage({ ...message, subject: e.target.value })}\r\n                className=\"ios-input\"\r\n                placeholder=\"Betreff eingeben...\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">\r\n                Nachricht\r\n              </label>\r\n              <textarea\r\n                value={message.content}\r\n                onChange={(e) => setMessage({ ...message, content: e.target.value })}\r\n                rows={10}\r\n                className=\"ios-input resize-none\"\r\n                placeholder=\"Nachricht eingeben...\"\r\n                required\r\n              />\r\n              <p className=\"mt-1 text-sm text-ios-gray-500\">\r\n                {message.content.length} / 5000 Zeichen\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => navigate('/admin/messages')}\r\n            className=\"ios-button-secondary\"\r\n          >\r\n            Abbrechen\r\n          </button>\r\n          \r\n          <div className=\"flex items-center space-x-3\">\r\n            {message.priority === 'high' && (\r\n              <div className=\"flex items-center text-ios-orange\">\r\n                <ExclamationCircleIcon className=\"h-5 w-5 mr-2\" />\r\n                <span className=\"text-sm\">Hohe Priorität</span>\r\n              </div>\r\n            )}\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={sending}\r\n              className=\"ios-button-primary flex items-center\"\r\n            >\r\n              <PaperAirplaneIcon className=\"h-5 w-5 mr-2\" />\r\n              {sending ? 'Wird gesendet...' : 'Nachricht senden'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageCompose;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}