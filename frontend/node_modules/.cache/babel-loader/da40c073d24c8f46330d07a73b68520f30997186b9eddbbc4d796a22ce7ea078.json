{"ast":null,"code":"import React from'react';import{Navigate,Outlet}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import LoadingScreen from'./LoadingScreen';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requireAdmin=false}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(LoadingScreen,{});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(requireAdmin&&user.role!=='admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children||/*#__PURE__*/_jsx(Outlet,{});};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","Outlet","useAuth","LoadingScreen","jsx","_jsx","ProtectedRoute","_ref","children","requireAdmin","user","loading","to","replace","role"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/components/common/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\r\nimport { Navigate, Outlet } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport LoadingScreen from './LoadingScreen';\r\n\r\nconst ProtectedRoute = ({ children, requireAdmin = false }) => {\r\n  const { user, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  if (requireAdmin && user.role !== 'admin') {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n\r\n  return children || <Outlet />;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,MAAM,KAAQ,kBAAkB,CACnD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAwC,IAAvC,CAAEC,QAAQ,CAAEC,YAAY,CAAG,KAAM,CAAC,CAAAF,IAAA,CACxD,KAAM,CAAEG,IAAI,CAAEC,OAAQ,CAAC,CAAGT,OAAO,CAAC,CAAC,CAEnC,GAAIS,OAAO,CAAE,CACX,mBAAON,IAAA,CAACF,aAAa,GAAE,CAAC,CAC1B,CAEA,GAAI,CAACO,IAAI,CAAE,CACT,mBAAOL,IAAA,CAACL,QAAQ,EAACY,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,GAAIJ,YAAY,EAAIC,IAAI,CAACI,IAAI,GAAK,OAAO,CAAE,CACzC,mBAAOT,IAAA,CAACL,QAAQ,EAACY,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAC,CAC7C,CAEA,MAAO,CAAAL,QAAQ,eAAIH,IAAA,CAACJ,MAAM,GAAE,CAAC,CAC/B,CAAC,CAED,cAAe,CAAAK,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}