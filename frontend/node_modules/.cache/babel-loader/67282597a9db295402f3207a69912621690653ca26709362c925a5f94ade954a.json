{"ast":null,"code":"// frontend/src/pages/kiosk/KioskMode.js\nimport React,{useState,useEffect,useRef}from'react';import api from'../../services/api';import{format}from'date-fns';import{de}from'date-fns/locale';import{ClockIcon,UserCircleIcon,CheckCircleIcon,XCircleIcon,ArrowLeftIcon,ArrowRightIcon,ExclamationCircleIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const KioskMode=()=>{const[currentTime,setCurrentTime]=useState(new Date());const[personalCode,setPersonalCode]=useState('');const[step,setStep]=useState('code');// 'code', 'status', 'position', 'success', 'error'\nconst[staffInfo,setStaffInfo]=useState(null);const[positions,setPositions]=useState([]);const[selectedPosition,setSelectedPosition]=useState(null);const[selectedEvent,setSelectedEvent]=useState(null);const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');// 'success', 'error', 'warning'\nconst[loading,setLoading]=useState(false);const kioskToken=process.env.REACT_APP_KIOSK_TOKEN||localStorage.getItem('kiosk_token');const inputRef=useRef(null);const resetTimeoutRef=useRef(null);// Update clock every second\nuseEffect(()=>{const timer=setInterval(()=>{setCurrentTime(new Date());},1000);return()=>clearInterval(timer);},[]);// Load positions on mount\nuseEffect(()=>{loadPositions();},[]);// Auto-focus input\nuseEffect(()=>{if(step==='code'&&inputRef.current){inputRef.current.focus();}},[step]);// Auto-reset after success/error\nuseEffect(()=>{if(step==='success'||step==='error'){resetTimeoutRef.current=setTimeout(()=>{resetToStart();},5000);}return()=>{if(resetTimeoutRef.current){clearTimeout(resetTimeoutRef.current);}};},[step]);const loadPositions=async()=>{try{const response=await api.get('/timeclock/positions');setPositions(response.data.positions);}catch(error){console.error('Fehler beim Laden der Positionen:',error);}};const resetToStart=()=>{setStep('code');setPersonalCode('');setStaffInfo(null);setSelectedPosition(null);setSelectedEvent(null);setMessage('');setMessageType('');};const handleCodeSubmit=async e=>{e.preventDefault();if(!personalCode||personalCode.length<3)return;setLoading(true);try{const response=await api.get(\"/timeclock/kiosk/status/\".concat(personalCode));setStaffInfo(response.data);if(response.data.is_clocked_in){// Mitarbeiter ist eingestempelt - zeige Status zum Ausstempeln\nsetStep('status');}else{// Mitarbeiter ist nicht eingestempelt - zeige Positionsauswahl\nsetStep('position');}}catch(error){var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Ungültiger Personal-Code');setMessageType('error');setStep('error');}finally{setLoading(false);}};const handleClockIn=async()=>{if(!selectedPosition){setMessage('Bitte wählen Sie eine Position');setMessageType('warning');return;}setLoading(true);try{const requestData={personal_code:personalCode,position_id:selectedPosition,kiosk_token:kioskToken};// Nur event_id hinzufügen, wenn es einen Wert hat\nif(selectedEvent){requestData.event_id=selectedEvent;}const response=await api.post('/timeclock/kiosk/clock-in',requestData);setMessage(response.data.message);setMessageType('success');setStep('success');}catch(error){var _error$response2,_error$response2$data;setMessage(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Fehler beim Einstempeln');setMessageType('error');setStep('error');}finally{setLoading(false);}};const handleClockOut=async()=>{setLoading(true);try{const requestData={personal_code:personalCode,kiosk_token:kioskToken};const response=await api.post('/timeclock/kiosk/clock-out',requestData);setMessage(response.data.message);setMessageType('success');setStep('success');// Zeige Arbeitszusammenfassung\nif(response.data.summary){const{total_hours,break_minutes}=response.data.summary;setMessage(prev=>\"\".concat(prev,\"\\n\\nArbeitszeit: \").concat(total_hours,\" Stunden\").concat(break_minutes>0?\" (inkl. \".concat(break_minutes,\" Min. Pause)\"):''));}}catch(error){var _error$response3,_error$response3$data;setMessage(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Fehler beim Ausstempeln');setMessageType('error');setStep('error');}finally{setLoading(false);}};const renderCodeInput=()=>/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl font-light text-white mb-2\",children:format(currentTime,'HH:mm:ss')}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl text-white/80\",children:format(currentTime,'EEEE, d. MMMM yyyy',{locale:de})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-16 w-16 text-ios-blue mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-ios-gray-900\",children:\"Stempeluhr\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-600 mt-2\",children:\"Geben Sie Ihren Personal-Code ein\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCodeSubmit,children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:personalCode,onChange:e=>setPersonalCode(e.target.value.toUpperCase()),placeholder:\"Personal-Code\",className:\"w-full px-6 py-4 text-2xl text-center font-mono bg-ios-gray-100 rounded-2xl \\r border-2 border-ios-gray-300 focus:border-ios-blue focus:outline-none \\r focus:ring-4 focus:ring-ios-blue/20 transition-all\",maxLength:\"20\",autoComplete:\"off\",disabled:loading}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||personalCode.length<3,className:\"w-full mt-6 py-4 bg-ios-blue text-white text-xl font-semibold rounded-2xl\\r hover:bg-blue-600 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\\r transition-all duration-200\",children:loading?'Wird geprüft...':'Weiter'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-3 mt-6\",children:[1,2,3,4,5,6,7,8,9,'C',0,'←'].map(key=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _inputRef$current;if(key==='C'){setPersonalCode('');}else if(key==='←'){setPersonalCode(prev=>prev.slice(0,-1));}else{setPersonalCode(prev=>prev+key);}(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();},className:\"bg-white/90 hover:bg-white text-ios-gray-900 text-2xl font-semibold \\r py-4 rounded-2xl shadow-lg active:scale-95 transition-all\",children:key},key))})]})});const renderStatus=()=>{var _staffInfo$staff,_staffInfo$staff2;return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[staffInfo!==null&&staffInfo!==void 0&&(_staffInfo$staff=staffInfo.staff)!==null&&_staffInfo$staff!==void 0&&_staffInfo$staff.profile_image?/*#__PURE__*/_jsx(\"img\",{src:\"/uploads/profiles/\".concat(staffInfo.staff.profile_image),alt:staffInfo.staff.name,className:\"h-24 w-24 rounded-full mx-auto mb-4 border-4 border-white shadow-lg\"}):/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-24 w-24 text-ios-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-ios-gray-900\",children:staffInfo===null||staffInfo===void 0?void 0:(_staffInfo$staff2=staffInfo.staff)===null||_staffInfo$staff2===void 0?void 0:_staffInfo$staff2.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-ios-gray-600\",children:personalCode})]}),(staffInfo===null||staffInfo===void 0?void 0:staffInfo.is_clocked_in)&&(staffInfo===null||staffInfo===void 0?void 0:staffInfo.current_entry)&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-ios-green/10 rounded-2xl p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-3 mb-3\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-6 w-6 text-ios-green\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold text-ios-gray-900\",children:\"Eingestempelt\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-ios-gray-600\",children:[\"Seit: \",format(new Date(staffInfo.current_entry.clock_in),'HH:mm'),\" Uhr\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-ios-gray-600\",children:[\"Position: \",staffInfo.current_entry.position_name]}),staffInfo.current_entry.event_name&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-ios-gray-600\",children:[\"Event: \",staffInfo.current_entry.event_name]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[staffInfo!==null&&staffInfo!==void 0&&staffInfo.is_clocked_in?/*#__PURE__*/_jsx(\"button\",{onClick:handleClockOut,disabled:loading,className:\"w-full py-4 bg-ios-red text-white text-xl font-semibold rounded-2xl\\r hover:bg-red-600 active:scale-95 disabled:opacity-50 \\r transition-all duration-200\",children:loading?'Wird ausgestempelt...':'Ausstempeln'}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep('position'),disabled:loading,className:\"w-full py-4 bg-ios-green text-white text-xl font-semibold rounded-2xl\\r hover:bg-green-600 active:scale-95 disabled:opacity-50 \\r transition-all duration-200\",children:\"Einstempeln\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetToStart,className:\"w-full py-3 bg-ios-gray-200 text-ios-gray-700 text-lg font-semibold \\r rounded-2xl hover:bg-ios-gray-300 active:scale-95 transition-all duration-200\",children:\"Abbrechen\"})]})]})})});};const renderPositionSelection=()=>{var _staffInfo$today_even;return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-ios-gray-900 text-center mb-6\",children:\"Position w\\xE4hlen\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8\",children:positions.map(position=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedPosition(position.id),className:\"p-6 rounded-2xl border-2 transition-all duration-200 \".concat(selectedPosition===position.id?'border-ios-blue bg-ios-blue/10':'border-ios-gray-300 hover:border-ios-gray-400'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 w-3 rounded-full mx-auto mb-3\",style:{backgroundColor:position.color}}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-ios-gray-900\",children:position.name})]},position.id))}),(staffInfo===null||staffInfo===void 0?void 0:(_staffInfo$today_even=staffInfo.today_events)===null||_staffInfo$today_even===void 0?void 0:_staffInfo$today_even.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-ios-gray-900 mb-3\",children:\"Heutige Veranstaltung (optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:staffInfo.today_events.map(event=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEvent(event.id===selectedEvent?null:event.id),className:\"w-full p-4 rounded-xl border-2 text-left transition-all \".concat(selectedEvent===event.id?'border-ios-purple bg-ios-purple/10':'border-ios-gray-300 hover:border-ios-gray-400'),children:/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:event.name})},event.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:resetToStart,className:\"flex-1 py-3 bg-ios-gray-200 text-ios-gray-700 font-semibold \\r rounded-2xl hover:bg-ios-gray-300 active:scale-95 transition-all\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"inline h-5 w-5 mr-2\"}),\"Zur\\xFCck\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleClockIn,disabled:!selectedPosition||loading,className:\"flex-1 py-3 bg-ios-green text-white font-semibold rounded-2xl\\r hover:bg-green-600 active:scale-95 disabled:opacity-50 \\r disabled:cursor-not-allowed transition-all\",children:[loading?'Wird eingestempelt...':'Einstempeln',/*#__PURE__*/_jsx(ArrowRightIcon,{className:\"inline h-5 w-5 ml-2\"})]})]})]})})});};const renderMessage=()=>/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8 text-center\",children:[messageType==='success'&&/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-24 w-24 text-ios-green mx-auto mb-6\"}),messageType==='error'&&/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-24 w-24 text-ios-red mx-auto mb-6\"}),messageType==='warning'&&/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:\"h-24 w-24 text-ios-orange mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-semibold text-ios-gray-900 whitespace-pre-line\",children:message}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-sm text-ios-gray-500\",children:\"Automatische Weiterleitung in 5 Sekunden...\"})]})})});// Render based on current step\nswitch(step){case'status':return renderStatus();case'position':return renderPositionSelection();case'success':case'error':return renderMessage();default:return renderCodeInput();}};export default KioskMode;","map":{"version":3,"names":["React","useState","useEffect","useRef","api","format","de","ClockIcon","UserCircleIcon","CheckCircleIcon","XCircleIcon","ArrowLeftIcon","ArrowRightIcon","ExclamationCircleIcon","jsx","_jsx","jsxs","_jsxs","KioskMode","currentTime","setCurrentTime","Date","personalCode","setPersonalCode","step","setStep","staffInfo","setStaffInfo","positions","setPositions","selectedPosition","setSelectedPosition","selectedEvent","setSelectedEvent","message","setMessage","messageType","setMessageType","loading","setLoading","kioskToken","process","env","REACT_APP_KIOSK_TOKEN","localStorage","getItem","inputRef","resetTimeoutRef","timer","setInterval","clearInterval","loadPositions","current","focus","setTimeout","resetToStart","clearTimeout","response","get","data","error","console","handleCodeSubmit","e","preventDefault","length","concat","is_clocked_in","_error$response","_error$response$data","handleClockIn","requestData","personal_code","position_id","kiosk_token","event_id","post","_error$response2","_error$response2$data","handleClockOut","summary","total_hours","break_minutes","prev","_error$response3","_error$response3$data","renderCodeInput","className","children","locale","onSubmit","ref","type","value","onChange","target","toUpperCase","placeholder","maxLength","autoComplete","disabled","map","key","onClick","_inputRef$current","slice","renderStatus","_staffInfo$staff","_staffInfo$staff2","staff","profile_image","src","alt","name","current_entry","clock_in","position_name","event_name","renderPositionSelection","_staffInfo$today_even","position","id","style","backgroundColor","color","today_events","event","renderMessage"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/kiosk/KioskMode.js"],"sourcesContent":["// frontend/src/pages/kiosk/KioskMode.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport api from '../../services/api';\r\nimport { format } from 'date-fns';\r\nimport { de } from 'date-fns/locale';\r\nimport {\r\n  ClockIcon,\r\n  UserCircleIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ArrowLeftIcon,\r\n  ArrowRightIcon,\r\n  ExclamationCircleIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst KioskMode = () => {\r\n  const [currentTime, setCurrentTime] = useState(new Date());\r\n  const [personalCode, setPersonalCode] = useState('');\r\n  const [step, setStep] = useState('code'); // 'code', 'status', 'position', 'success', 'error'\r\n  const [staffInfo, setStaffInfo] = useState(null);\r\n  const [positions, setPositions] = useState([]);\r\n  const [selectedPosition, setSelectedPosition] = useState(null);\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState(''); // 'success', 'error', 'warning'\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  const kioskToken = process.env.REACT_APP_KIOSK_TOKEN || localStorage.getItem('kiosk_token');\r\n  const inputRef = useRef(null);\r\n  const resetTimeoutRef = useRef(null);\r\n\r\n  // Update clock every second\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setCurrentTime(new Date());\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  // Load positions on mount\r\n  useEffect(() => {\r\n    loadPositions();\r\n  }, []);\r\n\r\n  // Auto-focus input\r\n  useEffect(() => {\r\n    if (step === 'code' && inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [step]);\r\n\r\n  // Auto-reset after success/error\r\n  useEffect(() => {\r\n    if (step === 'success' || step === 'error') {\r\n      resetTimeoutRef.current = setTimeout(() => {\r\n        resetToStart();\r\n      }, 5000);\r\n    }\r\n    return () => {\r\n      if (resetTimeoutRef.current) {\r\n        clearTimeout(resetTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [step]);\r\n\r\n  const loadPositions = async () => {\r\n    try {\r\n      const response = await api.get('/timeclock/positions');\r\n      setPositions(response.data.positions);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Positionen:', error);\r\n    }\r\n  };\r\n\r\n  const resetToStart = () => {\r\n    setStep('code');\r\n    setPersonalCode('');\r\n    setStaffInfo(null);\r\n    setSelectedPosition(null);\r\n    setSelectedEvent(null);\r\n    setMessage('');\r\n    setMessageType('');\r\n  };\r\n\r\n  const handleCodeSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!personalCode || personalCode.length < 3) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get(`/timeclock/kiosk/status/${personalCode}`);\r\n      setStaffInfo(response.data);\r\n      \r\n      if (response.data.is_clocked_in) {\r\n        // Mitarbeiter ist eingestempelt - zeige Status zum Ausstempeln\r\n        setStep('status');\r\n      } else {\r\n        // Mitarbeiter ist nicht eingestempelt - zeige Positionsauswahl\r\n        setStep('position');\r\n      }\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Ungültiger Personal-Code');\r\n      setMessageType('error');\r\n      setStep('error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClockIn = async () => {\r\n    if (!selectedPosition) {\r\n      setMessage('Bitte wählen Sie eine Position');\r\n      setMessageType('warning');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const requestData = {\r\n        personal_code: personalCode,\r\n        position_id: selectedPosition,\r\n        kiosk_token: kioskToken\r\n      };\r\n      \r\n      // Nur event_id hinzufügen, wenn es einen Wert hat\r\n      if (selectedEvent) {\r\n        requestData.event_id = selectedEvent;\r\n      }\r\n      \r\n      const response = await api.post('/timeclock/kiosk/clock-in', requestData);\r\n\r\n      setMessage(response.data.message);\r\n      setMessageType('success');\r\n      setStep('success');\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Fehler beim Einstempeln');\r\n      setMessageType('error');\r\n      setStep('error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClockOut = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const requestData = {\r\n        personal_code: personalCode,\r\n        kiosk_token: kioskToken\r\n      };\r\n      \r\n      const response = await api.post('/timeclock/kiosk/clock-out', requestData);\r\n\r\n      setMessage(response.data.message);\r\n      setMessageType('success');\r\n      setStep('success');\r\n\r\n      // Zeige Arbeitszusammenfassung\r\n      if (response.data.summary) {\r\n        const { total_hours, break_minutes } = response.data.summary;\r\n        setMessage(prev => `${prev}\\n\\nArbeitszeit: ${total_hours} Stunden${break_minutes > 0 ? ` (inkl. ${break_minutes} Min. Pause)` : ''}`);\r\n      }\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Fehler beim Ausstempeln');\r\n      setMessageType('error');\r\n      setStep('error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderCodeInput = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-8\">\r\n      <div className=\"w-full max-w-md\">\r\n        {/* Clock Display */}\r\n        <div className=\"text-center mb-12\">\r\n          <div className=\"text-6xl font-light text-white mb-2\">\r\n            {format(currentTime, 'HH:mm:ss')}\r\n          </div>\r\n          <div className=\"text-xl text-white/80\">\r\n            {format(currentTime, 'EEEE, d. MMMM yyyy', { locale: de })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Input Card */}\r\n        <div className=\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\">\r\n          <div className=\"text-center mb-8\">\r\n            <ClockIcon className=\"h-16 w-16 text-ios-blue mx-auto mb-4\" />\r\n            <h1 className=\"text-3xl font-bold text-ios-gray-900\">Stempeluhr</h1>\r\n            <p className=\"text-ios-gray-600 mt-2\">Geben Sie Ihren Personal-Code ein</p>\r\n          </div>\r\n\r\n          <form onSubmit={handleCodeSubmit}>\r\n            <input\r\n              ref={inputRef}\r\n              type=\"text\"\r\n              value={personalCode}\r\n              onChange={(e) => setPersonalCode(e.target.value.toUpperCase())}\r\n              placeholder=\"Personal-Code\"\r\n              className=\"w-full px-6 py-4 text-2xl text-center font-mono bg-ios-gray-100 rounded-2xl \r\n                       border-2 border-ios-gray-300 focus:border-ios-blue focus:outline-none \r\n                       focus:ring-4 focus:ring-ios-blue/20 transition-all\"\r\n              maxLength=\"20\"\r\n              autoComplete=\"off\"\r\n              disabled={loading}\r\n            />\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || personalCode.length < 3}\r\n              className=\"w-full mt-6 py-4 bg-ios-blue text-white text-xl font-semibold rounded-2xl\r\n                       hover:bg-blue-600 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\r\n                       transition-all duration-200\"\r\n            >\r\n              {loading ? 'Wird geprüft...' : 'Weiter'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Numeric Keypad for Touch */}\r\n        <div className=\"grid grid-cols-3 gap-3 mt-6\">\r\n          {[1, 2, 3, 4, 5, 6, 7, 8, 9, 'C', 0, '←'].map((key) => (\r\n            <button\r\n              key={key}\r\n              onClick={() => {\r\n                if (key === 'C') {\r\n                  setPersonalCode('');\r\n                } else if (key === '←') {\r\n                  setPersonalCode(prev => prev.slice(0, -1));\r\n                } else {\r\n                  setPersonalCode(prev => prev + key);\r\n                }\r\n                inputRef.current?.focus();\r\n              }}\r\n              className=\"bg-white/90 hover:bg-white text-ios-gray-900 text-2xl font-semibold \r\n                       py-4 rounded-2xl shadow-lg active:scale-95 transition-all\"\r\n            >\r\n              {key}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderStatus = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-8\">\r\n      <div className=\"w-full max-w-md\">\r\n        <div className=\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\">\r\n          {/* Staff Info */}\r\n          <div className=\"text-center mb-8\">\r\n            {staffInfo?.staff?.profile_image ? (\r\n              <img\r\n                src={`/uploads/profiles/${staffInfo.staff.profile_image}`}\r\n                alt={staffInfo.staff.name}\r\n                className=\"h-24 w-24 rounded-full mx-auto mb-4 border-4 border-white shadow-lg\"\r\n              />\r\n            ) : (\r\n              <UserCircleIcon className=\"h-24 w-24 text-ios-gray-400 mx-auto mb-4\" />\r\n            )}\r\n            <h2 className=\"text-2xl font-bold text-ios-gray-900\">{staffInfo?.staff?.name}</h2>\r\n            <p className=\"text-lg text-ios-gray-600\">{personalCode}</p>\r\n          </div>\r\n\r\n          {/* Current Status */}\r\n          {staffInfo?.is_clocked_in && staffInfo?.current_entry && (\r\n            <div className=\"bg-ios-green/10 rounded-2xl p-6 mb-6\">\r\n              <div className=\"flex items-center justify-center space-x-3 mb-3\">\r\n                <CheckCircleIcon className=\"h-6 w-6 text-ios-green\" />\r\n                <span className=\"text-lg font-semibold text-ios-gray-900\">Eingestempelt</span>\r\n              </div>\r\n              <div className=\"text-center space-y-1\">\r\n                <p className=\"text-sm text-ios-gray-600\">\r\n                  Seit: {format(new Date(staffInfo.current_entry.clock_in), 'HH:mm')} Uhr\r\n                </p>\r\n                <p className=\"text-sm text-ios-gray-600\">\r\n                  Position: {staffInfo.current_entry.position_name}\r\n                </p>\r\n                {staffInfo.current_entry.event_name && (\r\n                  <p className=\"text-sm text-ios-gray-600\">\r\n                    Event: {staffInfo.current_entry.event_name}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"space-y-3\">\r\n            {staffInfo?.is_clocked_in ? (\r\n              <button\r\n                onClick={handleClockOut}\r\n                disabled={loading}\r\n                className=\"w-full py-4 bg-ios-red text-white text-xl font-semibold rounded-2xl\r\n                         hover:bg-red-600 active:scale-95 disabled:opacity-50 \r\n                         transition-all duration-200\"\r\n              >\r\n                {loading ? 'Wird ausgestempelt...' : 'Ausstempeln'}\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={() => setStep('position')}\r\n                disabled={loading}\r\n                className=\"w-full py-4 bg-ios-green text-white text-xl font-semibold rounded-2xl\r\n                         hover:bg-green-600 active:scale-95 disabled:opacity-50 \r\n                         transition-all duration-200\"\r\n              >\r\n                Einstempeln\r\n              </button>\r\n            )}\r\n            \r\n            <button\r\n              onClick={resetToStart}\r\n              className=\"w-full py-3 bg-ios-gray-200 text-ios-gray-700 text-lg font-semibold \r\n                       rounded-2xl hover:bg-ios-gray-300 active:scale-95 transition-all duration-200\"\r\n            >\r\n              Abbrechen\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderPositionSelection = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-8\">\r\n      <div className=\"w-full max-w-2xl\">\r\n        <div className=\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8\">\r\n          <h2 className=\"text-2xl font-bold text-ios-gray-900 text-center mb-6\">\r\n            Position wählen\r\n          </h2>\r\n\r\n          {/* Positions Grid */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8\">\r\n            {positions.map((position) => (\r\n              <button\r\n                key={position.id}\r\n                onClick={() => setSelectedPosition(position.id)}\r\n                className={`p-6 rounded-2xl border-2 transition-all duration-200 ${\r\n                  selectedPosition === position.id\r\n                    ? 'border-ios-blue bg-ios-blue/10'\r\n                    : 'border-ios-gray-300 hover:border-ios-gray-400'\r\n                }`}\r\n              >\r\n                <div\r\n                  className=\"h-3 w-3 rounded-full mx-auto mb-3\"\r\n                  style={{ backgroundColor: position.color }}\r\n                />\r\n                <p className=\"font-semibold text-ios-gray-900\">{position.name}</p>\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Events (if available) */}\r\n          {staffInfo?.today_events?.length > 0 && (\r\n            <div className=\"mb-8\">\r\n              <h3 className=\"text-lg font-semibold text-ios-gray-900 mb-3\">\r\n                Heutige Veranstaltung (optional)\r\n              </h3>\r\n              <div className=\"space-y-2\">\r\n                {staffInfo.today_events.map((event) => (\r\n                  <button\r\n                    key={event.id}\r\n                    onClick={() => setSelectedEvent(event.id === selectedEvent ? null : event.id)}\r\n                    className={`w-full p-4 rounded-xl border-2 text-left transition-all ${\r\n                      selectedEvent === event.id\r\n                        ? 'border-ios-purple bg-ios-purple/10'\r\n                        : 'border-ios-gray-300 hover:border-ios-gray-400'\r\n                    }`}\r\n                  >\r\n                    <p className=\"font-medium text-ios-gray-900\">{event.name}</p>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex space-x-3\">\r\n            <button\r\n              onClick={resetToStart}\r\n              className=\"flex-1 py-3 bg-ios-gray-200 text-ios-gray-700 font-semibold \r\n                       rounded-2xl hover:bg-ios-gray-300 active:scale-95 transition-all\"\r\n            >\r\n              <ArrowLeftIcon className=\"inline h-5 w-5 mr-2\" />\r\n              Zurück\r\n            </button>\r\n            <button\r\n              onClick={handleClockIn}\r\n              disabled={!selectedPosition || loading}\r\n              className=\"flex-1 py-3 bg-ios-green text-white font-semibold rounded-2xl\r\n                       hover:bg-green-600 active:scale-95 disabled:opacity-50 \r\n                       disabled:cursor-not-allowed transition-all\"\r\n            >\r\n              {loading ? 'Wird eingestempelt...' : 'Einstempeln'}\r\n              <ArrowRightIcon className=\"inline h-5 w-5 ml-2\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderMessage = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-8\">\r\n      <div className=\"w-full max-w-md\">\r\n        <div className=\"bg-white/95 backdrop-blur rounded-3xl shadow-2xl p-8 text-center\">\r\n          {messageType === 'success' && (\r\n            <CheckCircleIcon className=\"h-24 w-24 text-ios-green mx-auto mb-6\" />\r\n          )}\r\n          {messageType === 'error' && (\r\n            <XCircleIcon className=\"h-24 w-24 text-ios-red mx-auto mb-6\" />\r\n          )}\r\n          {messageType === 'warning' && (\r\n            <ExclamationCircleIcon className=\"h-24 w-24 text-ios-orange mx-auto mb-6\" />\r\n          )}\r\n          \r\n          <p className=\"text-xl font-semibold text-ios-gray-900 whitespace-pre-line\">\r\n            {message}\r\n          </p>\r\n          \r\n          <div className=\"mt-8 text-sm text-ios-gray-500\">\r\n            Automatische Weiterleitung in 5 Sekunden...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Render based on current step\r\n  switch (step) {\r\n    case 'status':\r\n      return renderStatus();\r\n    case 'position':\r\n      return renderPositionSelection();\r\n    case 'success':\r\n    case 'error':\r\n      return renderMessage();\r\n    default:\r\n      return renderCodeInput();\r\n  }\r\n};\r\n\r\nexport default KioskMode;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}