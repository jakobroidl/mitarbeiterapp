{"ast":null,"code":"// frontend/src/pages/staff/MySchedule.js\nimport React,{useState,useEffect}from'react';import api from'../../services/api';import toast from'react-hot-toast';import{CalendarDaysIcon,ChevronLeftIcon,ChevronRightIcon,ClockIcon,MapPinIcon,CheckCircleIcon,ExclamationCircleIcon,InformationCircleIcon,ArrowPathIcon,ViewColumnsIcon,Squares2X2Icon}from'@heroicons/react/24/outline';import{format,startOfMonth,endOfMonth,startOfWeek,endOfWeek,eachDayOfInterval,isSameMonth,isSameDay,isToday,parseISO,addMonths,subMonths,getDay}from'date-fns';import{de}from'date-fns/locale';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MySchedule=()=>{const[currentMonth,setCurrentMonth]=useState(new Date());const[shifts,setShifts]=useState([]);const[loading,setLoading]=useState(true);const[view,setView]=useState('month');// month, week\nconst[selectedDate,setSelectedDate]=useState(null);const[selectedShift,setSelectedShift]=useState(null);const[showShiftModal,setShowShiftModal]=useState(false);useEffect(()=>{loadShifts();},[currentMonth]);const loadShifts=async()=>{try{setLoading(true);const from=startOfMonth(currentMonth);const to=endOfMonth(currentMonth);const response=await api.get('/staff/shifts/my',{params:{from:from.toISOString(),to:to.toISOString()}});setShifts(response.data.shifts);}catch(error){console.error('Fehler beim Laden der Schichten:',error);toast.error('Fehler beim Laden der Schichten');}finally{setLoading(false);}};const refreshSchedule=async()=>{await loadShifts();toast.success('Kalender aktualisiert');};const confirmShift=async shiftId=>{try{await api.post(\"/shifts/\".concat(shiftId,\"/confirm\"));toast.success('Schicht erfolgreich bestätigt');await loadShifts();setShowShiftModal(false);}catch(error){console.error('Fehler beim Bestätigen:',error);toast.error('Fehler beim Bestätigen der Schicht');}};const getShiftStatus=shift=>{const badges={preliminary:{color:'bg-yellow-100 border-yellow-300',icon:ExclamationCircleIcon,iconColor:'text-yellow-600'},final:{color:'bg-blue-100 border-blue-300',icon:InformationCircleIcon,iconColor:'text-blue-600'},confirmed:{color:'bg-green-100 border-green-300',icon:CheckCircleIcon,iconColor:'text-green-600'}};return badges[shift.status]||badges.preliminary;};const getDaysInMonth=()=>{const start=startOfWeek(startOfMonth(currentMonth),{locale:de});const end=endOfWeek(endOfMonth(currentMonth),{locale:de});return eachDayOfInterval({start,end});};const getShiftsForDay=date=>{return shifts.filter(shift=>isSameDay(parseISO(shift.start_time),date));};const navigateMonth=direction=>{if(direction==='prev'){setCurrentMonth(subMonths(currentMonth,1));}else{setCurrentMonth(addMonths(currentMonth,1));}};const DayCell=_ref=>{let{date}=_ref;const dayShifts=getShiftsForDay(date);const isCurrentMonth=isSameMonth(date,currentMonth);const isCurrentDay=isToday(date);const isWeekend=getDay(date)===0||getDay(date)===6;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-[100px] p-2 border border-ios-gray-200 \".concat(!isCurrentMonth?'bg-ios-gray-50':'bg-white',\" \").concat(isCurrentDay?'ring-2 ring-ios-blue ring-inset':'',\" \").concat(isWeekend?'bg-ios-gray-50':'',\" hover:bg-ios-gray-50 transition-colors cursor-pointer\"),onClick:()=>{setSelectedDate(date);if(dayShifts.length===1){setSelectedShift(dayShifts[0]);setShowShiftModal(true);}else if(dayShifts.length>1){// Show day detail view\n}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(!isCurrentMonth?'text-ios-gray-400':isCurrentDay?'text-ios-blue':'text-ios-gray-700'),children:format(date,'d')}),dayShifts.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-ios-gray-500\",children:[dayShifts.length,\" \",dayShifts.length===1?'Schicht':'Schichten']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[dayShifts.slice(0,2).map((shift,index)=>{const status=getShiftStatus(shift);const Icon=status.icon;return/*#__PURE__*/_jsx(\"div\",{className:\"text-xs p-1 rounded border \".concat(status.color,\" truncate\"),onClick:e=>{e.stopPropagation();setSelectedShift(shift);setShowShiftModal(true);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Icon,{className:\"h-3 w-3 \".concat(status.iconColor,\" flex-shrink-0\")}),/*#__PURE__*/_jsxs(\"span\",{className:\"truncate\",children:[format(parseISO(shift.start_time),'HH:mm'),\" - \",shift.shift_name]})]})},shift.id);}),dayShifts.length>2&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-ios-gray-500 text-center\",children:[\"+\",dayShifts.length-2,\" weitere\"]})]})]});};const WeekView=()=>{const weekDays=['Mo','Di','Mi','Do','Fr','Sa','So'];const days=getDaysInMonth();const currentWeekStart=startOfWeek(new Date(),{locale:de});const currentWeekEnd=endOfWeek(new Date(),{locale:de});const currentWeekDays=days.filter(day=>day>=currentWeekStart&&day<=currentWeekEnd);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-px bg-ios-gray-200 rounded-t-xl overflow-hidden\",children:weekDays.map((day,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 text-center text-sm font-medium \".concat(index>=5?'bg-ios-gray-100':'bg-white'),children:day},day))}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-px bg-ios-gray-200 rounded-b-xl overflow-hidden\",children:currentWeekDays.map(date=>/*#__PURE__*/_jsx(DayCell,{date:date},date.toISOString()))})]});};const MonthView=()=>{const weekDays=['Mo','Di','Mi','Do','Fr','Sa','So'];const days=getDaysInMonth();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-px bg-ios-gray-200 rounded-t-xl overflow-hidden\",children:weekDays.map((day,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 text-center text-sm font-medium \".concat(index>=5?'bg-ios-gray-100':'bg-white'),children:day},day))}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-px bg-ios-gray-200 rounded-b-xl overflow-hidden\",children:days.map(date=>/*#__PURE__*/_jsx(DayCell,{date:date},date.toISOString()))})]});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl p-6 h-96\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-ios-gray-900\",children:\"Mein Kalender\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-600\",children:\"\\xDCbersicht deiner Schichten\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:refreshSchedule,className:\"p-2 rounded-lg hover:bg-ios-gray-100\",title:\"Aktualisieren\",children:/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-5 w-5 text-ios-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex rounded-lg overflow-hidden border border-ios-gray-300\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('week'),className:\"p-2 \".concat(view==='week'?'bg-ios-blue text-white':'bg-white text-ios-gray-600 hover:bg-ios-gray-100'),title:\"Wochenansicht\",children:/*#__PURE__*/_jsx(ViewColumnsIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('month'),className:\"p-2 \".concat(view==='month'?'bg-ios-blue text-white':'bg-white text-ios-gray-600 hover:bg-ios-gray-100'),title:\"Monatsansicht\",children:/*#__PURE__*/_jsx(Squares2X2Icon,{className:\"h-5 w-5\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ios-card p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateMonth('prev'),className:\"p-2 rounded-lg hover:bg-ios-gray-100\",children:/*#__PURE__*/_jsx(ChevronLeftIcon,{className:\"h-5 w-5 text-ios-gray-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-ios-gray-900\",children:format(currentMonth,'MMMM yyyy',{locale:de})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateMonth('next'),className:\"p-2 rounded-lg hover:bg-ios-gray-100\",children:/*#__PURE__*/_jsx(ChevronRightIcon,{className:\"h-5 w-5 text-ios-gray-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ios-card p-4\",children:view==='month'?/*#__PURE__*/_jsx(MonthView,{}):/*#__PURE__*/_jsx(WeekView,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-ios-gray-700 mb-3\",children:\"Legende\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-4\",children:Object.entries({preliminary:'Vorläufig',final:'Endgültig',confirmed:'Bestätigt'}).map(_ref2=>{let[status,label]=_ref2;const style=getShiftStatus({status});const Icon=style.icon;return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-2 py-1 rounded border \".concat(style.color,\" flex items-center space-x-1\"),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-3 w-3 \".concat(style.iconColor)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium\",children:label})]})},status);})})]}),showShiftModal&&selectedShift&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ios-modal-backdrop\",onClick:()=>setShowShiftModal(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-2xl shadow-ios-xl max-w-md w-full p-6 z-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-ios-gray-900 mb-4\",children:\"Schichtdetails\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Veranstaltung\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:selectedShift.event_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Schicht\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:selectedShift.shift_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"h-5 w-5 text-ios-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Datum & Zeit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:format(parseISO(selectedShift.start_time),'EEEE, d. MMMM yyyy',{locale:de})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-ios-gray-700\",children:[format(parseISO(selectedShift.start_time),'HH:mm'),\" -\",format(parseISO(selectedShift.end_time),'HH:mm'),\" Uhr\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-5 w-5 text-ios-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Ort\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:selectedShift.location})]})]}),selectedShift.position_name&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Position\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:selectedShift.position_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:(()=>{const status=getShiftStatus(selectedShift);const Icon=status.icon;return/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium border \".concat(status.color),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-4 w-4 \".concat(status.iconColor)}),selectedShift.status==='preliminary'&&'Vorläufig',selectedShift.status==='final'&&'Endgültig',selectedShift.status==='confirmed'&&'Bestätigt']});})()})]}),selectedShift.notes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Notizen\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-700\",children:selectedShift.notes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowShiftModal(false),className:\"ios-button-secondary\",children:\"Schlie\\xDFen\"}),selectedShift.status==='final'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>confirmShift(selectedShift.shift_id),className:\"ios-button-primary\",children:\"Schicht best\\xE4tigen\"})]})]})})]})]});};export default MySchedule;","map":{"version":3,"names":["React","useState","useEffect","api","toast","CalendarDaysIcon","ChevronLeftIcon","ChevronRightIcon","ClockIcon","MapPinIcon","CheckCircleIcon","ExclamationCircleIcon","InformationCircleIcon","ArrowPathIcon","ViewColumnsIcon","Squares2X2Icon","format","startOfMonth","endOfMonth","startOfWeek","endOfWeek","eachDayOfInterval","isSameMonth","isSameDay","isToday","parseISO","addMonths","subMonths","getDay","de","jsx","_jsx","jsxs","_jsxs","MySchedule","currentMonth","setCurrentMonth","Date","shifts","setShifts","loading","setLoading","view","setView","selectedDate","setSelectedDate","selectedShift","setSelectedShift","showShiftModal","setShowShiftModal","loadShifts","from","to","response","get","params","toISOString","data","error","console","refreshSchedule","success","confirmShift","shiftId","post","concat","getShiftStatus","shift","badges","preliminary","color","icon","iconColor","final","confirmed","status","getDaysInMonth","start","locale","end","getShiftsForDay","date","filter","start_time","navigateMonth","direction","DayCell","_ref","dayShifts","isCurrentMonth","isCurrentDay","isWeekend","className","onClick","length","children","slice","map","index","Icon","e","stopPropagation","shift_name","id","WeekView","weekDays","days","currentWeekStart","currentWeekEnd","currentWeekDays","day","MonthView","title","Object","entries","_ref2","label","style","event_name","end_time","location","position_name","notes","shift_id"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/staff/MySchedule.js"],"sourcesContent":["// frontend/src/pages/staff/MySchedule.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport api from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  CalendarDaysIcon,\r\n  ChevronLeftIcon,\r\n  ChevronRightIcon,\r\n  ClockIcon,\r\n  MapPinIcon,\r\n  CheckCircleIcon,\r\n  ExclamationCircleIcon,\r\n  InformationCircleIcon,\r\n  ArrowPathIcon,\r\n  ViewColumnsIcon,\r\n  Squares2X2Icon\r\n} from '@heroicons/react/24/outline';\r\nimport { \r\n  format, \r\n  startOfMonth, \r\n  endOfMonth, \r\n  startOfWeek, \r\n  endOfWeek,\r\n  eachDayOfInterval,\r\n  isSameMonth,\r\n  isSameDay,\r\n  isToday,\r\n  parseISO,\r\n  addMonths,\r\n  subMonths,\r\n  getDay\r\n} from 'date-fns';\r\nimport { de } from 'date-fns/locale';\r\n\r\nconst MySchedule = () => {\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [shifts, setShifts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [view, setView] = useState('month'); // month, week\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [selectedShift, setSelectedShift] = useState(null);\r\n  const [showShiftModal, setShowShiftModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadShifts();\r\n  }, [currentMonth]);\r\n\r\n  const loadShifts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const from = startOfMonth(currentMonth);\r\n      const to = endOfMonth(currentMonth);\r\n      \r\n      const response = await api.get('/staff/shifts/my', {\r\n        params: {\r\n          from: from.toISOString(),\r\n          to: to.toISOString()\r\n        }\r\n      });\r\n      \r\n      setShifts(response.data.shifts);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Schichten:', error);\r\n      toast.error('Fehler beim Laden der Schichten');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshSchedule = async () => {\r\n    await loadShifts();\r\n    toast.success('Kalender aktualisiert');\r\n  };\r\n\r\n  const confirmShift = async (shiftId) => {\r\n    try {\r\n      await api.post(`/shifts/${shiftId}/confirm`);\r\n      toast.success('Schicht erfolgreich bestätigt');\r\n      await loadShifts();\r\n      setShowShiftModal(false);\r\n    } catch (error) {\r\n      console.error('Fehler beim Bestätigen:', error);\r\n      toast.error('Fehler beim Bestätigen der Schicht');\r\n    }\r\n  };\r\n\r\n  const getShiftStatus = (shift) => {\r\n    const badges = {\r\n      preliminary: { \r\n        color: 'bg-yellow-100 border-yellow-300',\r\n        icon: ExclamationCircleIcon,\r\n        iconColor: 'text-yellow-600'\r\n      },\r\n      final: { \r\n        color: 'bg-blue-100 border-blue-300',\r\n        icon: InformationCircleIcon,\r\n        iconColor: 'text-blue-600'\r\n      },\r\n      confirmed: { \r\n        color: 'bg-green-100 border-green-300',\r\n        icon: CheckCircleIcon,\r\n        iconColor: 'text-green-600'\r\n      }\r\n    };\r\n    \r\n    return badges[shift.status] || badges.preliminary;\r\n  };\r\n\r\n  const getDaysInMonth = () => {\r\n    const start = startOfWeek(startOfMonth(currentMonth), { locale: de });\r\n    const end = endOfWeek(endOfMonth(currentMonth), { locale: de });\r\n    \r\n    return eachDayOfInterval({ start, end });\r\n  };\r\n\r\n  const getShiftsForDay = (date) => {\r\n    return shifts.filter(shift => \r\n      isSameDay(parseISO(shift.start_time), date)\r\n    );\r\n  };\r\n\r\n  const navigateMonth = (direction) => {\r\n    if (direction === 'prev') {\r\n      setCurrentMonth(subMonths(currentMonth, 1));\r\n    } else {\r\n      setCurrentMonth(addMonths(currentMonth, 1));\r\n    }\r\n  };\r\n\r\n  const DayCell = ({ date }) => {\r\n    const dayShifts = getShiftsForDay(date);\r\n    const isCurrentMonth = isSameMonth(date, currentMonth);\r\n    const isCurrentDay = isToday(date);\r\n    const isWeekend = getDay(date) === 0 || getDay(date) === 6;\r\n    \r\n    return (\r\n      <div\r\n        className={`min-h-[100px] p-2 border border-ios-gray-200 ${\r\n          !isCurrentMonth ? 'bg-ios-gray-50' : 'bg-white'\r\n        } ${isCurrentDay ? 'ring-2 ring-ios-blue ring-inset' : ''} ${\r\n          isWeekend ? 'bg-ios-gray-50' : ''\r\n        } hover:bg-ios-gray-50 transition-colors cursor-pointer`}\r\n        onClick={() => {\r\n          setSelectedDate(date);\r\n          if (dayShifts.length === 1) {\r\n            setSelectedShift(dayShifts[0]);\r\n            setShowShiftModal(true);\r\n          } else if (dayShifts.length > 1) {\r\n            // Show day detail view\r\n          }\r\n        }}\r\n      >\r\n        <div className=\"flex items-center justify-between mb-1\">\r\n          <span className={`text-sm font-medium ${\r\n            !isCurrentMonth ? 'text-ios-gray-400' : \r\n            isCurrentDay ? 'text-ios-blue' : 'text-ios-gray-700'\r\n          }`}>\r\n            {format(date, 'd')}\r\n          </span>\r\n          {dayShifts.length > 0 && (\r\n            <span className=\"text-xs text-ios-gray-500\">\r\n              {dayShifts.length} {dayShifts.length === 1 ? 'Schicht' : 'Schichten'}\r\n            </span>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"space-y-1\">\r\n          {dayShifts.slice(0, 2).map((shift, index) => {\r\n            const status = getShiftStatus(shift);\r\n            const Icon = status.icon;\r\n            \r\n            return (\r\n              <div\r\n                key={shift.id}\r\n                className={`text-xs p-1 rounded border ${status.color} truncate`}\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setSelectedShift(shift);\r\n                  setShowShiftModal(true);\r\n                }}\r\n              >\r\n                <div className=\"flex items-center space-x-1\">\r\n                  <Icon className={`h-3 w-3 ${status.iconColor} flex-shrink-0`} />\r\n                  <span className=\"truncate\">\r\n                    {format(parseISO(shift.start_time), 'HH:mm')} - {shift.shift_name}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          \r\n          {dayShifts.length > 2 && (\r\n            <div className=\"text-xs text-ios-gray-500 text-center\">\r\n              +{dayShifts.length - 2} weitere\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const WeekView = () => {\r\n    const weekDays = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\r\n    const days = getDaysInMonth();\r\n    const currentWeekStart = startOfWeek(new Date(), { locale: de });\r\n    const currentWeekEnd = endOfWeek(new Date(), { locale: de });\r\n    const currentWeekDays = days.filter(day => \r\n      day >= currentWeekStart && day <= currentWeekEnd\r\n    );\r\n    \r\n    return (\r\n      <div>\r\n        <div className=\"grid grid-cols-7 gap-px bg-ios-gray-200 rounded-t-xl overflow-hidden\">\r\n          {weekDays.map((day, index) => (\r\n            <div \r\n              key={day} \r\n              className={`p-3 text-center text-sm font-medium ${\r\n                index >= 5 ? 'bg-ios-gray-100' : 'bg-white'\r\n              }`}\r\n            >\r\n              {day}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-7 gap-px bg-ios-gray-200 rounded-b-xl overflow-hidden\">\r\n          {currentWeekDays.map((date) => (\r\n            <DayCell key={date.toISOString()} date={date} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const MonthView = () => {\r\n    const weekDays = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\r\n    const days = getDaysInMonth();\r\n    \r\n    return (\r\n      <div>\r\n        <div className=\"grid grid-cols-7 gap-px bg-ios-gray-200 rounded-t-xl overflow-hidden\">\r\n          {weekDays.map((day, index) => (\r\n            <div \r\n              key={day} \r\n              className={`p-3 text-center text-sm font-medium ${\r\n                index >= 5 ? 'bg-ios-gray-100' : 'bg-white'\r\n              }`}\r\n            >\r\n              {day}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-7 gap-px bg-ios-gray-200 rounded-b-xl overflow-hidden\">\r\n          {days.map((date) => (\r\n            <DayCell key={date.toISOString()} date={date} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"></div>\r\n          <div className=\"bg-white rounded-xl p-6 h-96\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-ios-gray-900\">Mein Kalender</h1>\r\n          <p className=\"text-ios-gray-600\">Übersicht deiner Schichten</p>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center space-x-2\">\r\n          <button\r\n            onClick={refreshSchedule}\r\n            className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n            title=\"Aktualisieren\"\r\n          >\r\n            <ArrowPathIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n          </button>\r\n          \r\n          <div className=\"flex rounded-lg overflow-hidden border border-ios-gray-300\">\r\n            <button\r\n              onClick={() => setView('week')}\r\n              className={`p-2 ${\r\n                view === 'week' \r\n                  ? 'bg-ios-blue text-white' \r\n                  : 'bg-white text-ios-gray-600 hover:bg-ios-gray-100'\r\n              }`}\r\n              title=\"Wochenansicht\"\r\n            >\r\n              <ViewColumnsIcon className=\"h-5 w-5\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setView('month')}\r\n              className={`p-2 ${\r\n                view === 'month' \r\n                  ? 'bg-ios-blue text-white' \r\n                  : 'bg-white text-ios-gray-600 hover:bg-ios-gray-100'\r\n              }`}\r\n              title=\"Monatsansicht\"\r\n            >\r\n              <Squares2X2Icon className=\"h-5 w-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Calendar Navigation */}\r\n      <div className=\"ios-card p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <button\r\n            onClick={() => navigateMonth('prev')}\r\n            className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n          >\r\n            <ChevronLeftIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n          </button>\r\n          \r\n          <h2 className=\"text-lg font-semibold text-ios-gray-900\">\r\n            {format(currentMonth, 'MMMM yyyy', { locale: de })}\r\n          </h2>\r\n          \r\n          <button\r\n            onClick={() => navigateMonth('next')}\r\n            className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n          >\r\n            <ChevronRightIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Calendar View */}\r\n      <div className=\"ios-card p-4\">\r\n        {view === 'month' ? <MonthView /> : <WeekView />}\r\n      </div>\r\n\r\n      {/* Legend */}\r\n      <div className=\"ios-card p-4\">\r\n        <h3 className=\"text-sm font-medium text-ios-gray-700 mb-3\">Legende</h3>\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          {Object.entries({\r\n            preliminary: 'Vorläufig',\r\n            final: 'Endgültig',\r\n            confirmed: 'Bestätigt'\r\n          }).map(([status, label]) => {\r\n            const style = getShiftStatus({ status });\r\n            const Icon = style.icon;\r\n            \r\n            return (\r\n              <div key={status} className=\"flex items-center space-x-2\">\r\n                <div className={`px-2 py-1 rounded border ${style.color} flex items-center space-x-1`}>\r\n                  <Icon className={`h-3 w-3 ${style.iconColor}`} />\r\n                  <span className=\"text-xs font-medium\">{label}</span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Shift Detail Modal */}\r\n      {showShiftModal && selectedShift && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"ios-modal-backdrop\" onClick={() => setShowShiftModal(false)} />\r\n          <div className=\"flex items-center justify-center min-h-screen p-4\">\r\n            <div className=\"relative bg-white rounded-2xl shadow-ios-xl max-w-md w-full p-6 z-10\">\r\n              <h3 className=\"text-lg font-semibold text-ios-gray-900 mb-4\">\r\n                Schichtdetails\r\n              </h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Veranstaltung</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">{selectedShift.event_name}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Schicht</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">{selectedShift.shift_name}</p>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <CalendarDaysIcon className=\"h-5 w-5 text-ios-gray-400\" />\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Datum & Zeit</p>\r\n                    <p className=\"font-medium text-ios-gray-900\">\r\n                      {format(parseISO(selectedShift.start_time), 'EEEE, d. MMMM yyyy', { locale: de })}\r\n                    </p>\r\n                    <p className=\"text-sm text-ios-gray-700\">\r\n                      {format(parseISO(selectedShift.start_time), 'HH:mm')} - \r\n                      {format(parseISO(selectedShift.end_time), 'HH:mm')} Uhr\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <MapPinIcon className=\"h-5 w-5 text-ios-gray-400\" />\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Ort</p>\r\n                    <p className=\"font-medium text-ios-gray-900\">{selectedShift.location}</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                {selectedShift.position_name && (\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Position</p>\r\n                    <p className=\"font-medium text-ios-gray-900\">{selectedShift.position_name}</p>\r\n                  </div>\r\n                )}\r\n                \r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Status</p>\r\n                  <div className=\"mt-1\">\r\n                    {(() => {\r\n                      const status = getShiftStatus(selectedShift);\r\n                      const Icon = status.icon;\r\n                      return (\r\n                        <span className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium border ${status.color}`}>\r\n                          <Icon className={`h-4 w-4 ${status.iconColor}`} />\r\n                          {selectedShift.status === 'preliminary' && 'Vorläufig'}\r\n                          {selectedShift.status === 'final' && 'Endgültig'}\r\n                          {selectedShift.status === 'confirmed' && 'Bestätigt'}\r\n                        </span>\r\n                      );\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n                \r\n                {selectedShift.notes && (\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Notizen</p>\r\n                    <p className=\"text-sm text-ios-gray-700\">{selectedShift.notes}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"mt-6 flex justify-end space-x-3\">\r\n                <button\r\n                  onClick={() => setShowShiftModal(false)}\r\n                  className=\"ios-button-secondary\"\r\n                >\r\n                  Schließen\r\n                </button>\r\n                \r\n                {selectedShift.status === 'final' && (\r\n                  <button\r\n                    onClick={() => confirmShift(selectedShift.shift_id)}\r\n                    className=\"ios-button-primary\"\r\n                  >\r\n                    Schicht bestätigen\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MySchedule;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}