{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JRoidl\\\\Desktop\\\\mitarbeiterapp\\\\frontend\\\\src\\\\pages\\\\admin\\\\Messages.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/admin/Messages.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../../services/api';\nimport toast from 'react-hot-toast';\nimport { EnvelopeIcon, PaperAirplaneIcon, InboxIcon, MagnifyingGlassIcon, CheckIcon, StarIcon, TrashIcon, ExclamationTriangleIcon, ChevronLeftIcon, ChevronRightIcon, UserGroupIcon, ClockIcon, EnvelopeOpenIcon } from '@heroicons/react/24/outline';\nimport { format, parseISO } from 'date-fns';\nimport { de } from 'date-fns/locale';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Messages = () => {\n  _s();\n  const navigate = useNavigate();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedMessage, setSelectedMessage] = useState(null);\n  const [folder, setFolder] = useState('inbox');\n  const [filters, setFilters] = useState({\n    search: '',\n    unread: false,\n    priority: ''\n  });\n  const [stats, setStats] = useState({\n    unread: 0,\n    total_received: 0,\n    total_sent: 0,\n    unread_high_priority: 0\n  });\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    pages: 0\n  });\n  useEffect(() => {\n    loadStats();\n  }, []);\n  useEffect(() => {\n    loadMessages();\n    setSelectedMessage(null); // Reset selected message when changing folder/filters\n  }, [folder, filters, pagination.page]);\n  const loadStats = async () => {\n    try {\n      const response = await api.get('/messages/stats');\n      setStats(response.data);\n    } catch (error) {\n      console.error('Fehler beim Laden der Statistiken:', error);\n    }\n  };\n  const loadMessages = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({\n        page: pagination.page,\n        limit: pagination.limit\n      });\n\n      // Add filters only if they have values\n      if (filters.search) {\n        params.append('search', filters.search);\n      }\n      if (filters.unread) {\n        params.append('unread', 'true');\n      }\n      if (filters.priority) {\n        params.append('priority', filters.priority);\n      }\n      const endpoint = folder === 'sent' ? '/messages/sent' : '/messages';\n      const response = await api.get(`${endpoint}?${params.toString()}`);\n      setMessages(response.data.messages || []);\n      setPagination(response.data.pagination || {\n        page: 1,\n        limit: 20,\n        total: 0,\n        pages: 0\n      });\n    } catch (error) {\n      console.error('Fehler beim Laden der Nachrichten:', error);\n      toast.error('Fehler beim Laden der Nachrichten');\n      setMessages([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadMessage = async messageId => {\n    try {\n      const response = await api.get(`/messages/${messageId}`);\n      setSelectedMessage(response.data);\n\n      // Mark as read if unread and in inbox\n      if (folder === 'inbox' && !response.data.is_read) {\n        await markAsRead(messageId);\n        // Update the message in the list\n        setMessages(prevMessages => prevMessages.map(msg => msg.id === messageId ? {\n          ...msg,\n          is_read: true\n        } : msg));\n        // Update stats\n        loadStats();\n      }\n    } catch (error) {\n      console.error('Fehler beim Laden der Nachricht:', error);\n      toast.error('Fehler beim Laden der Nachricht');\n    }\n  };\n  const markAsRead = async messageId => {\n    try {\n      await api.patch(`/messages/${messageId}/read`);\n    } catch (error) {\n      console.error('Fehler beim Markieren als gelesen:', error);\n    }\n  };\n  const markAsUnread = async messageId => {\n    try {\n      await api.patch(`/messages/${messageId}/unread`);\n\n      // Update local state\n      setMessages(prevMessages => prevMessages.map(msg => msg.id === messageId ? {\n        ...msg,\n        is_read: false\n      } : msg));\n      if ((selectedMessage === null || selectedMessage === void 0 ? void 0 : selectedMessage.id) === messageId) {\n        setSelectedMessage({\n          ...selectedMessage,\n          is_read: false\n        });\n      }\n      loadStats();\n      toast.success('Als ungelesen markiert');\n    } catch (error) {\n      console.error('Fehler beim Markieren als ungelesen:', error);\n      toast.error('Fehler beim Markieren');\n    }\n  };\n  const deleteMessage = async messageId => {\n    if (!window.confirm('Nachricht wirklich löschen?')) return;\n    try {\n      await api.delete(`/messages/${messageId}`);\n\n      // Remove from local state\n      setMessages(prevMessages => prevMessages.filter(msg => msg.id !== messageId));\n      if ((selectedMessage === null || selectedMessage === void 0 ? void 0 : selectedMessage.id) === messageId) {\n        setSelectedMessage(null);\n      }\n      toast.success('Nachricht gelöscht');\n      loadStats();\n    } catch (error) {\n      console.error('Fehler beim Löschen der Nachricht:', error);\n      toast.error('Fehler beim Löschen');\n    }\n  };\n  const getPriorityIcon = priority => {\n    switch (priority) {\n      case 'high':\n        return /*#__PURE__*/_jsxDEV(ExclamationTriangleIcon, {\n          className: \"h-5 w-5 text-ios-red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 16\n        }, this);\n      case 'low':\n        return /*#__PURE__*/_jsxDEV(StarIcon, {\n          className: \"h-5 w-5 text-ios-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  const getPriorityBadge = priority => {\n    switch (priority) {\n      case 'high':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-2 py-1 rounded-full text-xs bg-ios-red/10 text-ios-red\",\n          children: \"Hohe Priorit\\xE4t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this);\n      case 'low':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-2 py-1 rounded-full text-xs bg-ios-gray-100 text-ios-gray-500\",\n          children: \"Niedrige Priorit\\xE4t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-[calc(100vh-4rem)]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-64 bg-white border-r border-ios-gray-200 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/admin/messages/compose'),\n          className: \"w-full ios-button-primary flex items-center justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), \"Neue Nachricht\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-1 px-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFolder('inbox'),\n          className: `w-full flex items-center justify-between px-4 py-3 rounded-xl mb-1 transition-colors ${folder === 'inbox' ? 'bg-ios-blue text-white' : 'text-ios-gray-700 hover:bg-ios-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(InboxIcon, {\n              className: \"h-5 w-5 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Posteingang\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), stats.unread > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 text-xs rounded-full ${folder === 'inbox' ? 'bg-white/20 text-white' : 'bg-ios-blue text-white'}`,\n            children: stats.unread\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFolder('sent'),\n          className: `w-full flex items-center px-4 py-3 rounded-xl mb-1 transition-colors ${folder === 'sent' ? 'bg-ios-blue text-white' : 'text-ios-gray-700 hover:bg-ios-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n            className: \"h-5 w-5 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Gesendet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-ios-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-ios-gray-600 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Ungelesen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: stats.unread\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Hoch Priorit\\xE4t:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-ios-red\",\n              children: stats.unread_high_priority\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-96 bg-ios-gray-50 border-r border-ios-gray-200 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-white border-b border-ios-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-ios-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: filters.search,\n            onChange: e => setFilters({\n              ...filters,\n              search: e.target.value\n            }),\n            placeholder: \"Nachrichten durchsuchen...\",\n            className: \"ios-input pl-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [folder === 'inbox' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setFilters({\n              ...filters,\n              unread: !filters.unread\n            }),\n            className: `px-3 py-1 rounded-lg text-sm transition-colors ${filters.unread ? 'bg-ios-blue text-white' : 'bg-ios-gray-100 text-ios-gray-700 hover:bg-ios-gray-200'}`,\n            children: \"Ungelesen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.priority,\n            onChange: e => setFilters({\n              ...filters,\n              priority: e.target.value\n            }),\n            className: \"flex-1 px-3 py-1 rounded-lg text-sm bg-ios-gray-100 border-0 focus:ring-2 focus:ring-ios-blue\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Alle Priorit\\xE4ten\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"high\",\n              children: \"Hoch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"normal\",\n              children: \"Normal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"low\",\n              children: \"Niedrig\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-ios-blue mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this) : messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8 text-center text-ios-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(EnvelopeIcon, {\n            className: \"h-12 w-12 mx-auto mb-3 text-ios-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Keine Nachrichten\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divide-y divide-ios-gray-200\",\n          children: messages.map(message => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => loadMessage(message.id),\n            className: `w-full p-4 text-left hover:bg-white transition-colors ${(selectedMessage === null || selectedMessage === void 0 ? void 0 : selectedMessage.id) === message.id ? 'bg-white shadow-sm' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 flex-1 min-w-0\",\n                children: [getPriorityIcon(message.priority), folder === 'inbox' && !message.is_read && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-ios-blue rounded-full flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-sm truncate ${folder === 'inbox' && !message.is_read ? 'font-semibold text-ios-gray-900' : 'text-ios-gray-700'}`,\n                  children: folder === 'sent' ? `An ${message.recipient_count || 0} Empfänger` : message.sender_name || 'Unbekannt'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-ios-gray-500 flex-shrink-0\",\n                children: format(parseISO(message.created_at), 'dd.MM. HH:mm')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-sm ${folder === 'inbox' && !message.is_read ? 'font-medium text-ios-gray-900' : 'text-ios-gray-700'} truncate`,\n              children: message.subject\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 19\n            }, this), message.content && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-ios-gray-500 truncate mt-1\",\n              children: [message.content.substring(0, 100), \"...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 21\n            }, this), folder === 'sent' && message.read_count !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mt-2 text-xs text-ios-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(EnvelopeOpenIcon, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 23\n              }, this), message.read_count, \" von \", message.recipient_count, \" gelesen\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 21\n            }, this)]\n          }, message.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), pagination.pages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-white border-t border-ios-gray-200 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPagination(prev => ({\n            ...prev,\n            page: Math.max(1, prev.page - 1)\n          })),\n          disabled: pagination.page === 1,\n          className: \"p-2 rounded-lg hover:bg-ios-gray-100 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-ios-gray-700\",\n          children: [\"Seite \", pagination.page, \" von \", pagination.pages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPagination(prev => ({\n            ...prev,\n            page: Math.min(prev.pages, prev.page + 1)\n          })),\n          disabled: pagination.page === pagination.pages,\n          className: \"p-2 rounded-lg hover:bg-ios-gray-100 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 bg-white flex flex-col\",\n      children: selectedMessage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-ios-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-ios-gray-900 mb-2\",\n                children: selectedMessage.subject\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4 text-sm text-ios-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [folder === 'sent' ? 'Gesendet' : 'Von', \": \", selectedMessage.sender_name || 'System']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: format(parseISO(selectedMessage.created_at), 'dd. MMMM yyyy HH:mm', {\n                    locale: de\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), selectedMessage.priority !== 'normal' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 25\n                  }, this), getPriorityBadge(selectedMessage.priority)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [folder === 'inbox' && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => selectedMessage.is_read ? markAsUnread(selectedMessage.id) : markAsRead(selectedMessage.id),\n                className: \"p-2 rounded-lg hover:bg-ios-gray-100\",\n                title: selectedMessage.is_read ? 'Als ungelesen markieren' : 'Als gelesen markieren',\n                children: /*#__PURE__*/_jsxDEV(EnvelopeIcon, {\n                  className: \"h-5 w-5 text-ios-gray-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteMessage(selectedMessage.id),\n                className: \"p-2 rounded-lg hover:bg-ios-gray-100\",\n                title: \"L\\xF6schen\",\n                children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n                  className: \"h-5 w-5 text-ios-gray-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this), folder === 'sent' && selectedMessage.recipients && selectedMessage.recipients.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-3 bg-ios-gray-50 rounded-xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(UserGroupIcon, {\n                className: \"h-4 w-4 text-ios-gray-500 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-ios-gray-700\",\n                children: [\"Empf\\xE4nger (\", selectedMessage.recipients.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-ios-gray-600\",\n              children: selectedMessage.is_global ? /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"An alle Mitarbeiter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-1 max-h-32 overflow-y-auto\",\n                children: selectedMessage.recipients.map(recipient => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: recipient.name || recipient.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2 text-xs\",\n                    children: recipient.is_read ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                        className: \"h-4 w-4 text-ios-green\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 470,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-ios-gray-500\",\n                        children: recipient.read_at && format(parseISO(recipient.read_at), 'dd.MM. HH:mm')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 471,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-ios-gray-400\",\n                      children: \"Ungelesen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 29\n                  }, this)]\n                }, recipient.recipient_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-6 overflow-y-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prose max-w-none\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"whitespace-pre-wrap text-ios-gray-700\",\n              children: selectedMessage.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex items-center justify-center text-ios-gray-400\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(EnvelopeIcon, {\n            className: \"h-16 w-16 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"W\\xE4hlen Sie eine Nachricht aus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n};\n_s(Messages, \"6etTej22qlSQ+q5BlBAvxQ6TK1w=\", false, function () {\n  return [useNavigate];\n});\n_c = Messages;\nexport default Messages;\nvar _c;\n$RefreshReg$(_c, \"Messages\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","api","toast","EnvelopeIcon","PaperAirplaneIcon","InboxIcon","MagnifyingGlassIcon","CheckIcon","StarIcon","TrashIcon","ExclamationTriangleIcon","ChevronLeftIcon","ChevronRightIcon","UserGroupIcon","ClockIcon","EnvelopeOpenIcon","format","parseISO","de","jsxDEV","_jsxDEV","Fragment","_Fragment","Messages","_s","navigate","messages","setMessages","loading","setLoading","selectedMessage","setSelectedMessage","folder","setFolder","filters","setFilters","search","unread","priority","stats","setStats","total_received","total_sent","unread_high_priority","pagination","setPagination","page","limit","total","pages","loadStats","loadMessages","response","get","data","error","console","params","URLSearchParams","append","endpoint","toString","loadMessage","messageId","is_read","markAsRead","prevMessages","map","msg","id","patch","markAsUnread","success","deleteMessage","window","confirm","delete","filter","getPriorityIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getPriorityBadge","children","onClick","type","value","onChange","e","target","placeholder","length","message","recipient_count","sender_name","created_at","subject","content","substring","read_count","undefined","prev","Math","max","disabled","min","locale","title","recipients","is_global","recipient","name","email","read_at","recipient_id","_c","$RefreshReg$"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/admin/Messages.js"],"sourcesContent":["// frontend/src/pages/admin/Messages.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  EnvelopeIcon,\r\n  PaperAirplaneIcon,\r\n  InboxIcon,\r\n  MagnifyingGlassIcon,\r\n  CheckIcon,\r\n  StarIcon,\r\n  TrashIcon,\r\n  ExclamationTriangleIcon,\r\n  ChevronLeftIcon,\r\n  ChevronRightIcon,\r\n  UserGroupIcon,\r\n  ClockIcon,\r\n  EnvelopeOpenIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { format, parseISO } from 'date-fns';\r\nimport { de } from 'date-fns/locale';\r\n\r\nconst Messages = () => {\r\n  const navigate = useNavigate();\r\n  const [messages, setMessages] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedMessage, setSelectedMessage] = useState(null);\r\n  const [folder, setFolder] = useState('inbox');\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    unread: false,\r\n    priority: ''\r\n  });\r\n  const [stats, setStats] = useState({\r\n    unread: 0,\r\n    total_received: 0,\r\n    total_sent: 0,\r\n    unread_high_priority: 0\r\n  });\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadStats();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadMessages();\r\n    setSelectedMessage(null); // Reset selected message when changing folder/filters\r\n  }, [folder, filters, pagination.page]);\r\n\r\n  const loadStats = async () => {\r\n    try {\r\n      const response = await api.get('/messages/stats');\r\n      setStats(response.data);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Statistiken:', error);\r\n    }\r\n  };\r\n\r\n  const loadMessages = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const params = new URLSearchParams({\r\n        page: pagination.page,\r\n        limit: pagination.limit\r\n      });\r\n\r\n      // Add filters only if they have values\r\n      if (filters.search) {\r\n        params.append('search', filters.search);\r\n      }\r\n      if (filters.unread) {\r\n        params.append('unread', 'true');\r\n      }\r\n      if (filters.priority) {\r\n        params.append('priority', filters.priority);\r\n      }\r\n\r\n      const endpoint = folder === 'sent' ? '/messages/sent' : '/messages';\r\n      const response = await api.get(`${endpoint}?${params.toString()}`);\r\n      \r\n      setMessages(response.data.messages || []);\r\n      setPagination(response.data.pagination || {\r\n        page: 1,\r\n        limit: 20,\r\n        total: 0,\r\n        pages: 0\r\n      });\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Nachrichten:', error);\r\n      toast.error('Fehler beim Laden der Nachrichten');\r\n      setMessages([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadMessage = async (messageId) => {\r\n    try {\r\n      const response = await api.get(`/messages/${messageId}`);\r\n      setSelectedMessage(response.data);\r\n      \r\n      // Mark as read if unread and in inbox\r\n      if (folder === 'inbox' && !response.data.is_read) {\r\n        await markAsRead(messageId);\r\n        // Update the message in the list\r\n        setMessages(prevMessages => \r\n          prevMessages.map(msg => \r\n            msg.id === messageId ? { ...msg, is_read: true } : msg\r\n          )\r\n        );\r\n        // Update stats\r\n        loadStats();\r\n      }\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Nachricht:', error);\r\n      toast.error('Fehler beim Laden der Nachricht');\r\n    }\r\n  };\r\n\r\n  const markAsRead = async (messageId) => {\r\n    try {\r\n      await api.patch(`/messages/${messageId}/read`);\r\n    } catch (error) {\r\n      console.error('Fehler beim Markieren als gelesen:', error);\r\n    }\r\n  };\r\n\r\n  const markAsUnread = async (messageId) => {\r\n    try {\r\n      await api.patch(`/messages/${messageId}/unread`);\r\n      \r\n      // Update local state\r\n      setMessages(prevMessages => \r\n        prevMessages.map(msg => \r\n          msg.id === messageId ? { ...msg, is_read: false } : msg\r\n        )\r\n      );\r\n      \r\n      if (selectedMessage?.id === messageId) {\r\n        setSelectedMessage({ ...selectedMessage, is_read: false });\r\n      }\r\n      \r\n      loadStats();\r\n      toast.success('Als ungelesen markiert');\r\n    } catch (error) {\r\n      console.error('Fehler beim Markieren als ungelesen:', error);\r\n      toast.error('Fehler beim Markieren');\r\n    }\r\n  };\r\n\r\n  const deleteMessage = async (messageId) => {\r\n    if (!window.confirm('Nachricht wirklich löschen?')) return;\r\n\r\n    try {\r\n      await api.delete(`/messages/${messageId}`);\r\n      \r\n      // Remove from local state\r\n      setMessages(prevMessages => prevMessages.filter(msg => msg.id !== messageId));\r\n      \r\n      if (selectedMessage?.id === messageId) {\r\n        setSelectedMessage(null);\r\n      }\r\n      \r\n      toast.success('Nachricht gelöscht');\r\n      loadStats();\r\n    } catch (error) {\r\n      console.error('Fehler beim Löschen der Nachricht:', error);\r\n      toast.error('Fehler beim Löschen');\r\n    }\r\n  };\r\n\r\n  const getPriorityIcon = (priority) => {\r\n    switch (priority) {\r\n      case 'high':\r\n        return <ExclamationTriangleIcon className=\"h-5 w-5 text-ios-red\" />;\r\n      case 'low':\r\n        return <StarIcon className=\"h-5 w-5 text-ios-gray-400\" />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const getPriorityBadge = (priority) => {\r\n    switch (priority) {\r\n      case 'high':\r\n        return (\r\n          <span className=\"px-2 py-1 rounded-full text-xs bg-ios-red/10 text-ios-red\">\r\n            Hohe Priorität\r\n          </span>\r\n        );\r\n      case 'low':\r\n        return (\r\n          <span className=\"px-2 py-1 rounded-full text-xs bg-ios-gray-100 text-ios-gray-500\">\r\n            Niedrige Priorität\r\n          </span>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-4rem)]\">\r\n      {/* Sidebar */}\r\n      <div className=\"w-64 bg-white border-r border-ios-gray-200 flex flex-col\">\r\n        <div className=\"p-4\">\r\n          <button\r\n            onClick={() => navigate('/admin/messages/compose')}\r\n            className=\"w-full ios-button-primary flex items-center justify-center\"\r\n          >\r\n            <PaperAirplaneIcon className=\"h-5 w-5 mr-2\" />\r\n            Neue Nachricht\r\n          </button>\r\n        </div>\r\n\r\n        <nav className=\"flex-1 px-2\">\r\n          <button\r\n            onClick={() => setFolder('inbox')}\r\n            className={`w-full flex items-center justify-between px-4 py-3 rounded-xl mb-1 transition-colors ${\r\n              folder === 'inbox' \r\n                ? 'bg-ios-blue text-white' \r\n                : 'text-ios-gray-700 hover:bg-ios-gray-100'\r\n            }`}\r\n          >\r\n            <div className=\"flex items-center\">\r\n              <InboxIcon className=\"h-5 w-5 mr-3\" />\r\n              <span>Posteingang</span>\r\n            </div>\r\n            {stats.unread > 0 && (\r\n              <span className={`px-2 py-1 text-xs rounded-full ${\r\n                folder === 'inbox' \r\n                  ? 'bg-white/20 text-white' \r\n                  : 'bg-ios-blue text-white'\r\n              }`}>\r\n                {stats.unread}\r\n              </span>\r\n            )}\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setFolder('sent')}\r\n            className={`w-full flex items-center px-4 py-3 rounded-xl mb-1 transition-colors ${\r\n              folder === 'sent' \r\n                ? 'bg-ios-blue text-white' \r\n                : 'text-ios-gray-700 hover:bg-ios-gray-100'\r\n            }`}\r\n          >\r\n            <PaperAirplaneIcon className=\"h-5 w-5 mr-3\" />\r\n            <span>Gesendet</span>\r\n          </button>\r\n        </nav>\r\n\r\n        <div className=\"p-4 border-t border-ios-gray-200\">\r\n          <div className=\"text-sm text-ios-gray-600 space-y-1\">\r\n            <div className=\"flex justify-between\">\r\n              <span>Ungelesen:</span>\r\n              <span className=\"font-medium\">{stats.unread}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span>Hoch Priorität:</span>\r\n              <span className=\"font-medium text-ios-red\">{stats.unread_high_priority}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Message List */}\r\n      <div className=\"w-96 bg-ios-gray-50 border-r border-ios-gray-200 flex flex-col\">\r\n        {/* Filters */}\r\n        <div className=\"p-4 bg-white border-b border-ios-gray-200\">\r\n          <div className=\"relative mb-3\">\r\n            <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-ios-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              value={filters.search}\r\n              onChange={(e) => setFilters({ ...filters, search: e.target.value })}\r\n              placeholder=\"Nachrichten durchsuchen...\"\r\n              className=\"ios-input pl-10\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            {folder === 'inbox' && (\r\n              <button\r\n                onClick={() => setFilters({ ...filters, unread: !filters.unread })}\r\n                className={`px-3 py-1 rounded-lg text-sm transition-colors ${\r\n                  filters.unread \r\n                    ? 'bg-ios-blue text-white' \r\n                    : 'bg-ios-gray-100 text-ios-gray-700 hover:bg-ios-gray-200'\r\n                }`}\r\n              >\r\n                Ungelesen\r\n              </button>\r\n            )}\r\n            <select\r\n              value={filters.priority}\r\n              onChange={(e) => setFilters({ ...filters, priority: e.target.value })}\r\n              className=\"flex-1 px-3 py-1 rounded-lg text-sm bg-ios-gray-100 border-0 focus:ring-2 focus:ring-ios-blue\"\r\n            >\r\n              <option value=\"\">Alle Prioritäten</option>\r\n              <option value=\"high\">Hoch</option>\r\n              <option value=\"normal\">Normal</option>\r\n              <option value=\"low\">Niedrig</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Messages */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {loading ? (\r\n            <div className=\"p-8 text-center\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-ios-blue mx-auto\"></div>\r\n            </div>\r\n          ) : messages.length === 0 ? (\r\n            <div className=\"p-8 text-center text-ios-gray-500\">\r\n              <EnvelopeIcon className=\"h-12 w-12 mx-auto mb-3 text-ios-gray-300\" />\r\n              <p>Keine Nachrichten</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"divide-y divide-ios-gray-200\">\r\n              {messages.map((message) => (\r\n                <button\r\n                  key={message.id}\r\n                  onClick={() => loadMessage(message.id)}\r\n                  className={`w-full p-4 text-left hover:bg-white transition-colors ${\r\n                    selectedMessage?.id === message.id ? 'bg-white shadow-sm' : ''\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-1\">\r\n                    <div className=\"flex items-center space-x-2 flex-1 min-w-0\">\r\n                      {getPriorityIcon(message.priority)}\r\n                      {folder === 'inbox' && !message.is_read && (\r\n                        <div className=\"w-2 h-2 bg-ios-blue rounded-full flex-shrink-0\" />\r\n                      )}\r\n                      <span className={`text-sm truncate ${\r\n                        folder === 'inbox' && !message.is_read ? 'font-semibold text-ios-gray-900' : 'text-ios-gray-700'\r\n                      }`}>\r\n                        {folder === 'sent' \r\n                          ? `An ${message.recipient_count || 0} Empfänger` \r\n                          : (message.sender_name || 'Unbekannt')\r\n                        }\r\n                      </span>\r\n                    </div>\r\n                    <span className=\"text-xs text-ios-gray-500 flex-shrink-0\">\r\n                      {format(parseISO(message.created_at), 'dd.MM. HH:mm')}\r\n                    </span>\r\n                  </div>\r\n                  <p className={`text-sm ${\r\n                    folder === 'inbox' && !message.is_read ? 'font-medium text-ios-gray-900' : 'text-ios-gray-700'\r\n                  } truncate`}>\r\n                    {message.subject}\r\n                  </p>\r\n                  {message.content && (\r\n                    <p className=\"text-sm text-ios-gray-500 truncate mt-1\">\r\n                      {message.content.substring(0, 100)}...\r\n                    </p>\r\n                  )}\r\n                  {folder === 'sent' && message.read_count !== undefined && (\r\n                    <div className=\"flex items-center mt-2 text-xs text-ios-gray-500\">\r\n                      <EnvelopeOpenIcon className=\"h-4 w-4 mr-1\" />\r\n                      {message.read_count} von {message.recipient_count} gelesen\r\n                    </div>\r\n                  )}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        {pagination.pages > 1 && (\r\n          <div className=\"p-4 bg-white border-t border-ios-gray-200 flex items-center justify-between\">\r\n            <button\r\n              onClick={() => setPagination(prev => ({ ...prev, page: Math.max(1, prev.page - 1) }))}\r\n              disabled={pagination.page === 1}\r\n              className=\"p-2 rounded-lg hover:bg-ios-gray-100 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              <ChevronLeftIcon className=\"h-5 w-5\" />\r\n            </button>\r\n            <span className=\"text-sm text-ios-gray-700\">\r\n              Seite {pagination.page} von {pagination.pages}\r\n            </span>\r\n            <button\r\n              onClick={() => setPagination(prev => ({ ...prev, page: Math.min(prev.pages, prev.page + 1) }))}\r\n              disabled={pagination.page === pagination.pages}\r\n              className=\"p-2 rounded-lg hover:bg-ios-gray-100 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              <ChevronRightIcon className=\"h-5 w-5\" />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Message Detail */}\r\n      <div className=\"flex-1 bg-white flex flex-col\">\r\n        {selectedMessage ? (\r\n          <>\r\n            {/* Message Header */}\r\n            <div className=\"p-6 border-b border-ios-gray-200\">\r\n              <div className=\"flex items-start justify-between mb-4\">\r\n                <div className=\"flex-1\">\r\n                  <h2 className=\"text-xl font-semibold text-ios-gray-900 mb-2\">\r\n                    {selectedMessage.subject}\r\n                  </h2>\r\n                  <div className=\"flex items-center space-x-4 text-sm text-ios-gray-600\">\r\n                    <span>\r\n                      {folder === 'sent' ? 'Gesendet' : 'Von'}: {selectedMessage.sender_name || 'System'}\r\n                    </span>\r\n                    <span>•</span>\r\n                    <span>\r\n                      {format(parseISO(selectedMessage.created_at), 'dd. MMMM yyyy HH:mm', { locale: de })}\r\n                    </span>\r\n                    {selectedMessage.priority !== 'normal' && (\r\n                      <>\r\n                        <span>•</span>\r\n                        {getPriorityBadge(selectedMessage.priority)}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-2\">\r\n                  {folder === 'inbox' && (\r\n                    <button\r\n                      onClick={() => selectedMessage.is_read ? markAsUnread(selectedMessage.id) : markAsRead(selectedMessage.id)}\r\n                      className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n                      title={selectedMessage.is_read ? 'Als ungelesen markieren' : 'Als gelesen markieren'}\r\n                    >\r\n                      <EnvelopeIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    onClick={() => deleteMessage(selectedMessage.id)}\r\n                    className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n                    title=\"Löschen\"\r\n                  >\r\n                    <TrashIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Recipients (for sent messages) */}\r\n              {folder === 'sent' && selectedMessage.recipients && selectedMessage.recipients.length > 0 && (\r\n                <div className=\"mt-4 p-3 bg-ios-gray-50 rounded-xl\">\r\n                  <div className=\"flex items-center mb-2\">\r\n                    <UserGroupIcon className=\"h-4 w-4 text-ios-gray-500 mr-2\" />\r\n                    <span className=\"text-sm font-medium text-ios-gray-700\">\r\n                      Empfänger ({selectedMessage.recipients.length})\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"text-sm text-ios-gray-600\">\r\n                    {selectedMessage.is_global ? (\r\n                      <span>An alle Mitarbeiter</span>\r\n                    ) : (\r\n                      <div className=\"space-y-1 max-h-32 overflow-y-auto\">\r\n                        {selectedMessage.recipients.map((recipient) => (\r\n                          <div key={recipient.recipient_id} className=\"flex items-center justify-between\">\r\n                            <span>{recipient.name || recipient.email}</span>\r\n                            <div className=\"flex items-center space-x-2 text-xs\">\r\n                              {recipient.is_read ? (\r\n                                <>\r\n                                  <CheckIcon className=\"h-4 w-4 text-ios-green\" />\r\n                                  <span className=\"text-ios-gray-500\">\r\n                                    {recipient.read_at && format(parseISO(recipient.read_at), 'dd.MM. HH:mm')}\r\n                                  </span>\r\n                                </>\r\n                              ) : (\r\n                                <span className=\"text-ios-gray-400\">Ungelesen</span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Message Content */}\r\n            <div className=\"flex-1 p-6 overflow-y-auto\">\r\n              <div className=\"prose max-w-none\">\r\n                <p className=\"whitespace-pre-wrap text-ios-gray-700\">\r\n                  {selectedMessage.content}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"flex-1 flex items-center justify-center text-ios-gray-400\">\r\n            <div className=\"text-center\">\r\n              <EnvelopeIcon className=\"h-16 w-16 mx-auto mb-4\" />\r\n              <p>Wählen Sie eine Nachricht aus</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}