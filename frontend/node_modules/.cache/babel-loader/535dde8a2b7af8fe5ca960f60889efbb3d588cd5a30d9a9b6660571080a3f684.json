{"ast":null,"code":"import _objectSpread from\"C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/admin/StaffDetail.js\nimport React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import api from'../../services/api';import toast from'react-hot-toast';import{format,parseISO}from'date-fns';import{de}from'date-fns/locale';import{ArrowLeftIcon,UserCircleIcon,EnvelopeIcon,PhoneIcon,MapPinIcon,CalendarIcon,IdentificationIcon,SparklesIcon,ClockIcon,CheckCircleIcon,XCircleIcon,PencilIcon,KeyIcon,TrashIcon,ChartBarIcon,ExclamationTriangleIcon,CameraIcon,CalendarDaysIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StaffDetail=()=>{const{id}=useParams();const navigate=useNavigate();const[member,setMember]=useState(null);const[loading,setLoading]=useState(true);const[editing,setEditing]=useState(false);const[editData,setEditData]=useState({});const[availableQualifications,setAvailableQualifications]=useState([]);const[selectedQualifications,setSelectedQualifications]=useState([]);const[showPersonalCodeDialog,setShowPersonalCodeDialog]=useState(false);const[newPersonalCode,setNewPersonalCode]=useState('');const[processing,setProcessing]=useState(false);const[activeTab,setActiveTab]=useState('info');// 'info', 'shifts', 'stats'\nuseEffect(()=>{loadMember();loadQualifications();},[id]);const loadMember=async()=>{try{setLoading(true);const response=await api.get(\"/staff/\".concat(id));setMember(response.data);setEditData({first_name:response.data.first_name,last_name:response.data.last_name,email:response.data.email,phone:response.data.phone,street:response.data.street,house_number:response.data.house_number,postal_code:response.data.postal_code,city:response.data.city,tshirt_size:response.data.tshirt_size,emergency_contact:response.data.emergency_contact||'',emergency_phone:response.data.emergency_phone||'',notes:response.data.notes||''});setSelectedQualifications(response.data.qualifications.map(q=>q.id));}catch(error){console.error('Fehler beim Laden des Mitarbeiters:',error);toast.error('Mitarbeiter konnte nicht geladen werden');navigate('/admin/staff');}finally{setLoading(false);}};const loadQualifications=async()=>{try{const response=await api.get('/settings/qualifications');setAvailableQualifications(response.data.qualifications.filter(q=>q.is_active));}catch(error){console.error('Fehler beim Laden der Qualifikationen:',error);}};const handleSave=async()=>{setProcessing(true);try{await api.put(\"/staff/\".concat(id),_objectSpread(_objectSpread({},editData),{},{qualifications:selectedQualifications}));toast.success('Mitarbeiter erfolgreich aktualisiert');setEditing(false);loadMember();}catch(error){console.error('Fehler beim Speichern:',error);toast.error('Fehler beim Speichern der Änderungen');}finally{setProcessing(false);}};const handleToggleStatus=async()=>{if(!window.confirm(\"M\\xF6chten Sie diesen Mitarbeiter wirklich \".concat(member.is_active?'deaktivieren':'aktivieren',\"?\")))return;setProcessing(true);try{await api.patch(\"/staff/\".concat(id,\"/status\"),{is_active:!member.is_active});toast.success(\"Mitarbeiter \".concat(!member.is_active?'aktiviert':'deaktiviert'));loadMember();}catch(error){console.error('Fehler beim Ändern des Status:',error);toast.error('Status konnte nicht geändert werden');}finally{setProcessing(false);}};const handleUpdatePersonalCode=async()=>{if(!newPersonalCode||newPersonalCode.length<6){toast.error('Personal-Code muss mindestens 6 Zeichen lang sein');return;}setProcessing(true);try{await api.patch(\"/staff/\".concat(id,\"/personal-code\"),{personal_code:newPersonalCode.toUpperCase()});toast.success('Personal-Code erfolgreich geändert');setShowPersonalCodeDialog(false);setNewPersonalCode('');loadMember();}catch(error){var _error$response,_error$response$data;console.error('Fehler beim Ändern des Personal-Codes:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Personal-Code konnte nicht geändert werden');}finally{setProcessing(false);}};const handleResetPassword=async()=>{if(!window.confirm('Möchten Sie wirklich ein Passwort-Reset für diesen Mitarbeiter auslösen?'))return;setProcessing(true);try{await api.post(\"/staff/\".concat(id,\"/reset-password\"));toast.success('Passwort-Reset E-Mail wurde versendet');}catch(error){console.error('Fehler beim Passwort-Reset:',error);toast.error('Passwort-Reset konnte nicht durchgeführt werden');}finally{setProcessing(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6 space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-32 bg-ios-gray-200 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-20 bg-ios-gray-200 rounded\"})]})]})});}if(!member)return null;const age=new Date().getFullYear()-new Date(member.birth_date).getFullYear();return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/admin/staff'),className:\"p-2 rounded-lg hover:bg-ios-gray-100\",children:/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 text-ios-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-ios-gray-900\",children:\"Mitarbeiterdetails\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-ios-gray-600\",children:[\"Mitglied seit \",format(parseISO(member.hired_date||member.user_created_at),'MMMM yyyy',{locale:de})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[member.is_active?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-ios-green/10 text-ios-green\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-4 h-4 mr-1.5\"}),\"Aktiv\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-ios-red/10 text-ios-red\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"w-4 h-4 mr-1.5\"}),\"Inaktiv\"]}),member.role==='admin'&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-ios-purple/10 text-ios-purple\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1 mb-6 bg-ios-gray-100 p-1 rounded-xl\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('info'),className:\"flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='info'?'bg-white text-ios-gray-900 shadow-sm':'text-ios-gray-600 hover:text-ios-gray-900'),children:\"Informationen\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('shifts'),className:\"flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='shifts'?'bg-white text-ios-gray-900 shadow-sm':'text-ios-gray-600 hover:text-ios-gray-900'),children:\"Schichten\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('stats'),className:\"flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='stats'?'bg-white text-ios-gray-900 shadow-sm':'text-ios-gray-600 hover:text-ios-gray-900'),children:\"Statistiken\"})]}),activeTab==='info'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-ios-gray-900\",children:\"Pers\\xF6nliche Daten\"}),!editing?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setEditing(true),className:\"ios-button-secondary text-sm\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-1.5\"}),\"Bearbeiten\"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditing(false);loadMember();},className:\"ios-button-secondary text-sm\",children:\"Abbrechen\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,disabled:processing,className:\"ios-button-primary text-sm\",children:processing?'Speichern...':'Speichern'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0\",children:[member.profile_image_url?/*#__PURE__*/_jsx(\"img\",{src:member.profile_image_url,alt:\"\".concat(member.first_name,\" \").concat(member.last_name),className:\"h-32 w-32 rounded-2xl object-cover shadow-lg\"}):/*#__PURE__*/_jsx(\"div\",{className:\"h-32 w-32 rounded-2xl bg-ios-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-16 w-16 text-ios-gray-400\"})}),editing&&/*#__PURE__*/_jsxs(\"button\",{className:\"mt-2 w-full ios-button-secondary text-xs\",children:[/*#__PURE__*/_jsx(CameraIcon,{className:\"h-3 w-3 mr-1\"}),\"Bild \\xE4ndern\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4\",children:editing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-1\",children:\"Vorname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.first_name,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{first_name:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-1\",children:\"Nachname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.last_name,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{last_name:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-1\",children:\"E-Mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:editData.email,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{email:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-1\",children:\"Telefon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:editData.phone,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{phone:e.target.value})),className:\"ios-input\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Name\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-ios-gray-900\",children:[member.first_name,\" \",member.last_name]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Geburtsdatum\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-ios-gray-900\",children:[format(parseISO(member.birth_date),'dd.MM.yyyy'),\" (\",age,\" Jahre)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"E-Mail\"}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(member.email),className:\"font-medium text-ios-blue hover:underline\",children:member.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Telefon\"}),/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(member.phone),className:\"font-medium text-ios-blue hover:underline\",children:member.phone})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-ios-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-5 w-5 mr-2\"}),\"Adresse\"]}),editing?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.street,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{street:e.target.value})),placeholder:\"Stra\\xDFe\",className:\"ios-input flex-1\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.house_number,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{house_number:e.target.value})),placeholder:\"Nr.\",className:\"ios-input w-20\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.postal_code,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{postal_code:e.target.value})),placeholder:\"PLZ\",className:\"ios-input w-24\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.city,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{city:e.target.value})),placeholder:\"Stadt\",className:\"ios-input flex-1\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[member.street,\" \",member.house_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[member.postal_code,\" \",member.city]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-ios-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(IdentificationIcon,{className:\"h-5 w-5 mr-2\"}),\"Zus\\xE4tzliche Informationen\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-ios-gray-600\",children:\"Personal-Code\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-mono font-medium text-ios-gray-900\",children:member.personal_code}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPersonalCodeDialog(true),className:\"text-ios-blue hover:text-blue-600\",title:\"Personal-Code \\xE4ndern\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-ios-gray-600\",children:\"T-Shirt Gr\\xF6\\xDFe\"}),editing?/*#__PURE__*/_jsxs(\"select\",{value:editData.tshirt_size,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{tshirt_size:e.target.value})),className:\"ios-input py-1 px-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"XS\",children:\"XS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"S\",children:\"S\"}),/*#__PURE__*/_jsx(\"option\",{value:\"M\",children:\"M\"}),/*#__PURE__*/_jsx(\"option\",{value:\"L\",children:\"L\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XL\",children:\"XL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XXL\",children:\"XXL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3XL\",children:\"3XL\"})]}):/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-ios-gray-900\",children:member.tshirt_size})]}),editing&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-ios-gray-600 mb-1\",children:\"Notfallkontakt\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.emergency_contact,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{emergency_contact:e.target.value})),placeholder:\"Name des Notfallkontakts\",className:\"ios-input text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-ios-gray-600 mb-1\",children:\"Notfallnummer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:editData.emergency_phone,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{emergency_phone:e.target.value})),placeholder:\"Telefonnummer\",className:\"ios-input text-sm\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-ios-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(SparklesIcon,{className:\"h-5 w-5 mr-2\"}),\"Qualifikationen\"]}),editing?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-3\",children:availableQualifications.map(qual=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{if(selectedQualifications.includes(qual.id)){setSelectedQualifications(prev=>prev.filter(id=>id!==qual.id));}else{setSelectedQualifications(prev=>[...prev,qual.id]);}},className:\"p-3 rounded-xl border-2 text-sm font-medium transition-all \".concat(selectedQualifications.includes(qual.id)?'border-ios-blue bg-ios-blue/10 text-ios-blue':'border-ios-gray-300 text-ios-gray-700 hover:border-ios-gray-400'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full mx-auto mb-2\",style:{backgroundColor:qual.color}}),qual.name]},qual.id))}):/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:member.qualifications.length>0?member.qualifications.map(qual=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-ios-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full mr-2\",style:{backgroundColor:qual.color}}),qual.name]},qual.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-500\",children:\"Keine Qualifikationen zugewiesen\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleToggleStatus,disabled:processing,className:\"flex-1 ios-button \".concat(member.is_active?'bg-ios-orange text-white hover:bg-orange-600':'bg-ios-green text-white hover:bg-green-600',\" disabled:opacity-50\"),children:member.is_active?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5 mr-2\"}),\"Mitarbeiter deaktivieren\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 mr-2\"}),\"Mitarbeiter aktivieren\"]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleResetPassword,disabled:processing,className:\"flex-1 ios-button-secondary disabled:opacity-50\",children:[/*#__PURE__*/_jsx(KeyIcon,{className:\"h-5 w-5 mr-2\"}),\"Passwort zur\\xFCcksetzen\"]})]})]}),activeTab==='shifts'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-ios-gray-900 mb-4\",children:\"Schicht-Historie\"}),member.shiftHistory&&member.shiftHistory.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:member.shiftHistory.map(shift=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-ios-gray-50 rounded-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:shift.event_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-ios-gray-600\",children:[shift.shift_name,\" \\u2022 \",shift.position_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-ios-gray-500 mt-1\",children:[format(parseISO(shift.start_time),'dd.MM.yyyy HH:mm'),\" -\",format(parseISO(shift.end_time),'HH:mm'),\" Uhr\"]})]}),shift.status==='confirmed'&&/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 text-ios-green flex-shrink-0\"})]})},shift.shift_id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-500 text-center py-8\",children:\"Noch keine Schichten zugewiesen\"})]}),activeTab==='stats'&&member.workStats&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ios-card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Gesamtstunden\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:[member.workStats.total_hours,\"h\"]})]}),/*#__PURE__*/_jsx(ClockIcon,{className:\"h-8 w-8 text-ios-blue\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ios-card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Arbeitstage\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:member.workStats.days_worked})]}),/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-8 w-8 text-ios-purple\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ios-card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Eintr\\xE4ge\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:member.workStats.total_entries})]}),/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-8 w-8 text-ios-green\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ios-card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Monate aktiv\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:member.workStats.months_worked})]}),/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"h-8 w-8 text-ios-orange\"})]})})]}),showPersonalCodeDialog&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full items-center justify-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/40 backdrop-blur-sm\",onClick:()=>setShowPersonalCodeDialog(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-2xl shadow-xl max-w-md w-full p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-ios-gray-900 mb-4\",children:\"Personal-Code \\xE4ndern\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-ios-gray-600 mb-4\",children:[\"Der aktuelle Code ist: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono font-medium\",children:member.personal_code})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Neuer Personal-Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPersonalCode,onChange:e=>setNewPersonalCode(e.target.value.toUpperCase()),placeholder:\"Mindestens 6 Zeichen\",className:\"ios-input font-mono\",maxLength:\"20\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-ios-gray-500\",children:\"Nur Gro\\xDFbuchstaben und Zahlen erlaubt\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowPersonalCodeDialog(false);setNewPersonalCode('');},className:\"flex-1 ios-button-secondary\",children:\"Abbrechen\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdatePersonalCode,disabled:processing||newPersonalCode.length<6,className:\"flex-1 ios-button-primary disabled:opacity-50\",children:processing?'Ändern...':'Ändern'})]})]})]})})]});};export default StaffDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","api","toast","format","parseISO","de","ArrowLeftIcon","UserCircleIcon","EnvelopeIcon","PhoneIcon","MapPinIcon","CalendarIcon","IdentificationIcon","SparklesIcon","ClockIcon","CheckCircleIcon","XCircleIcon","PencilIcon","KeyIcon","TrashIcon","ChartBarIcon","ExclamationTriangleIcon","CameraIcon","CalendarDaysIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StaffDetail","id","navigate","member","setMember","loading","setLoading","editing","setEditing","editData","setEditData","availableQualifications","setAvailableQualifications","selectedQualifications","setSelectedQualifications","showPersonalCodeDialog","setShowPersonalCodeDialog","newPersonalCode","setNewPersonalCode","processing","setProcessing","activeTab","setActiveTab","loadMember","loadQualifications","response","get","concat","data","first_name","last_name","email","phone","street","house_number","postal_code","city","tshirt_size","emergency_contact","emergency_phone","notes","qualifications","map","q","error","console","filter","is_active","handleSave","put","_objectSpread","success","handleToggleStatus","window","confirm","patch","handleUpdatePersonalCode","length","personal_code","toUpperCase","_error$response","_error$response$data","message","handleResetPassword","post","className","children","age","Date","getFullYear","birth_date","onClick","hired_date","user_created_at","locale","role","disabled","profile_image_url","src","alt","type","value","onChange","e","target","href","placeholder","title","qual","includes","prev","style","backgroundColor","color","name","shiftHistory","shift","event_name","shift_name","position_name","start_time","end_time","status","shift_id","workStats","total_hours","days_worked","total_entries","months_worked","maxLength"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/admin/StaffDetail.js"],"sourcesContent":["// frontend/src/pages/admin/StaffDetail.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport api from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport { format, parseISO } from 'date-fns';\r\nimport { de } from 'date-fns/locale';\r\nimport {\r\n  ArrowLeftIcon,\r\n  UserCircleIcon,\r\n  EnvelopeIcon,\r\n  PhoneIcon,\r\n  MapPinIcon,\r\n  CalendarIcon,\r\n  IdentificationIcon,\r\n  SparklesIcon,\r\n  ClockIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  PencilIcon,\r\n  KeyIcon,\r\n  TrashIcon,\r\n  ChartBarIcon,\r\n  ExclamationTriangleIcon,\r\n  CameraIcon,\r\n  CalendarDaysIcon,\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst StaffDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [member, setMember] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(false);\r\n  const [editData, setEditData] = useState({});\r\n  const [availableQualifications, setAvailableQualifications] = useState([]);\r\n  const [selectedQualifications, setSelectedQualifications] = useState([]);\r\n  const [showPersonalCodeDialog, setShowPersonalCodeDialog] = useState(false);\r\n  const [newPersonalCode, setNewPersonalCode] = useState('');\r\n  const [processing, setProcessing] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('info'); // 'info', 'shifts', 'stats'\r\n\r\n  useEffect(() => {\r\n    loadMember();\r\n    loadQualifications();\r\n  }, [id]);\r\n\r\n  const loadMember = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/staff/${id}`);\r\n      setMember(response.data);\r\n      setEditData({\r\n        first_name: response.data.first_name,\r\n        last_name: response.data.last_name,\r\n        email: response.data.email,\r\n        phone: response.data.phone,\r\n        street: response.data.street,\r\n        house_number: response.data.house_number,\r\n        postal_code: response.data.postal_code,\r\n        city: response.data.city,\r\n        tshirt_size: response.data.tshirt_size,\r\n        emergency_contact: response.data.emergency_contact || '',\r\n        emergency_phone: response.data.emergency_phone || '',\r\n        notes: response.data.notes || ''\r\n      });\r\n      setSelectedQualifications(response.data.qualifications.map(q => q.id));\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden des Mitarbeiters:', error);\r\n      toast.error('Mitarbeiter konnte nicht geladen werden');\r\n      navigate('/admin/staff');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadQualifications = async () => {\r\n    try {\r\n      const response = await api.get('/settings/qualifications');\r\n      setAvailableQualifications(response.data.qualifications.filter(q => q.is_active));\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Qualifikationen:', error);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setProcessing(true);\r\n    try {\r\n      await api.put(`/staff/${id}`, {\r\n        ...editData,\r\n        qualifications: selectedQualifications\r\n      });\r\n      \r\n      toast.success('Mitarbeiter erfolgreich aktualisiert');\r\n      setEditing(false);\r\n      loadMember();\r\n    } catch (error) {\r\n      console.error('Fehler beim Speichern:', error);\r\n      toast.error('Fehler beim Speichern der Änderungen');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = async () => {\r\n    if (!window.confirm(`Möchten Sie diesen Mitarbeiter wirklich ${member.is_active ? 'deaktivieren' : 'aktivieren'}?`)) return;\r\n\r\n    setProcessing(true);\r\n    try {\r\n      await api.patch(`/staff/${id}/status`, {\r\n        is_active: !member.is_active\r\n      });\r\n      \r\n      toast.success(`Mitarbeiter ${!member.is_active ? 'aktiviert' : 'deaktiviert'}`);\r\n      loadMember();\r\n    } catch (error) {\r\n      console.error('Fehler beim Ändern des Status:', error);\r\n      toast.error('Status konnte nicht geändert werden');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdatePersonalCode = async () => {\r\n    if (!newPersonalCode || newPersonalCode.length < 6) {\r\n      toast.error('Personal-Code muss mindestens 6 Zeichen lang sein');\r\n      return;\r\n    }\r\n\r\n    setProcessing(true);\r\n    try {\r\n      await api.patch(`/staff/${id}/personal-code`, {\r\n        personal_code: newPersonalCode.toUpperCase()\r\n      });\r\n      \r\n      toast.success('Personal-Code erfolgreich geändert');\r\n      setShowPersonalCodeDialog(false);\r\n      setNewPersonalCode('');\r\n      loadMember();\r\n    } catch (error) {\r\n      console.error('Fehler beim Ändern des Personal-Codes:', error);\r\n      toast.error(error.response?.data?.message || 'Personal-Code konnte nicht geändert werden');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = async () => {\r\n    if (!window.confirm('Möchten Sie wirklich ein Passwort-Reset für diesen Mitarbeiter auslösen?')) return;\r\n\r\n    setProcessing(true);\r\n    try {\r\n      await api.post(`/staff/${id}/reset-password`);\r\n      toast.success('Passwort-Reset E-Mail wurde versendet');\r\n    } catch (error) {\r\n      console.error('Fehler beim Passwort-Reset:', error);\r\n      toast.error('Passwort-Reset konnte nicht durchgeführt werden');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"></div>\r\n          <div className=\"ios-card p-6 space-y-4\">\r\n            <div className=\"h-32 bg-ios-gray-200 rounded\"></div>\r\n            <div className=\"h-20 bg-ios-gray-200 rounded\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!member) return null;\r\n\r\n  const age = new Date().getFullYear() - new Date(member.birth_date).getFullYear();\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-6xl mx-auto\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <button\r\n            onClick={() => navigate('/admin/staff')}\r\n            className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n          </button>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-ios-gray-900\">Mitarbeiterdetails</h1>\r\n            <p className=\"text-ios-gray-600\">\r\n              Mitglied seit {format(parseISO(member.hired_date || member.user_created_at), 'MMMM yyyy', { locale: de })}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          {member.is_active ? (\r\n            <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-ios-green/10 text-ios-green\">\r\n              <CheckCircleIcon className=\"w-4 h-4 mr-1.5\" />\r\n              Aktiv\r\n            </span>\r\n          ) : (\r\n            <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-ios-red/10 text-ios-red\">\r\n              <XCircleIcon className=\"w-4 h-4 mr-1.5\" />\r\n              Inaktiv\r\n            </span>\r\n          )}\r\n          {member.role === 'admin' && (\r\n            <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-ios-purple/10 text-ios-purple\">\r\n              Admin\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex space-x-1 mb-6 bg-ios-gray-100 p-1 rounded-xl\">\r\n        <button\r\n          onClick={() => setActiveTab('info')}\r\n          className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${\r\n            activeTab === 'info'\r\n              ? 'bg-white text-ios-gray-900 shadow-sm'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          Informationen\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('shifts')}\r\n          className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${\r\n            activeTab === 'shifts'\r\n              ? 'bg-white text-ios-gray-900 shadow-sm'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          Schichten\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('stats')}\r\n          className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${\r\n            activeTab === 'stats'\r\n              ? 'bg-white text-ios-gray-900 shadow-sm'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          Statistiken\r\n        </button>\r\n      </div>\r\n\r\n      {activeTab === 'info' && (\r\n        <>\r\n          {/* Basic Info */}\r\n          <div className=\"ios-card p-6 mb-6\">\r\n            <div className=\"flex items-start justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold text-ios-gray-900\">Persönliche Daten</h2>\r\n              {!editing ? (\r\n                <button\r\n                  onClick={() => setEditing(true)}\r\n                  className=\"ios-button-secondary text-sm\"\r\n                >\r\n                  <PencilIcon className=\"h-4 w-4 mr-1.5\" />\r\n                  Bearbeiten\r\n                </button>\r\n              ) : (\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setEditing(false);\r\n                      loadMember();\r\n                    }}\r\n                    className=\"ios-button-secondary text-sm\"\r\n                  >\r\n                    Abbrechen\r\n                  </button>\r\n                  <button\r\n                    onClick={handleSave}\r\n                    disabled={processing}\r\n                    className=\"ios-button-primary text-sm\"\r\n                  >\r\n                    {processing ? 'Speichern...' : 'Speichern'}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-start space-x-6\">\r\n              {/* Profile Image */}\r\n              <div className=\"flex-shrink-0\">\r\n                {member.profile_image_url ? (\r\n                  <img\r\n                    src={member.profile_image_url}\r\n                    alt={`${member.first_name} ${member.last_name}`}\r\n                    className=\"h-32 w-32 rounded-2xl object-cover shadow-lg\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"h-32 w-32 rounded-2xl bg-ios-gray-200 flex items-center justify-center\">\r\n                    <UserCircleIcon className=\"h-16 w-16 text-ios-gray-400\" />\r\n                  </div>\r\n                )}\r\n                {editing && (\r\n                  <button className=\"mt-2 w-full ios-button-secondary text-xs\">\r\n                    <CameraIcon className=\"h-3 w-3 mr-1\" />\r\n                    Bild ändern\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              {/* Info Grid */}\r\n              <div className=\"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {editing ? (\r\n                  <>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-ios-gray-700 mb-1\">Vorname</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editData.first_name}\r\n                        onChange={(e) => setEditData({ ...editData, first_name: e.target.value })}\r\n                        className=\"ios-input\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-ios-gray-700 mb-1\">Nachname</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editData.last_name}\r\n                        onChange={(e) => setEditData({ ...editData, last_name: e.target.value })}\r\n                        className=\"ios-input\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-ios-gray-700 mb-1\">E-Mail</label>\r\n                      <input\r\n                        type=\"email\"\r\n                        value={editData.email}\r\n                        onChange={(e) => setEditData({ ...editData, email: e.target.value })}\r\n                        className=\"ios-input\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-ios-gray-700 mb-1\">Telefon</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={editData.phone}\r\n                        onChange={(e) => setEditData({ ...editData, phone: e.target.value })}\r\n                        className=\"ios-input\"\r\n                      />\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div>\r\n                      <p className=\"text-sm text-ios-gray-600\">Name</p>\r\n                      <p className=\"font-medium text-ios-gray-900\">{member.first_name} {member.last_name}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-ios-gray-600\">Geburtsdatum</p>\r\n                      <p className=\"font-medium text-ios-gray-900\">\r\n                        {format(parseISO(member.birth_date), 'dd.MM.yyyy')} ({age} Jahre)\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-ios-gray-600\">E-Mail</p>\r\n                      <a href={`mailto:${member.email}`} className=\"font-medium text-ios-blue hover:underline\">\r\n                        {member.email}\r\n                      </a>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-ios-gray-600\">Telefon</p>\r\n                      <a href={`tel:${member.phone}`} className=\"font-medium text-ios-blue hover:underline\">\r\n                        {member.phone}\r\n                      </a>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Address & Additional Info */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            <div className=\"ios-card p-6\">\r\n              <h3 className=\"font-semibold text-ios-gray-900 mb-4 flex items-center\">\r\n                <MapPinIcon className=\"h-5 w-5 mr-2\" />\r\n                Adresse\r\n              </h3>\r\n              {editing ? (\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex space-x-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editData.street}\r\n                      onChange={(e) => setEditData({ ...editData, street: e.target.value })}\r\n                      placeholder=\"Straße\"\r\n                      className=\"ios-input flex-1\"\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editData.house_number}\r\n                      onChange={(e) => setEditData({ ...editData, house_number: e.target.value })}\r\n                      placeholder=\"Nr.\"\r\n                      className=\"ios-input w-20\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex space-x-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editData.postal_code}\r\n                      onChange={(e) => setEditData({ ...editData, postal_code: e.target.value })}\r\n                      placeholder=\"PLZ\"\r\n                      className=\"ios-input w-24\"\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editData.city}\r\n                      onChange={(e) => setEditData({ ...editData, city: e.target.value })}\r\n                      placeholder=\"Stadt\"\r\n                      className=\"ios-input flex-1\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-1 text-sm text-ios-gray-600\">\r\n                  <p>{member.street} {member.house_number}</p>\r\n                  <p>{member.postal_code} {member.city}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"ios-card p-6\">\r\n              <h3 className=\"font-semibold text-ios-gray-900 mb-4 flex items-center\">\r\n                <IdentificationIcon className=\"h-5 w-5 mr-2\" />\r\n                Zusätzliche Informationen\r\n              </h3>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm text-ios-gray-600\">Personal-Code</span>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className=\"font-mono font-medium text-ios-gray-900\">{member.personal_code}</span>\r\n                    <button\r\n                      onClick={() => setShowPersonalCodeDialog(true)}\r\n                      className=\"text-ios-blue hover:text-blue-600\"\r\n                      title=\"Personal-Code ändern\"\r\n                    >\r\n                      <PencilIcon className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-sm text-ios-gray-600\">T-Shirt Größe</span>\r\n                  {editing ? (\r\n                    <select\r\n                      value={editData.tshirt_size}\r\n                      onChange={(e) => setEditData({ ...editData, tshirt_size: e.target.value })}\r\n                      className=\"ios-input py-1 px-2 text-sm\"\r\n                    >\r\n                      <option value=\"XS\">XS</option>\r\n                      <option value=\"S\">S</option>\r\n                      <option value=\"M\">M</option>\r\n                      <option value=\"L\">L</option>\r\n                      <option value=\"XL\">XL</option>\r\n                      <option value=\"XXL\">XXL</option>\r\n                      <option value=\"3XL\">3XL</option>\r\n                    </select>\r\n                  ) : (\r\n                    <span className=\"font-medium text-ios-gray-900\">{member.tshirt_size}</span>\r\n                  )}\r\n                </div>\r\n                {editing && (\r\n                  <>\r\n                    <div>\r\n                      <label className=\"block text-sm text-ios-gray-600 mb-1\">Notfallkontakt</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editData.emergency_contact}\r\n                        onChange={(e) => setEditData({ ...editData, emergency_contact: e.target.value })}\r\n                        placeholder=\"Name des Notfallkontakts\"\r\n                        className=\"ios-input text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm text-ios-gray-600 mb-1\">Notfallnummer</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={editData.emergency_phone}\r\n                        onChange={(e) => setEditData({ ...editData, emergency_phone: e.target.value })}\r\n                        placeholder=\"Telefonnummer\"\r\n                        className=\"ios-input text-sm\"\r\n                      />\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Qualifications */}\r\n          <div className=\"ios-card p-6 mb-6\">\r\n            <h3 className=\"font-semibold text-ios-gray-900 mb-4 flex items-center\">\r\n              <SparklesIcon className=\"h-5 w-5 mr-2\" />\r\n              Qualifikationen\r\n            </h3>\r\n            {editing ? (\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n                {availableQualifications.map((qual) => (\r\n                  <button\r\n                    key={qual.id}\r\n                    onClick={() => {\r\n                      if (selectedQualifications.includes(qual.id)) {\r\n                        setSelectedQualifications(prev => prev.filter(id => id !== qual.id));\r\n                      } else {\r\n                        setSelectedQualifications(prev => [...prev, qual.id]);\r\n                      }\r\n                    }}\r\n                    className={`p-3 rounded-xl border-2 text-sm font-medium transition-all ${\r\n                      selectedQualifications.includes(qual.id)\r\n                        ? 'border-ios-blue bg-ios-blue/10 text-ios-blue'\r\n                        : 'border-ios-gray-300 text-ios-gray-700 hover:border-ios-gray-400'\r\n                    }`}\r\n                  >\r\n                    <div \r\n                      className=\"w-3 h-3 rounded-full mx-auto mb-2\"\r\n                      style={{ backgroundColor: qual.color }}\r\n                    />\r\n                    {qual.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {member.qualifications.length > 0 ? (\r\n                  member.qualifications.map((qual) => (\r\n                    <span\r\n                      key={qual.id}\r\n                      className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-ios-gray-100\"\r\n                    >\r\n                      <div \r\n                        className=\"w-2 h-2 rounded-full mr-2\"\r\n                        style={{ backgroundColor: qual.color }}\r\n                      />\r\n                      {qual.name}\r\n                    </span>\r\n                  ))\r\n                ) : (\r\n                  <p className=\"text-sm text-ios-gray-500\">Keine Qualifikationen zugewiesen</p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <button\r\n              onClick={handleToggleStatus}\r\n              disabled={processing}\r\n              className={`flex-1 ios-button ${\r\n                member.is_active \r\n                  ? 'bg-ios-orange text-white hover:bg-orange-600' \r\n                  : 'bg-ios-green text-white hover:bg-green-600'\r\n              } disabled:opacity-50`}\r\n            >\r\n              {member.is_active ? (\r\n                <>\r\n                  <XCircleIcon className=\"h-5 w-5 mr-2\" />\r\n                  Mitarbeiter deaktivieren\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <CheckCircleIcon className=\"h-5 w-5 mr-2\" />\r\n                  Mitarbeiter aktivieren\r\n                </>\r\n              )}\r\n            </button>\r\n            <button\r\n              onClick={handleResetPassword}\r\n              disabled={processing}\r\n              className=\"flex-1 ios-button-secondary disabled:opacity-50\"\r\n            >\r\n              <KeyIcon className=\"h-5 w-5 mr-2\" />\r\n              Passwort zurücksetzen\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {activeTab === 'shifts' && (\r\n        <div className=\"ios-card p-6\">\r\n          <h3 className=\"font-semibold text-ios-gray-900 mb-4\">Schicht-Historie</h3>\r\n          {member.shiftHistory && member.shiftHistory.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {member.shiftHistory.map((shift) => (\r\n                <div key={shift.shift_id} className=\"p-4 bg-ios-gray-50 rounded-xl\">\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div>\r\n                      <p className=\"font-medium text-ios-gray-900\">{shift.event_name}</p>\r\n                      <p className=\"text-sm text-ios-gray-600\">\r\n                        {shift.shift_name} • {shift.position_name}\r\n                      </p>\r\n                      <p className=\"text-xs text-ios-gray-500 mt-1\">\r\n                        {format(parseISO(shift.start_time), 'dd.MM.yyyy HH:mm')} - \r\n                        {format(parseISO(shift.end_time), 'HH:mm')} Uhr\r\n                      </p>\r\n                    </div>\r\n                    {shift.status === 'confirmed' && (\r\n                      <CheckCircleIcon className=\"h-5 w-5 text-ios-green flex-shrink-0\" />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-sm text-ios-gray-500 text-center py-8\">\r\n              Noch keine Schichten zugewiesen\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'stats' && member.workStats && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <div className=\"ios-card p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-ios-gray-600\">Gesamtstunden</p>\r\n                <p className=\"text-2xl font-bold text-ios-gray-900\">{member.workStats.total_hours}h</p>\r\n              </div>\r\n              <ClockIcon className=\"h-8 w-8 text-ios-blue\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"ios-card p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-ios-gray-600\">Arbeitstage</p>\r\n                <p className=\"text-2xl font-bold text-ios-gray-900\">{member.workStats.days_worked}</p>\r\n              </div>\r\n              <CalendarIcon className=\"h-8 w-8 text-ios-purple\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"ios-card p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-ios-gray-600\">Einträge</p>\r\n                <p className=\"text-2xl font-bold text-ios-gray-900\">{member.workStats.total_entries}</p>\r\n              </div>\r\n              <ChartBarIcon className=\"h-8 w-8 text-ios-green\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"ios-card p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-ios-gray-600\">Monate aktiv</p>\r\n                <p className=\"text-2xl font-bold text-ios-gray-900\">{member.workStats.months_worked}</p>\r\n              </div>\r\n              <CalendarDaysIcon className=\"h-8 w-8 text-ios-orange\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Personal Code Dialog */}\r\n      {showPersonalCodeDialog && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex min-h-full items-center justify-center p-4\">\r\n            <div className=\"fixed inset-0 bg-black/40 backdrop-blur-sm\" onClick={() => setShowPersonalCodeDialog(false)} />\r\n            \r\n            <div className=\"relative bg-white rounded-2xl shadow-xl max-w-md w-full p-6\">\r\n              <h3 className=\"text-lg font-semibold text-ios-gray-900 mb-4\">\r\n                Personal-Code ändern\r\n              </h3>\r\n              \r\n              <p className=\"text-sm text-ios-gray-600 mb-4\">\r\n                Der aktuelle Code ist: <span className=\"font-mono font-medium\">{member.personal_code}</span>\r\n              </p>\r\n              \r\n              <div className=\"mb-6\">\r\n                <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">\r\n                  Neuer Personal-Code\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newPersonalCode}\r\n                  onChange={(e) => setNewPersonalCode(e.target.value.toUpperCase())}\r\n                  placeholder=\"Mindestens 6 Zeichen\"\r\n                  className=\"ios-input font-mono\"\r\n                  maxLength=\"20\"\r\n                />\r\n                <p className=\"mt-1 text-xs text-ios-gray-500\">\r\n                  Nur Großbuchstaben und Zahlen erlaubt\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"flex space-x-3\">\r\n                <button\r\n                  onClick={() => {\r\n                    setShowPersonalCodeDialog(false);\r\n                    setNewPersonalCode('');\r\n                  }}\r\n                  className=\"flex-1 ios-button-secondary\"\r\n                >\r\n                  Abbrechen\r\n                </button>\r\n                <button\r\n                  onClick={handleUpdatePersonalCode}\r\n                  disabled={processing || newPersonalCode.length < 6}\r\n                  className=\"flex-1 ios-button-primary disabled:opacity-50\"\r\n                >\r\n                  {processing ? 'Ändern...' : 'Ändern'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffDetail;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}