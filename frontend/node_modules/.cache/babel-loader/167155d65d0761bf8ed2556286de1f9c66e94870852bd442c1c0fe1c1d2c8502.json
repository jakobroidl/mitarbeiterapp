{"ast":null,"code":"// frontend/src/pages/staff/MyShifts.js\nimport React,{useState,useEffect}from'react';import api from'../../services/api';import toast from'react-hot-toast';import{CalendarIcon,ClockIcon,MapPinIcon,CheckCircleIcon,XCircleIcon,ExclamationTriangleIcon,InformationCircleIcon,ShieldExclamationIcon,AcademicCapIcon,ChevronRightIcon,FunnelIcon,ArrowPathIcon,XMarkIcon,UserGroupIcon,ArrowRightIcon,MagnifyingGlassIcon}from'@heroicons/react/24/outline';import{format,parseISO}from'date-fns';import{de}from'date-fns/locale';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MyShifts=()=>{// State für beide Tabs\nconst[activeTab,setActiveTab]=useState('my-shifts');const[loading,setLoading]=useState(false);const[refreshing,setRefreshing]=useState(false);// State für \"Meine Schichten\"\nconst[myShifts,setMyShifts]=useState([]);const[myShiftsFilter,setMyShiftsFilter]=useState('all');// all, preliminary, final, confirmed\nconst[myShiftsStats,setMyShiftsStats]=useState({total:0,preliminary:0,final:0,confirmed:0});// State für \"Verfügbare Schichten\"\nconst[availableShifts,setAvailableShifts]=useState([]);const[availableFilter,setAvailableFilter]=useState('all');// all, qualified, available\nconst[showAll,setShowAll]=useState(false);const[availableStats,setAvailableStats]=useState({total:0,available:0,qualified:0,with_conflicts:0});// Gemeinsame States\nconst[selectedShift,setSelectedShift]=useState(null);const[showDetailsModal,setShowDetailsModal]=useState(false);const[applying,setApplying]=useState(false);const[confirming,setConfirming]=useState(false);useEffect(()=>{if(activeTab==='my-shifts'){loadMyShifts();}else{loadAvailableShifts();}},[activeTab,showAll]);const loadMyShifts=async()=>{try{setLoading(true);const response=await api.get('/staff/shifts/my');setMyShifts(response.data.shifts);setMyShiftsStats(response.data.stats);}catch(error){console.error('Fehler beim Laden der Schichten:',error);toast.error('Fehler beim Laden deiner Schichten');}finally{setLoading(false);}};const loadAvailableShifts=async()=>{try{setLoading(true);const response=await api.get(\"/staff/shifts/available?showAll=\".concat(showAll));setAvailableShifts(response.data.shifts);setAvailableStats(response.data.stats);}catch(error){console.error('Fehler beim Laden der verfügbaren Schichten:',error);toast.error('Fehler beim Laden der verfügbaren Schichten');}finally{setLoading(false);}};const refreshData=async()=>{setRefreshing(true);try{if(activeTab==='my-shifts'){await loadMyShifts();}else{await loadAvailableShifts();}toast.success('Daten aktualisiert');}catch(error){toast.error('Fehler beim Aktualisieren');}finally{setRefreshing(false);}};const confirmShift=async shiftId=>{setConfirming(true);try{await api.post(\"/staff/shifts/\".concat(shiftId,\"/confirm\"));toast.success('Schicht erfolgreich bestätigt');await loadMyShifts();setShowDetailsModal(false);}catch(error){console.error('Fehler beim Bestätigen:',error);toast.error('Fehler beim Bestätigen der Schicht');}finally{setConfirming(false);}};const applyForShift=async shiftId=>{setApplying(true);try{await api.post(\"/staff/shifts/\".concat(shiftId,\"/apply\"));toast.success('Bewerbung erfolgreich eingereicht');await loadAvailableShifts();setShowDetailsModal(false);}catch(error){var _error$response,_error$response$data,_error$response2,_error$response2$data;console.error('Fehler beim Bewerben:',error);if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.conflicts){const conflicts=error.response.data.conflicts;toast.error(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:error.response.data.message}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2 text-sm\",children:conflicts.map((c,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",c.event,\": \",c.time]},i))})]}),{duration:6000});}else if((_error$response2=error.response)!==null&&_error$response2!==void 0&&(_error$response2$data=_error$response2.data)!==null&&_error$response2$data!==void 0&&_error$response2$data.details){toast.error(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:error.response.data.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1\",children:error.response.data.details.message})]}),{duration:5000});}else{var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Fehler beim Einreichen der Bewerbung');}}finally{setApplying(false);}};const getStatusBadge=status=>{const badges={preliminary:{text:'Vorläufig',className:'bg-yellow-100 text-yellow-800 border-yellow-200',icon:ExclamationTriangleIcon},final:{text:'Endgültig',className:'bg-blue-100 text-blue-800 border-blue-200',icon:InformationCircleIcon},confirmed:{text:'Bestätigt',className:'bg-green-100 text-green-800 border-green-200',icon:CheckCircleIcon}};const badge=badges[status]||badges.preliminary;const Icon=badge.icon;return/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium border \".concat(badge.className),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-3.5 w-3.5\"}),badge.text]});};const getQualificationStatus=shift=>{if(!shift.required_qualifications||shift.required_qualification_count===0){return{type:'none',text:'Keine Qualifikationen erforderlich',color:'text-ios-gray-500'};}if(shift.fully_qualified||shift.matching_qualifications===shift.required_qualification_count){return{type:'full',text:'Voll qualifiziert',color:'text-ios-green'};}if(shift.partially_qualified||shift.matching_qualifications>0){return{type:'partial',text:\"\".concat(shift.matching_qualifications,\" von \").concat(shift.required_qualification_count,\" Qualifikationen\"),color:'text-ios-orange'};}return{type:'none',text:'Nicht qualifiziert',color:'text-ios-red'};};const getShiftAvailabilityStatus=shift=>{if(shift.my_status==='assigned'){return{text:'Bereits eingeteilt',color:'bg-ios-green/10 text-ios-green border-ios-green/20'};}if(shift.my_status==='applied'){return{text:'Beworben',color:'bg-ios-purple/10 text-ios-purple border-ios-purple/20'};}if(!shift.can_apply){if(shift.has_conflicts){return{text:'Zeitkonflikt',color:'bg-ios-red/10 text-ios-red border-ios-red/20'};}if(!shift.fully_qualified&&!shift.partially_qualified){return{text:'Nicht qualifiziert',color:'bg-ios-gray-100 text-ios-gray-600 border-ios-gray-200'};}}return{text:'Verfügbar',color:'bg-ios-blue/10 text-ios-blue border-ios-blue/20'};};// Komponente für Meine Schichten Tab\nconst MyShiftsTab=()=>{const filteredShifts=myShifts.filter(shift=>{if(myShiftsFilter==='all')return true;return shift.status===myShiftsFilter;});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(FunnelIcon,{className:\"h-5 w-5 text-ios-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-ios-gray-900\",children:\"Filter\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex rounded-lg overflow-hidden border border-ios-gray-300 mt-3\",children:[{value:'all',label:'Alle'},{value:'preliminary',label:'Vorläufig'},{value:'final',label:'Endgültig'},{value:'confirmed',label:'Bestätigt'}].map(option=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMyShiftsFilter(option.value),className:\"flex-1 px-4 py-2 text-sm font-medium transition-colors \".concat(myShiftsFilter===option.value?'bg-ios-blue text-white':'bg-white text-ios-gray-700 hover:bg-ios-gray-100'),children:option.label},option.value))})]}),filteredShifts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:filteredShifts.map(shift=>/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-ios-gray-900\",children:shift.event_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:shift.shift_name}),shift.position_name&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-ios-purple/10 text-ios-purple mt-1\",children:shift.position_name})]}),getStatusBadge(shift.status)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:format(parseISO(shift.start_time),'dd.MM.yyyy',{locale:de})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{children:[shift.start_time_only,\" - \",shift.end_time_only,\" Uhr\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:shift.location})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-3 border-t border-ios-gray-200\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedShift(shift);setShowDetailsModal(true);},className:\"text-sm text-ios-blue hover:text-blue-600 font-medium flex items-center\",children:[\"Details anzeigen\",/*#__PURE__*/_jsx(ArrowRightIcon,{className:\"h-4 w-4 ml-1\"})]}),shift.status==='final'&&!shift.confirmed_at&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>confirmShift(shift.shift_id),disabled:confirming,className:\"ios-button-primary text-sm px-4 py-2 disabled:opacity-50\",children:confirming?'Wird bestätigt...':'Bestätigen'}),shift.confirmed_at&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-green-600 flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-1\"}),\"Best\\xE4tigt am \",format(parseISO(shift.confirmed_at),'dd.MM.',{locale:de})]})]})]},shift.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-12 text-center\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-500\",children:\"Keine Schichten gefunden\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-400 mt-2\",children:myShiftsFilter!=='all'?\"Keine \".concat(myShiftsFilter==='preliminary'?'vorläufigen':myShiftsFilter==='final'?'endgültigen':'bestätigten',\" Schichten\"):'Du hast noch keine Schichteinteilungen'})]})]});};// Komponente für Verfügbare Schichten Tab\nconst AvailableShiftsTab=()=>{const filteredShifts=availableShifts.filter(shift=>{if(availableFilter==='qualified')return shift.fully_qualified;if(availableFilter==='available')return shift.can_apply;return true;});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(FunnelIcon,{className:\"h-5 w-5 text-ios-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-ios-gray-900\",children:\"Filter\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showAll,onChange:e=>setShowAll(e.target.checked),className:\"rounded text-ios-blue focus:ring-ios-blue mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-ios-gray-700\",children:\"Alle Schichten anzeigen\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex rounded-lg overflow-hidden border border-ios-gray-300 mt-3\",children:[{value:'all',label:'Alle'},{value:'qualified',label:'Qualifiziert'},{value:'available',label:'Verfügbar'}].map(option=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAvailableFilter(option.value),className:\"flex-1 px-4 py-2 text-sm font-medium transition-colors \".concat(availableFilter===option.value?'bg-ios-blue text-white':'bg-white text-ios-gray-700 hover:bg-ios-gray-100'),children:option.label},option.value))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ios-card p-4 bg-ios-blue/5 border border-ios-blue/20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(InformationCircleIcon,{className:\"h-5 w-5 text-ios-blue flex-shrink-0 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:\"Verf\\xFCgbare Schichten\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-ios-gray-600 mt-1\",children:[\"Hier siehst du alle Schichten, f\\xFCr die du dich bewerben kannst.\",!showAll&&' Aktiviere \"Alle Schichten anzeigen\" um auch Schichten ohne passende Qualifikationen zu sehen.']})]})]})}),filteredShifts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:filteredShifts.map(shift=>{const qualStatus=getQualificationStatus(shift);const shiftStatus=getShiftAvailabilityStatus(shift);return/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 \".concat(!shift.can_apply?'opacity-75':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-ios-gray-900\",children:shift.event_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:shift.name}),shift.position_name&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-ios-purple/10 text-ios-purple mt-1\",children:shift.position_name})]}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border \".concat(shiftStatus.color),children:shiftStatus.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:format(parseISO(shift.start_time),'dd.MM.yyyy',{locale:de})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{children:[shift.start_time_only,\" - \",shift.end_time_only,\" Uhr\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:shift.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{children:[shift.current_staff,\"/\",shift.required_staff,\" besetzt\"]})]}),shift.required_qualifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start text-sm\",children:[/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0 mt-0.5 \".concat(qualStatus.color)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium \".concat(qualStatus.color),children:qualStatus.text}),qualStatus.type!=='none'&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-ios-gray-500 mt-0.5\",children:[\"Ben\\xF6tigt: \",shift.required_qualifications]})]})]}),shift.has_conflicts&&shift.conflicts&&shift.conflicts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start text-sm text-ios-red\",children:[/*#__PURE__*/_jsx(ShieldExclamationIcon,{className:\"h-4 w-4 mr-2 flex-shrink-0 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:\"Zeitkonflikt\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs mt-0.5\",children:[\"mit: \",shift.conflicts.map(c=>c.shift_name).join(', ')]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-3 border-t border-ios-gray-200\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedShift(shift);setShowDetailsModal(true);},className:\"text-sm text-ios-blue hover:text-blue-600 font-medium flex items-center\",children:[\"Details anzeigen\",/*#__PURE__*/_jsx(ArrowRightIcon,{className:\"h-4 w-4 ml-1\"})]}),shift.can_apply&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyForShift(shift.id),disabled:applying,className:\"ios-button-primary text-sm px-4 py-2 disabled:opacity-50\",children:applying?'Wird gesendet...':'Bewerben'})]})]},shift.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-12 text-center\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-500\",children:\"Keine Schichten gefunden\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-400 mt-2\",children:availableFilter==='qualified'?'Du bist für keine der verfügbaren Schichten qualifiziert':availableFilter==='available'?'Keine Schichten ohne Konflikte oder Qualifikationsprobleme':'Momentan sind keine Schichten verfügbar'})]})]});};if(loading&&myShifts.length===0&&availableShifts.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:[...Array(3)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl p-6 h-48\"},i))})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-ios-gray-900\",children:\"Schichtenverwaltung\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-600\",children:\"Verwalte deine Schichten und finde neue Eins\\xE4tze\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:refreshData,disabled:refreshing,className:\"p-2 rounded-lg hover:bg-ios-gray-100 disabled:opacity-50\",title:\"Aktualisieren\",children:/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-5 w-5 text-ios-gray-600 \".concat(refreshing?'animate-spin':'')})})]}),activeTab==='my-shifts'?/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:myShiftsStats.total}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Gesamt\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 text-center border-l-4 border-yellow-400\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-600\",children:myShiftsStats.preliminary}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Vorl\\xE4ufig\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 text-center border-l-4 border-blue-400\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:myShiftsStats.final}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Endg\\xFCltig\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 text-center border-l-4 border-green-400\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:myShiftsStats.confirmed}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Best\\xE4tigt\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:availableStats.total}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Gesamt\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 text-center border-l-4 border-green-400\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:availableStats.qualified}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Qualifiziert\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 text-center border-l-4 border-blue-400\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:availableStats.available}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Verf\\xFCgbar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-4 text-center border-l-4 border-red-400\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-red-600\",children:availableStats.with_conflicts}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Mit Konflikten\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1 p-1 bg-ios-gray-100 rounded-xl\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('my-shifts'),className:\"flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg font-medium transition-all \".concat(activeTab==='my-shifts'?'bg-white shadow-sm text-ios-gray-900':'text-ios-gray-600 hover:text-ios-gray-900'),children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Meine Schichten\"}),myShiftsStats.total>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 px-2 py-0.5 rounded-full text-xs font-medium \".concat(activeTab==='my-shifts'?'bg-ios-blue text-white':'bg-ios-gray-200 text-ios-gray-700'),children:myShiftsStats.total})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('available'),className:\"flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg font-medium transition-all \".concat(activeTab==='available'?'bg-white shadow-sm text-ios-gray-900':'text-ios-gray-600 hover:text-ios-gray-900'),children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Schichten finden\"}),availableStats.available>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 px-2 py-0.5 rounded-full text-xs font-medium \".concat(activeTab==='available'?'bg-ios-blue text-white':'bg-ios-gray-200 text-ios-gray-700'),children:availableStats.available})]})]}),activeTab==='my-shifts'?/*#__PURE__*/_jsx(MyShiftsTab,{}):/*#__PURE__*/_jsx(AvailableShiftsTab,{}),showDetailsModal&&selectedShift&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ios-modal-backdrop\",onClick:()=>setShowDetailsModal(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-2xl shadow-ios-xl max-w-md w-full p-6 z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-ios-gray-900\",children:\"Schichtdetails\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetailsModal(false),className:\"p-2 rounded-lg hover:bg-ios-gray-100\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-5 w-5 text-ios-gray-600\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Veranstaltung\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:selectedShift.event_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Schicht\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:selectedShift.shift_name||selectedShift.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Zeit\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-ios-gray-900\",children:[format(parseISO(selectedShift.start_time),'dd.MM.yyyy HH:mm'),\" -\",format(parseISO(selectedShift.end_time),'HH:mm'),\" Uhr\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Ort\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:selectedShift.location})]}),selectedShift.position_name&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Position\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:selectedShift.position_name})]}),activeTab==='my-shifts'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:getStatusBadge(selectedShift.status)})]}),activeTab==='available'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Besetzung\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-ios-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-ios-blue h-2 rounded-full transition-all\",style:{width:\"\".concat(Math.min(100,selectedShift.current_staff/selectedShift.required_staff*100),\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-3 text-sm font-medium text-ios-gray-700\",children:[selectedShift.current_staff,\"/\",selectedShift.required_staff]})]})]}),selectedShift.required_qualifications&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Erforderliche Qualifikationen\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 flex flex-wrap gap-2\",children:selectedShift.required_qualifications.split(', ').map((qual,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-ios-gray-100 text-ios-gray-700 border border-ios-gray-200\",children:qual},idx))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 \".concat(getQualificationStatus(selectedShift).color),children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium flex items-center\",children:[getQualificationStatus(selectedShift).type==='full'&&/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-1\"}),getQualificationStatus(selectedShift).type==='none'&&!selectedShift.required_qualifications&&/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-1\"}),getQualificationStatus(selectedShift).text]})})]}),selectedShift.has_conflicts&&selectedShift.conflicts&&selectedShift.conflicts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-ios-red/10 rounded-xl\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-ios-red flex items-center\",children:[/*#__PURE__*/_jsx(ShieldExclamationIcon,{className:\"h-4 w-4 mr-2\"}),\"Zeitkonflikt mit anderen Schichten\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2 text-xs text-ios-red space-y-1\",children:selectedShift.conflicts.map((conflict,idx)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",conflict.event_name,\": \",conflict.shift_name,\" (\",conflict.time||'Zeit nicht verfügbar',\")\"]},idx))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetailsModal(false),className:\"flex-1 ios-button-secondary\",children:\"Schlie\\xDFen\"}),activeTab==='my-shifts'&&selectedShift.status==='final'&&!selectedShift.confirmed_at&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>confirmShift(selectedShift.shift_id),disabled:confirming,className:\"flex-1 ios-button-primary disabled:opacity-50\",children:confirming?'Wird bestätigt...':'Schicht bestätigen'}),activeTab==='available'&&selectedShift.can_apply&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyForShift(selectedShift.id),disabled:applying,className:\"flex-1 ios-button-primary disabled:opacity-50\",children:applying?'Wird gesendet...':'Bewerben'})]})]})})]})]});};export default MyShifts;","map":{"version":3,"names":["React","useState","useEffect","api","toast","CalendarIcon","ClockIcon","MapPinIcon","CheckCircleIcon","XCircleIcon","ExclamationTriangleIcon","InformationCircleIcon","ShieldExclamationIcon","AcademicCapIcon","ChevronRightIcon","FunnelIcon","ArrowPathIcon","XMarkIcon","UserGroupIcon","ArrowRightIcon","MagnifyingGlassIcon","format","parseISO","de","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyShifts","activeTab","setActiveTab","loading","setLoading","refreshing","setRefreshing","myShifts","setMyShifts","myShiftsFilter","setMyShiftsFilter","myShiftsStats","setMyShiftsStats","total","preliminary","final","confirmed","availableShifts","setAvailableShifts","availableFilter","setAvailableFilter","showAll","setShowAll","availableStats","setAvailableStats","available","qualified","with_conflicts","selectedShift","setSelectedShift","showDetailsModal","setShowDetailsModal","applying","setApplying","confirming","setConfirming","loadMyShifts","loadAvailableShifts","response","get","data","shifts","stats","error","console","concat","refreshData","success","confirmShift","shiftId","post","applyForShift","_error$response","_error$response$data","_error$response2","_error$response2$data","conflicts","children","className","message","map","c","i","event","time","duration","details","_error$response3","_error$response3$data","getStatusBadge","status","badges","text","icon","badge","Icon","getQualificationStatus","shift","required_qualifications","required_qualification_count","type","color","fully_qualified","matching_qualifications","partially_qualified","getShiftAvailabilityStatus","my_status","can_apply","has_conflicts","MyShiftsTab","filteredShifts","filter","value","label","option","onClick","length","event_name","shift_name","position_name","start_time","locale","start_time_only","end_time_only","location","confirmed_at","shift_id","disabled","id","AvailableShiftsTab","checked","onChange","e","target","qualStatus","shiftStatus","name","current_staff","required_staff","join","Array","_","title","end_time","style","width","Math","min","split","qual","idx","conflict"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/staff/MyShifts.js"],"sourcesContent":["// frontend/src/pages/staff/MyShifts.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport api from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  CalendarIcon,\r\n  ClockIcon,\r\n  MapPinIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ExclamationTriangleIcon,\r\n  InformationCircleIcon,\r\n  ShieldExclamationIcon,\r\n  AcademicCapIcon,\r\n  ChevronRightIcon,\r\n  FunnelIcon,\r\n  ArrowPathIcon,\r\n  XMarkIcon,\r\n  UserGroupIcon,\r\n  ArrowRightIcon,\r\n  MagnifyingGlassIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { format, parseISO } from 'date-fns';\r\nimport { de } from 'date-fns/locale';\r\n\r\nconst MyShifts = () => {\r\n  // State für beide Tabs\r\n  const [activeTab, setActiveTab] = useState('my-shifts');\r\n  const [loading, setLoading] = useState(false);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  \r\n  // State für \"Meine Schichten\"\r\n  const [myShifts, setMyShifts] = useState([]);\r\n  const [myShiftsFilter, setMyShiftsFilter] = useState('all'); // all, preliminary, final, confirmed\r\n  const [myShiftsStats, setMyShiftsStats] = useState({\r\n    total: 0,\r\n    preliminary: 0,\r\n    final: 0,\r\n    confirmed: 0\r\n  });\r\n  \r\n  // State für \"Verfügbare Schichten\"\r\n  const [availableShifts, setAvailableShifts] = useState([]);\r\n  const [availableFilter, setAvailableFilter] = useState('all'); // all, qualified, available\r\n  const [showAll, setShowAll] = useState(false);\r\n  const [availableStats, setAvailableStats] = useState({\r\n    total: 0,\r\n    available: 0,\r\n    qualified: 0,\r\n    with_conflicts: 0\r\n  });\r\n  \r\n  // Gemeinsame States\r\n  const [selectedShift, setSelectedShift] = useState(null);\r\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\r\n  const [applying, setApplying] = useState(false);\r\n  const [confirming, setConfirming] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'my-shifts') {\r\n      loadMyShifts();\r\n    } else {\r\n      loadAvailableShifts();\r\n    }\r\n  }, [activeTab, showAll]);\r\n\r\n  const loadMyShifts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/staff/shifts/my');\r\n      setMyShifts(response.data.shifts);\r\n      setMyShiftsStats(response.data.stats);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Schichten:', error);\r\n      toast.error('Fehler beim Laden deiner Schichten');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadAvailableShifts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/staff/shifts/available?showAll=${showAll}`);\r\n      setAvailableShifts(response.data.shifts);\r\n      setAvailableStats(response.data.stats);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der verfügbaren Schichten:', error);\r\n      toast.error('Fehler beim Laden der verfügbaren Schichten');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshData = async () => {\r\n    setRefreshing(true);\r\n    try {\r\n      if (activeTab === 'my-shifts') {\r\n        await loadMyShifts();\r\n      } else {\r\n        await loadAvailableShifts();\r\n      }\r\n      toast.success('Daten aktualisiert');\r\n    } catch (error) {\r\n      toast.error('Fehler beim Aktualisieren');\r\n    } finally {\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const confirmShift = async (shiftId) => {\r\n    setConfirming(true);\r\n    try {\r\n      await api.post(`/staff/shifts/${shiftId}/confirm`);\r\n      toast.success('Schicht erfolgreich bestätigt');\r\n      await loadMyShifts();\r\n      setShowDetailsModal(false);\r\n    } catch (error) {\r\n      console.error('Fehler beim Bestätigen:', error);\r\n      toast.error('Fehler beim Bestätigen der Schicht');\r\n    } finally {\r\n      setConfirming(false);\r\n    }\r\n  };\r\n\r\n  const applyForShift = async (shiftId) => {\r\n    setApplying(true);\r\n    try {\r\n      await api.post(`/staff/shifts/${shiftId}/apply`);\r\n      toast.success('Bewerbung erfolgreich eingereicht');\r\n      await loadAvailableShifts();\r\n      setShowDetailsModal(false);\r\n    } catch (error) {\r\n      console.error('Fehler beim Bewerben:', error);\r\n      \r\n      if (error.response?.data?.conflicts) {\r\n        const conflicts = error.response.data.conflicts;\r\n        toast.error(\r\n          <div>\r\n            <p className=\"font-semibold\">{error.response.data.message}</p>\r\n            <ul className=\"mt-2 text-sm\">\r\n              {conflicts.map((c, i) => (\r\n                <li key={i}>• {c.event}: {c.time}</li>\r\n              ))}\r\n            </ul>\r\n          </div>,\r\n          { duration: 6000 }\r\n        );\r\n      } else if (error.response?.data?.details) {\r\n        toast.error(\r\n          <div>\r\n            <p className=\"font-semibold\">{error.response.data.message}</p>\r\n            <p className=\"text-sm mt-1\">{error.response.data.details.message}</p>\r\n          </div>,\r\n          { duration: 5000 }\r\n        );\r\n      } else {\r\n        toast.error(error.response?.data?.message || 'Fehler beim Einreichen der Bewerbung');\r\n      }\r\n    } finally {\r\n      setApplying(false);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const badges = {\r\n      preliminary: {\r\n        text: 'Vorläufig',\r\n        className: 'bg-yellow-100 text-yellow-800 border-yellow-200',\r\n        icon: ExclamationTriangleIcon\r\n      },\r\n      final: {\r\n        text: 'Endgültig',\r\n        className: 'bg-blue-100 text-blue-800 border-blue-200',\r\n        icon: InformationCircleIcon\r\n      },\r\n      confirmed: {\r\n        text: 'Bestätigt',\r\n        className: 'bg-green-100 text-green-800 border-green-200',\r\n        icon: CheckCircleIcon\r\n      }\r\n    };\r\n\r\n    const badge = badges[status] || badges.preliminary;\r\n    const Icon = badge.icon;\r\n\r\n    return (\r\n      <span className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium border ${badge.className}`}>\r\n        <Icon className=\"h-3.5 w-3.5\" />\r\n        {badge.text}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getQualificationStatus = (shift) => {\r\n    if (!shift.required_qualifications || shift.required_qualification_count === 0) {\r\n      return { type: 'none', text: 'Keine Qualifikationen erforderlich', color: 'text-ios-gray-500' };\r\n    }\r\n    \r\n    if (shift.fully_qualified || (shift.matching_qualifications === shift.required_qualification_count)) {\r\n      return { type: 'full', text: 'Voll qualifiziert', color: 'text-ios-green' };\r\n    }\r\n    \r\n    if (shift.partially_qualified || (shift.matching_qualifications > 0)) {\r\n      return { \r\n        type: 'partial', \r\n        text: `${shift.matching_qualifications} von ${shift.required_qualification_count} Qualifikationen`, \r\n        color: 'text-ios-orange' \r\n      };\r\n    }\r\n    \r\n    return { type: 'none', text: 'Nicht qualifiziert', color: 'text-ios-red' };\r\n  };\r\n\r\n  const getShiftAvailabilityStatus = (shift) => {\r\n    if (shift.my_status === 'assigned') {\r\n      return { text: 'Bereits eingeteilt', color: 'bg-ios-green/10 text-ios-green border-ios-green/20' };\r\n    }\r\n    if (shift.my_status === 'applied') {\r\n      return { text: 'Beworben', color: 'bg-ios-purple/10 text-ios-purple border-ios-purple/20' };\r\n    }\r\n    if (!shift.can_apply) {\r\n      if (shift.has_conflicts) {\r\n        return { text: 'Zeitkonflikt', color: 'bg-ios-red/10 text-ios-red border-ios-red/20' };\r\n      }\r\n      if (!shift.fully_qualified && !shift.partially_qualified) {\r\n        return { text: 'Nicht qualifiziert', color: 'bg-ios-gray-100 text-ios-gray-600 border-ios-gray-200' };\r\n      }\r\n    }\r\n    return { text: 'Verfügbar', color: 'bg-ios-blue/10 text-ios-blue border-ios-blue/20' };\r\n  };\r\n\r\n  // Komponente für Meine Schichten Tab\r\n  const MyShiftsTab = () => {\r\n    const filteredShifts = myShifts.filter(shift => {\r\n      if (myShiftsFilter === 'all') return true;\r\n      return shift.status === myShiftsFilter;\r\n    });\r\n\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {/* Filter */}\r\n        <div className=\"ios-card p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <FunnelIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n              <span className=\"font-medium text-ios-gray-900\">Filter</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex rounded-lg overflow-hidden border border-ios-gray-300 mt-3\">\r\n            {[\r\n              { value: 'all', label: 'Alle' },\r\n              { value: 'preliminary', label: 'Vorläufig' },\r\n              { value: 'final', label: 'Endgültig' },\r\n              { value: 'confirmed', label: 'Bestätigt' }\r\n            ].map(option => (\r\n              <button\r\n                key={option.value}\r\n                onClick={() => setMyShiftsFilter(option.value)}\r\n                className={`flex-1 px-4 py-2 text-sm font-medium transition-colors ${\r\n                  myShiftsFilter === option.value\r\n                    ? 'bg-ios-blue text-white'\r\n                    : 'bg-white text-ios-gray-700 hover:bg-ios-gray-100'\r\n                }`}\r\n              >\r\n                {option.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Shifts List */}\r\n        {filteredShifts.length > 0 ? (\r\n          <div className=\"grid gap-4\">\r\n            {filteredShifts.map(shift => (\r\n              <div key={shift.id} className=\"ios-card p-4\">\r\n                <div className=\"flex items-start justify-between mb-3\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"font-semibold text-ios-gray-900\">{shift.event_name}</h3>\r\n                    <p className=\"text-sm text-ios-gray-600\">{shift.shift_name}</p>\r\n                    {shift.position_name && (\r\n                      <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-ios-purple/10 text-ios-purple mt-1\">\r\n                        {shift.position_name}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  {getStatusBadge(shift.status)}\r\n                </div>\r\n                \r\n                <div className=\"space-y-2 mb-4\">\r\n                  <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                    <CalendarIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                    <span>{format(parseISO(shift.start_time), 'dd.MM.yyyy', { locale: de })}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                    <ClockIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                    <span>{shift.start_time_only} - {shift.end_time_only} Uhr</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                    <MapPinIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                    <span className=\"truncate\">{shift.location}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between pt-3 border-t border-ios-gray-200\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setSelectedShift(shift);\r\n                      setShowDetailsModal(true);\r\n                    }}\r\n                    className=\"text-sm text-ios-blue hover:text-blue-600 font-medium flex items-center\"\r\n                  >\r\n                    Details anzeigen\r\n                    <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\r\n                  </button>\r\n                  \r\n                  {shift.status === 'final' && !shift.confirmed_at && (\r\n                    <button\r\n                      onClick={() => confirmShift(shift.shift_id)}\r\n                      disabled={confirming}\r\n                      className=\"ios-button-primary text-sm px-4 py-2 disabled:opacity-50\"\r\n                    >\r\n                      {confirming ? 'Wird bestätigt...' : 'Bestätigen'}\r\n                    </button>\r\n                  )}\r\n                  \r\n                  {shift.confirmed_at && (\r\n                    <span className=\"text-xs text-green-600 flex items-center\">\r\n                      <CheckCircleIcon className=\"h-4 w-4 mr-1\" />\r\n                      Bestätigt am {format(parseISO(shift.confirmed_at), 'dd.MM.', { locale: de })}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"ios-card p-12 text-center\">\r\n            <CalendarIcon className=\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\" />\r\n            <p className=\"text-ios-gray-500\">Keine Schichten gefunden</p>\r\n            <p className=\"text-sm text-ios-gray-400 mt-2\">\r\n              {myShiftsFilter !== 'all' \r\n                ? `Keine ${myShiftsFilter === 'preliminary' ? 'vorläufigen' : myShiftsFilter === 'final' ? 'endgültigen' : 'bestätigten'} Schichten`\r\n                : 'Du hast noch keine Schichteinteilungen'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Komponente für Verfügbare Schichten Tab\r\n  const AvailableShiftsTab = () => {\r\n    const filteredShifts = availableShifts.filter(shift => {\r\n      if (availableFilter === 'qualified') return shift.fully_qualified;\r\n      if (availableFilter === 'available') return shift.can_apply;\r\n      return true;\r\n    });\r\n\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {/* Filter */}\r\n        <div className=\"ios-card p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <FunnelIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n              <span className=\"font-medium text-ios-gray-900\">Filter</span>\r\n            </div>\r\n            \r\n            <label className=\"flex items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={showAll}\r\n                onChange={(e) => setShowAll(e.target.checked)}\r\n                className=\"rounded text-ios-blue focus:ring-ios-blue mr-2\"\r\n              />\r\n              <span className=\"text-sm text-ios-gray-700\">Alle Schichten anzeigen</span>\r\n            </label>\r\n          </div>\r\n          \r\n          <div className=\"flex rounded-lg overflow-hidden border border-ios-gray-300 mt-3\">\r\n            {[\r\n              { value: 'all', label: 'Alle' },\r\n              { value: 'qualified', label: 'Qualifiziert' },\r\n              { value: 'available', label: 'Verfügbar' }\r\n            ].map(option => (\r\n              <button\r\n                key={option.value}\r\n                onClick={() => setAvailableFilter(option.value)}\r\n                className={`flex-1 px-4 py-2 text-sm font-medium transition-colors ${\r\n                  availableFilter === option.value\r\n                    ? 'bg-ios-blue text-white'\r\n                    : 'bg-white text-ios-gray-700 hover:bg-ios-gray-100'\r\n                }`}\r\n              >\r\n                {option.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info Box */}\r\n        <div className=\"ios-card p-4 bg-ios-blue/5 border border-ios-blue/20\">\r\n          <div className=\"flex items-start space-x-3\">\r\n            <InformationCircleIcon className=\"h-5 w-5 text-ios-blue flex-shrink-0 mt-0.5\" />\r\n            <div className=\"text-sm\">\r\n              <p className=\"font-medium text-ios-gray-900\">\r\n                Verfügbare Schichten\r\n              </p>\r\n              <p className=\"text-ios-gray-600 mt-1\">\r\n                Hier siehst du alle Schichten, für die du dich bewerben kannst. \r\n                {!showAll && ' Aktiviere \"Alle Schichten anzeigen\" um auch Schichten ohne passende Qualifikationen zu sehen.'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Shifts List */}\r\n        {filteredShifts.length > 0 ? (\r\n          <div className=\"grid gap-4\">\r\n            {filteredShifts.map(shift => {\r\n              const qualStatus = getQualificationStatus(shift);\r\n              const shiftStatus = getShiftAvailabilityStatus(shift);\r\n              \r\n              return (\r\n                <div key={shift.id} className={`ios-card p-4 ${!shift.can_apply ? 'opacity-75' : ''}`}>\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"font-semibold text-ios-gray-900\">{shift.event_name}</h3>\r\n                      <p className=\"text-sm text-ios-gray-600\">{shift.name}</p>\r\n                      {shift.position_name && (\r\n                        <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-ios-purple/10 text-ios-purple mt-1\">\r\n                          {shift.position_name}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    <span className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${shiftStatus.color}`}>\r\n                      {shiftStatus.text}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"space-y-2 mb-4\">\r\n                    <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                      <CalendarIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span>{format(parseISO(shift.start_time), 'dd.MM.yyyy', { locale: de })}</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                      <ClockIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span>{shift.start_time_only} - {shift.end_time_only} Uhr</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                      <MapPinIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span className=\"truncate\">{shift.location}</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                      <UserGroupIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span>{shift.current_staff}/{shift.required_staff} besetzt</span>\r\n                    </div>\r\n                    \r\n                    {shift.required_qualifications && (\r\n                      <div className=\"flex items-start text-sm\">\r\n                        <AcademicCapIcon className={`h-4 w-4 mr-2 flex-shrink-0 mt-0.5 ${qualStatus.color}`} />\r\n                        <div>\r\n                          <p className={`font-medium ${qualStatus.color}`}>{qualStatus.text}</p>\r\n                          {qualStatus.type !== 'none' && (\r\n                            <p className=\"text-xs text-ios-gray-500 mt-0.5\">\r\n                              Benötigt: {shift.required_qualifications}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {shift.has_conflicts && shift.conflicts && shift.conflicts.length > 0 && (\r\n                      <div className=\"flex items-start text-sm text-ios-red\">\r\n                        <ShieldExclamationIcon className=\"h-4 w-4 mr-2 flex-shrink-0 mt-0.5\" />\r\n                        <div>\r\n                          <p className=\"font-medium\">Zeitkonflikt</p>\r\n                          <p className=\"text-xs mt-0.5\">\r\n                            mit: {shift.conflicts.map(c => c.shift_name).join(', ')}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-between pt-3 border-t border-ios-gray-200\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setSelectedShift(shift);\r\n                        setShowDetailsModal(true);\r\n                      }}\r\n                      className=\"text-sm text-ios-blue hover:text-blue-600 font-medium flex items-center\"\r\n                    >\r\n                      Details anzeigen\r\n                      <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\r\n                    </button>\r\n                    \r\n                    {shift.can_apply && (\r\n                      <button\r\n                        onClick={() => applyForShift(shift.id)}\r\n                        disabled={applying}\r\n                        className=\"ios-button-primary text-sm px-4 py-2 disabled:opacity-50\"\r\n                      >\r\n                        {applying ? 'Wird gesendet...' : 'Bewerben'}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className=\"ios-card p-12 text-center\">\r\n            <MagnifyingGlassIcon className=\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\" />\r\n            <p className=\"text-ios-gray-500\">Keine Schichten gefunden</p>\r\n            <p className=\"text-sm text-ios-gray-400 mt-2\">\r\n              {availableFilter === 'qualified' \r\n                ? 'Du bist für keine der verfügbaren Schichten qualifiziert'\r\n                : availableFilter === 'available'\r\n                ? 'Keine Schichten ohne Konflikte oder Qualifikationsprobleme'\r\n                : 'Momentan sind keine Schichten verfügbar'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading && myShifts.length === 0 && availableShifts.length === 0) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"></div>\r\n          <div className=\"grid gap-4\">\r\n            {[...Array(3)].map((_, i) => (\r\n              <div key={i} className=\"bg-white rounded-2xl p-6 h-48\"></div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-ios-gray-900\">Schichtenverwaltung</h1>\r\n          <p className=\"text-ios-gray-600\">Verwalte deine Schichten und finde neue Einsätze</p>\r\n        </div>\r\n        \r\n        <button\r\n          onClick={refreshData}\r\n          disabled={refreshing}\r\n          className=\"p-2 rounded-lg hover:bg-ios-gray-100 disabled:opacity-50\"\r\n          title=\"Aktualisieren\"\r\n        >\r\n          <ArrowPathIcon className={`h-5 w-5 text-ios-gray-600 ${refreshing ? 'animate-spin' : ''}`} />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Stats based on active tab */}\r\n      {activeTab === 'my-shifts' ? (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"ios-card p-4 text-center\">\r\n            <p className=\"text-2xl font-bold text-ios-gray-900\">{myShiftsStats.total}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Gesamt</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-yellow-400\">\r\n            <p className=\"text-2xl font-bold text-yellow-600\">{myShiftsStats.preliminary}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Vorläufig</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-blue-400\">\r\n            <p className=\"text-2xl font-bold text-blue-600\">{myShiftsStats.final}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Endgültig</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-green-400\">\r\n            <p className=\"text-2xl font-bold text-green-600\">{myShiftsStats.confirmed}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Bestätigt</p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"ios-card p-4 text-center\">\r\n            <p className=\"text-2xl font-bold text-ios-gray-900\">{availableStats.total}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Gesamt</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-green-400\">\r\n            <p className=\"text-2xl font-bold text-green-600\">{availableStats.qualified}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Qualifiziert</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-blue-400\">\r\n            <p className=\"text-2xl font-bold text-blue-600\">{availableStats.available}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Verfügbar</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-red-400\">\r\n            <p className=\"text-2xl font-bold text-red-600\">{availableStats.with_conflicts}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Mit Konflikten</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex gap-1 p-1 bg-ios-gray-100 rounded-xl\">\r\n        <button\r\n          onClick={() => setActiveTab('my-shifts')}\r\n          className={`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg font-medium transition-all ${\r\n            activeTab === 'my-shifts'\r\n              ? 'bg-white shadow-sm text-ios-gray-900'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          <CalendarIcon className=\"h-5 w-5\" />\r\n          <span>Meine Schichten</span>\r\n          {myShiftsStats.total > 0 && (\r\n            <span className={`ml-1 px-2 py-0.5 rounded-full text-xs font-medium ${\r\n              activeTab === 'my-shifts' \r\n                ? 'bg-ios-blue text-white' \r\n                : 'bg-ios-gray-200 text-ios-gray-700'\r\n            }`}>\r\n              {myShiftsStats.total}\r\n            </span>\r\n          )}\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => setActiveTab('available')}\r\n          className={`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg font-medium transition-all ${\r\n            activeTab === 'available'\r\n              ? 'bg-white shadow-sm text-ios-gray-900'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          <MagnifyingGlassIcon className=\"h-5 w-5\" />\r\n          <span>Schichten finden</span>\r\n          {availableStats.available > 0 && (\r\n            <span className={`ml-1 px-2 py-0.5 rounded-full text-xs font-medium ${\r\n              activeTab === 'available' \r\n                ? 'bg-ios-blue text-white' \r\n                : 'bg-ios-gray-200 text-ios-gray-700'\r\n            }`}>\r\n              {availableStats.available}\r\n            </span>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      {activeTab === 'my-shifts' ? <MyShiftsTab /> : <AvailableShiftsTab />}\r\n\r\n      {/* Details Modal */}\r\n      {showDetailsModal && selectedShift && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"ios-modal-backdrop\" onClick={() => setShowDetailsModal(false)} />\r\n          <div className=\"flex items-center justify-center min-h-screen p-4\">\r\n            <div className=\"relative bg-white rounded-2xl shadow-ios-xl max-w-md w-full p-6 z-10\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-ios-gray-900\">Schichtdetails</h3>\r\n                <button\r\n                  onClick={() => setShowDetailsModal(false)}\r\n                  className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n                >\r\n                  <XMarkIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Veranstaltung</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">{selectedShift.event_name}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Schicht</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">{selectedShift.shift_name || selectedShift.name}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Zeit</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">\r\n                    {format(parseISO(selectedShift.start_time), 'dd.MM.yyyy HH:mm')} - \r\n                    {format(parseISO(selectedShift.end_time), 'HH:mm')} Uhr\r\n                  </p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Ort</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">{selectedShift.location}</p>\r\n                </div>\r\n                \r\n                {selectedShift.position_name && (\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Position</p>\r\n                    <p className=\"font-medium text-ios-gray-900\">{selectedShift.position_name}</p>\r\n                  </div>\r\n                )}\r\n                \r\n                {activeTab === 'my-shifts' && (\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Status</p>\r\n                    <div className=\"mt-1\">{getStatusBadge(selectedShift.status)}</div>\r\n                  </div>\r\n                )}\r\n                \r\n                {activeTab === 'available' && (\r\n                  <>\r\n                    <div>\r\n                      <p className=\"text-sm text-ios-gray-600\">Besetzung</p>\r\n                      <div className=\"flex items-center mt-1\">\r\n                        <div className=\"flex-1 bg-ios-gray-200 rounded-full h-2\">\r\n                          <div \r\n                            className=\"bg-ios-blue h-2 rounded-full transition-all\"\r\n                            style={{ width: `${Math.min(100, (selectedShift.current_staff / selectedShift.required_staff) * 100)}%` }}\r\n                          />\r\n                        </div>\r\n                        <span className=\"ml-3 text-sm font-medium text-ios-gray-700\">\r\n                          {selectedShift.current_staff}/{selectedShift.required_staff}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {selectedShift.required_qualifications && (\r\n                      <div>\r\n                        <p className=\"text-sm text-ios-gray-600\">Erforderliche Qualifikationen</p>\r\n                        <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                          {selectedShift.required_qualifications.split(', ').map((qual, idx) => (\r\n                            <span\r\n                              key={idx}\r\n                              className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-ios-gray-100 text-ios-gray-700 border border-ios-gray-200\"\r\n                            >\r\n                              {qual}\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                        <div className={`mt-2 ${getQualificationStatus(selectedShift).color}`}>\r\n                          <p className=\"text-sm font-medium flex items-center\">\r\n                            {getQualificationStatus(selectedShift).type === 'full' && (\r\n                              <CheckCircleIcon className=\"h-4 w-4 mr-1\" />\r\n                            )}\r\n                            {getQualificationStatus(selectedShift).type === 'none' && !selectedShift.required_qualifications && (\r\n                              <CheckCircleIcon className=\"h-4 w-4 mr-1\" />\r\n                            )}\r\n                            {getQualificationStatus(selectedShift).text}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {selectedShift.has_conflicts && selectedShift.conflicts && selectedShift.conflicts.length > 0 && (\r\n                      <div className=\"p-3 bg-ios-red/10 rounded-xl\">\r\n                        <p className=\"text-sm font-medium text-ios-red flex items-center\">\r\n                          <ShieldExclamationIcon className=\"h-4 w-4 mr-2\" />\r\n                          Zeitkonflikt mit anderen Schichten\r\n                        </p>\r\n                        <ul className=\"mt-2 text-xs text-ios-red space-y-1\">\r\n                          {selectedShift.conflicts.map((conflict, idx) => (\r\n                            <li key={idx}>\r\n                              • {conflict.event_name}: {conflict.shift_name} ({conflict.time || 'Zeit nicht verfügbar'})\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"mt-6 flex space-x-3\">\r\n                <button\r\n                  onClick={() => setShowDetailsModal(false)}\r\n                  className=\"flex-1 ios-button-secondary\"\r\n                >\r\n                  Schließen\r\n                </button>\r\n                \r\n                {activeTab === 'my-shifts' && selectedShift.status === 'final' && !selectedShift.confirmed_at && (\r\n                  <button\r\n                    onClick={() => confirmShift(selectedShift.shift_id)}\r\n                    disabled={confirming}\r\n                    className=\"flex-1 ios-button-primary disabled:opacity-50\"\r\n                  >\r\n                    {confirming ? 'Wird bestätigt...' : 'Schicht bestätigen'}\r\n                  </button>\r\n                )}\r\n                \r\n                {activeTab === 'available' && selectedShift.can_apply && (\r\n                  <button\r\n                    onClick={() => applyForShift(selectedShift.id)}\r\n                    disabled={applying}\r\n                    className=\"flex-1 ios-button-primary disabled:opacity-50\"\r\n                  >\r\n                    {applying ? 'Wird gesendet...' : 'Bewerben'}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyShifts;\r\n\r\n\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,oBAAoB,CACpC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OACEC,YAAY,CACZC,SAAS,CACTC,UAAU,CACVC,eAAe,CACfC,WAAW,CACXC,uBAAuB,CACvBC,qBAAqB,CACrBC,qBAAqB,CACrBC,eAAe,CACfC,gBAAgB,CAChBC,UAAU,CACVC,aAAa,CACbC,SAAS,CACTC,aAAa,CACbC,cAAc,CACdC,mBAAmB,KACd,6BAA6B,CACpC,OAASC,MAAM,CAAEC,QAAQ,KAAQ,UAAU,CAC3C,OAASC,EAAE,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErC,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB;AACA,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAG/B,QAAQ,CAAC,WAAW,CAAC,CACvD,KAAM,CAACgC,OAAO,CAAEC,UAAU,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACkC,UAAU,CAAEC,aAAa,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CAEnD;AACA,KAAM,CAACoC,QAAQ,CAAEC,WAAW,CAAC,CAAGrC,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACsC,cAAc,CAAEC,iBAAiB,CAAC,CAAGvC,QAAQ,CAAC,KAAK,CAAC,CAAE;AAC7D,KAAM,CAACwC,aAAa,CAAEC,gBAAgB,CAAC,CAAGzC,QAAQ,CAAC,CACjD0C,KAAK,CAAE,CAAC,CACRC,WAAW,CAAE,CAAC,CACdC,KAAK,CAAE,CAAC,CACRC,SAAS,CAAE,CACb,CAAC,CAAC,CAEF;AACA,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAG/C,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACgD,eAAe,CAAEC,kBAAkB,CAAC,CAAGjD,QAAQ,CAAC,KAAK,CAAC,CAAE;AAC/D,KAAM,CAACkD,OAAO,CAAEC,UAAU,CAAC,CAAGnD,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACoD,cAAc,CAAEC,iBAAiB,CAAC,CAAGrD,QAAQ,CAAC,CACnD0C,KAAK,CAAE,CAAC,CACRY,SAAS,CAAE,CAAC,CACZC,SAAS,CAAE,CAAC,CACZC,cAAc,CAAE,CAClB,CAAC,CAAC,CAEF;AACA,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAG1D,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAAC2D,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG5D,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAAC6D,QAAQ,CAAEC,WAAW,CAAC,CAAG9D,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAAC+D,UAAU,CAAEC,aAAa,CAAC,CAAGhE,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACd,GAAI6B,SAAS,GAAK,WAAW,CAAE,CAC7BmC,YAAY,CAAC,CAAC,CAChB,CAAC,IAAM,CACLC,mBAAmB,CAAC,CAAC,CACvB,CACF,CAAC,CAAE,CAACpC,SAAS,CAAEoB,OAAO,CAAC,CAAC,CAExB,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFhC,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAkC,QAAQ,CAAG,KAAM,CAAAjE,GAAG,CAACkE,GAAG,CAAC,kBAAkB,CAAC,CAClD/B,WAAW,CAAC8B,QAAQ,CAACE,IAAI,CAACC,MAAM,CAAC,CACjC7B,gBAAgB,CAAC0B,QAAQ,CAACE,IAAI,CAACE,KAAK,CAAC,CACvC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CACxDrE,KAAK,CAACqE,KAAK,CAAC,oCAAoC,CAAC,CACnD,CAAC,OAAS,CACRvC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAiC,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACFjC,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAkC,QAAQ,CAAG,KAAM,CAAAjE,GAAG,CAACkE,GAAG,oCAAAM,MAAA,CAAoCxB,OAAO,CAAE,CAAC,CAC5EH,kBAAkB,CAACoB,QAAQ,CAACE,IAAI,CAACC,MAAM,CAAC,CACxCjB,iBAAiB,CAACc,QAAQ,CAACE,IAAI,CAACE,KAAK,CAAC,CACxC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8CAA8C,CAAEA,KAAK,CAAC,CACpErE,KAAK,CAACqE,KAAK,CAAC,6CAA6C,CAAC,CAC5D,CAAC,OAAS,CACRvC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA0C,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9BxC,aAAa,CAAC,IAAI,CAAC,CACnB,GAAI,CACF,GAAIL,SAAS,GAAK,WAAW,CAAE,CAC7B,KAAM,CAAAmC,YAAY,CAAC,CAAC,CACtB,CAAC,IAAM,CACL,KAAM,CAAAC,mBAAmB,CAAC,CAAC,CAC7B,CACA/D,KAAK,CAACyE,OAAO,CAAC,oBAAoB,CAAC,CACrC,CAAE,MAAOJ,KAAK,CAAE,CACdrE,KAAK,CAACqE,KAAK,CAAC,2BAA2B,CAAC,CAC1C,CAAC,OAAS,CACRrC,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAA0C,YAAY,CAAG,KAAO,CAAAC,OAAO,EAAK,CACtCd,aAAa,CAAC,IAAI,CAAC,CACnB,GAAI,CACF,KAAM,CAAA9D,GAAG,CAAC6E,IAAI,kBAAAL,MAAA,CAAkBI,OAAO,YAAU,CAAC,CAClD3E,KAAK,CAACyE,OAAO,CAAC,+BAA+B,CAAC,CAC9C,KAAM,CAAAX,YAAY,CAAC,CAAC,CACpBL,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CrE,KAAK,CAACqE,KAAK,CAAC,oCAAoC,CAAC,CACnD,CAAC,OAAS,CACRR,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAgB,aAAa,CAAG,KAAO,CAAAF,OAAO,EAAK,CACvChB,WAAW,CAAC,IAAI,CAAC,CACjB,GAAI,CACF,KAAM,CAAA5D,GAAG,CAAC6E,IAAI,kBAAAL,MAAA,CAAkBI,OAAO,UAAQ,CAAC,CAChD3E,KAAK,CAACyE,OAAO,CAAC,mCAAmC,CAAC,CAClD,KAAM,CAAAV,mBAAmB,CAAC,CAAC,CAC3BN,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAE,MAAOY,KAAK,CAAE,KAAAS,eAAA,CAAAC,oBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACdX,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAE7C,IAAAS,eAAA,CAAIT,KAAK,CAACL,QAAQ,UAAAc,eAAA,YAAAC,oBAAA,CAAdD,eAAA,CAAgBZ,IAAI,UAAAa,oBAAA,WAApBA,oBAAA,CAAsBG,SAAS,CAAE,CACnC,KAAM,CAAAA,SAAS,CAAGb,KAAK,CAACL,QAAQ,CAACE,IAAI,CAACgB,SAAS,CAC/ClF,KAAK,CAACqE,KAAK,cACT9C,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAEd,KAAK,CAACL,QAAQ,CAACE,IAAI,CAACmB,OAAO,CAAI,CAAC,cAC9DhE,IAAA,OAAI+D,SAAS,CAAC,cAAc,CAAAD,QAAA,CACzBD,SAAS,CAACI,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,gBAClBjE,KAAA,OAAA4D,QAAA,EAAY,SAAE,CAACI,CAAC,CAACE,KAAK,CAAC,IAAE,CAACF,CAAC,CAACG,IAAI,GAAvBF,CAA4B,CACtC,CAAC,CACA,CAAC,EACF,CAAC,CACN,CAAEG,QAAQ,CAAE,IAAK,CACnB,CAAC,CACH,CAAC,IAAM,KAAAX,gBAAA,CAAIX,KAAK,CAACL,QAAQ,UAAAgB,gBAAA,YAAAC,qBAAA,CAAdD,gBAAA,CAAgBd,IAAI,UAAAe,qBAAA,WAApBA,qBAAA,CAAsBW,OAAO,CAAE,CACxC5F,KAAK,CAACqE,KAAK,cACT9C,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAEd,KAAK,CAACL,QAAQ,CAACE,IAAI,CAACmB,OAAO,CAAI,CAAC,cAC9DhE,IAAA,MAAG+D,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAEd,KAAK,CAACL,QAAQ,CAACE,IAAI,CAAC0B,OAAO,CAACP,OAAO,CAAI,CAAC,EAClE,CAAC,CACN,CAAEM,QAAQ,CAAE,IAAK,CACnB,CAAC,CACH,CAAC,IAAM,KAAAE,gBAAA,CAAAC,qBAAA,CACL9F,KAAK,CAACqE,KAAK,CAAC,EAAAwB,gBAAA,CAAAxB,KAAK,CAACL,QAAQ,UAAA6B,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB3B,IAAI,UAAA4B,qBAAA,iBAApBA,qBAAA,CAAsBT,OAAO,GAAI,sCAAsC,CAAC,CACtF,CACF,CAAC,OAAS,CACR1B,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAoC,cAAc,CAAIC,MAAM,EAAK,CACjC,KAAM,CAAAC,MAAM,CAAG,CACbzD,WAAW,CAAE,CACX0D,IAAI,CAAE,WAAW,CACjBd,SAAS,CAAE,iDAAiD,CAC5De,IAAI,CAAE7F,uBACR,CAAC,CACDmC,KAAK,CAAE,CACLyD,IAAI,CAAE,WAAW,CACjBd,SAAS,CAAE,2CAA2C,CACtDe,IAAI,CAAE5F,qBACR,CAAC,CACDmC,SAAS,CAAE,CACTwD,IAAI,CAAE,WAAW,CACjBd,SAAS,CAAE,8CAA8C,CACzDe,IAAI,CAAE/F,eACR,CACF,CAAC,CAED,KAAM,CAAAgG,KAAK,CAAGH,MAAM,CAACD,MAAM,CAAC,EAAIC,MAAM,CAACzD,WAAW,CAClD,KAAM,CAAA6D,IAAI,CAAGD,KAAK,CAACD,IAAI,CAEvB,mBACE5E,KAAA,SAAM6D,SAAS,qFAAAb,MAAA,CAAsF6B,KAAK,CAAChB,SAAS,CAAG,CAAAD,QAAA,eACrH9D,IAAA,CAACgF,IAAI,EAACjB,SAAS,CAAC,aAAa,CAAE,CAAC,CAC/BgB,KAAK,CAACF,IAAI,EACP,CAAC,CAEX,CAAC,CAED,KAAM,CAAAI,sBAAsB,CAAIC,KAAK,EAAK,CACxC,GAAI,CAACA,KAAK,CAACC,uBAAuB,EAAID,KAAK,CAACE,4BAA4B,GAAK,CAAC,CAAE,CAC9E,MAAO,CAAEC,IAAI,CAAE,MAAM,CAAER,IAAI,CAAE,oCAAoC,CAAES,KAAK,CAAE,mBAAoB,CAAC,CACjG,CAEA,GAAIJ,KAAK,CAACK,eAAe,EAAKL,KAAK,CAACM,uBAAuB,GAAKN,KAAK,CAACE,4BAA6B,CAAE,CACnG,MAAO,CAAEC,IAAI,CAAE,MAAM,CAAER,IAAI,CAAE,mBAAmB,CAAES,KAAK,CAAE,gBAAiB,CAAC,CAC7E,CAEA,GAAIJ,KAAK,CAACO,mBAAmB,EAAKP,KAAK,CAACM,uBAAuB,CAAG,CAAE,CAAE,CACpE,MAAO,CACLH,IAAI,CAAE,SAAS,CACfR,IAAI,IAAA3B,MAAA,CAAKgC,KAAK,CAACM,uBAAuB,UAAAtC,MAAA,CAAQgC,KAAK,CAACE,4BAA4B,oBAAkB,CAClGE,KAAK,CAAE,iBACT,CAAC,CACH,CAEA,MAAO,CAAED,IAAI,CAAE,MAAM,CAAER,IAAI,CAAE,oBAAoB,CAAES,KAAK,CAAE,cAAe,CAAC,CAC5E,CAAC,CAED,KAAM,CAAAI,0BAA0B,CAAIR,KAAK,EAAK,CAC5C,GAAIA,KAAK,CAACS,SAAS,GAAK,UAAU,CAAE,CAClC,MAAO,CAAEd,IAAI,CAAE,oBAAoB,CAAES,KAAK,CAAE,oDAAqD,CAAC,CACpG,CACA,GAAIJ,KAAK,CAACS,SAAS,GAAK,SAAS,CAAE,CACjC,MAAO,CAAEd,IAAI,CAAE,UAAU,CAAES,KAAK,CAAE,uDAAwD,CAAC,CAC7F,CACA,GAAI,CAACJ,KAAK,CAACU,SAAS,CAAE,CACpB,GAAIV,KAAK,CAACW,aAAa,CAAE,CACvB,MAAO,CAAEhB,IAAI,CAAE,cAAc,CAAES,KAAK,CAAE,8CAA+C,CAAC,CACxF,CACA,GAAI,CAACJ,KAAK,CAACK,eAAe,EAAI,CAACL,KAAK,CAACO,mBAAmB,CAAE,CACxD,MAAO,CAAEZ,IAAI,CAAE,oBAAoB,CAAES,KAAK,CAAE,uDAAwD,CAAC,CACvG,CACF,CACA,MAAO,CAAET,IAAI,CAAE,WAAW,CAAES,KAAK,CAAE,iDAAkD,CAAC,CACxF,CAAC,CAED;AACA,KAAM,CAAAQ,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,cAAc,CAAGnF,QAAQ,CAACoF,MAAM,CAACd,KAAK,EAAI,CAC9C,GAAIpE,cAAc,GAAK,KAAK,CAAE,MAAO,KAAI,CACzC,MAAO,CAAAoE,KAAK,CAACP,MAAM,GAAK7D,cAAc,CACxC,CAAC,CAAC,CAEF,mBACEZ,KAAA,QAAK6D,SAAS,CAAC,WAAW,CAAAD,QAAA,eAExB5D,KAAA,QAAK6D,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B9D,IAAA,QAAK+D,SAAS,CAAC,mCAAmC,CAAAD,QAAA,cAChD5D,KAAA,QAAK6D,SAAS,CAAC,6BAA6B,CAAAD,QAAA,eAC1C9D,IAAA,CAACV,UAAU,EAACyE,SAAS,CAAC,2BAA2B,CAAE,CAAC,cACpD/D,IAAA,SAAM+D,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,EAC1D,CAAC,CACH,CAAC,cAEN9D,IAAA,QAAK+D,SAAS,CAAC,iEAAiE,CAAAD,QAAA,CAC7E,CACC,CAAEmC,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,MAAO,CAAC,CAC/B,CAAED,KAAK,CAAE,aAAa,CAAEC,KAAK,CAAE,WAAY,CAAC,CAC5C,CAAED,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,WAAY,CAAC,CACtC,CAAED,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAY,CAAC,CAC3C,CAACjC,GAAG,CAACkC,MAAM,eACVnG,IAAA,WAEEoG,OAAO,CAAEA,CAAA,GAAMrF,iBAAiB,CAACoF,MAAM,CAACF,KAAK,CAAE,CAC/ClC,SAAS,2DAAAb,MAAA,CACPpC,cAAc,GAAKqF,MAAM,CAACF,KAAK,CAC3B,wBAAwB,CACxB,kDAAkD,CACrD,CAAAnC,QAAA,CAEFqC,MAAM,CAACD,KAAK,EARRC,MAAM,CAACF,KASN,CACT,CAAC,CACC,CAAC,EACH,CAAC,CAGLF,cAAc,CAACM,MAAM,CAAG,CAAC,cACxBrG,IAAA,QAAK+D,SAAS,CAAC,YAAY,CAAAD,QAAA,CACxBiC,cAAc,CAAC9B,GAAG,CAACiB,KAAK,eACvBhF,KAAA,QAAoB6D,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC1C5D,KAAA,QAAK6D,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eACpD5D,KAAA,QAAK6D,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACrB9D,IAAA,OAAI+D,SAAS,CAAC,iCAAiC,CAAAD,QAAA,CAAEoB,KAAK,CAACoB,UAAU,CAAK,CAAC,cACvEtG,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAEoB,KAAK,CAACqB,UAAU,CAAI,CAAC,CAC9DrB,KAAK,CAACsB,aAAa,eAClBxG,IAAA,SAAM+D,SAAS,CAAC,6GAA6G,CAAAD,QAAA,CAC1HoB,KAAK,CAACsB,aAAa,CAChB,CACP,EACE,CAAC,CACL9B,cAAc,CAACQ,KAAK,CAACP,MAAM,CAAC,EAC1B,CAAC,cAENzE,KAAA,QAAK6D,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7B5D,KAAA,QAAK6D,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eAC1D9D,IAAA,CAACpB,YAAY,EAACmF,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACvD/D,IAAA,SAAA8D,QAAA,CAAOlE,MAAM,CAACC,QAAQ,CAACqF,KAAK,CAACuB,UAAU,CAAC,CAAE,YAAY,CAAE,CAAEC,MAAM,CAAE5G,EAAG,CAAC,CAAC,CAAO,CAAC,EAC5E,CAAC,cAENI,KAAA,QAAK6D,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eAC1D9D,IAAA,CAACnB,SAAS,EAACkF,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACpD7D,KAAA,SAAA4D,QAAA,EAAOoB,KAAK,CAACyB,eAAe,CAAC,KAAG,CAACzB,KAAK,CAAC0B,aAAa,CAAC,MAAI,EAAM,CAAC,EAC7D,CAAC,cAEN1G,KAAA,QAAK6D,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eAC1D9D,IAAA,CAAClB,UAAU,EAACiF,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACrD/D,IAAA,SAAM+D,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAEoB,KAAK,CAAC2B,QAAQ,CAAO,CAAC,EAC/C,CAAC,EACH,CAAC,cAEN3G,KAAA,QAAK6D,SAAS,CAAC,qEAAqE,CAAAD,QAAA,eAClF5D,KAAA,WACEkG,OAAO,CAAEA,CAAA,GAAM,CACblE,gBAAgB,CAACgD,KAAK,CAAC,CACvB9C,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAE,CACF2B,SAAS,CAAC,yEAAyE,CAAAD,QAAA,EACpF,kBAEC,cAAA9D,IAAA,CAACN,cAAc,EAACqE,SAAS,CAAC,cAAc,CAAE,CAAC,EACrC,CAAC,CAERmB,KAAK,CAACP,MAAM,GAAK,OAAO,EAAI,CAACO,KAAK,CAAC4B,YAAY,eAC9C9G,IAAA,WACEoG,OAAO,CAAEA,CAAA,GAAM/C,YAAY,CAAC6B,KAAK,CAAC6B,QAAQ,CAAE,CAC5CC,QAAQ,CAAEzE,UAAW,CACrBwB,SAAS,CAAC,0DAA0D,CAAAD,QAAA,CAEnEvB,UAAU,CAAG,mBAAmB,CAAG,YAAY,CAC1C,CACT,CAEA2C,KAAK,CAAC4B,YAAY,eACjB5G,KAAA,SAAM6D,SAAS,CAAC,0CAA0C,CAAAD,QAAA,eACxD9D,IAAA,CAACjB,eAAe,EAACgF,SAAS,CAAC,cAAc,CAAE,CAAC,mBAC/B,CAACnE,MAAM,CAACC,QAAQ,CAACqF,KAAK,CAAC4B,YAAY,CAAC,CAAE,QAAQ,CAAE,CAAEJ,MAAM,CAAE5G,EAAG,CAAC,CAAC,EACxE,CACP,EACE,CAAC,GA3DEoF,KAAK,CAAC+B,EA4DX,CACN,CAAC,CACC,CAAC,cAEN/G,KAAA,QAAK6D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACxC9D,IAAA,CAACpB,YAAY,EAACmF,SAAS,CAAC,0CAA0C,CAAE,CAAC,cACrE/D,IAAA,MAAG+D,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,0BAAwB,CAAG,CAAC,cAC7D9D,IAAA,MAAG+D,SAAS,CAAC,gCAAgC,CAAAD,QAAA,CAC1ChD,cAAc,GAAK,KAAK,UAAAoC,MAAA,CACZpC,cAAc,GAAK,aAAa,CAAG,aAAa,CAAGA,cAAc,GAAK,OAAO,CAAG,aAAa,CAAG,aAAa,eACtH,wCAAwC,CAC3C,CAAC,EACD,CACN,EACE,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAoG,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAnB,cAAc,CAAGzE,eAAe,CAAC0E,MAAM,CAACd,KAAK,EAAI,CACrD,GAAI1D,eAAe,GAAK,WAAW,CAAE,MAAO,CAAA0D,KAAK,CAACK,eAAe,CACjE,GAAI/D,eAAe,GAAK,WAAW,CAAE,MAAO,CAAA0D,KAAK,CAACU,SAAS,CAC3D,MAAO,KAAI,CACb,CAAC,CAAC,CAEF,mBACE1F,KAAA,QAAK6D,SAAS,CAAC,WAAW,CAAAD,QAAA,eAExB5D,KAAA,QAAK6D,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B5D,KAAA,QAAK6D,SAAS,CAAC,mCAAmC,CAAAD,QAAA,eAChD5D,KAAA,QAAK6D,SAAS,CAAC,6BAA6B,CAAAD,QAAA,eAC1C9D,IAAA,CAACV,UAAU,EAACyE,SAAS,CAAC,2BAA2B,CAAE,CAAC,cACpD/D,IAAA,SAAM+D,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,EAC1D,CAAC,cAEN5D,KAAA,UAAO6D,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAClC9D,IAAA,UACEqF,IAAI,CAAC,UAAU,CACf8B,OAAO,CAAEzF,OAAQ,CACjB0F,QAAQ,CAAGC,CAAC,EAAK1F,UAAU,CAAC0F,CAAC,CAACC,MAAM,CAACH,OAAO,CAAE,CAC9CpD,SAAS,CAAC,gDAAgD,CAC3D,CAAC,cACF/D,IAAA,SAAM+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,yBAAuB,CAAM,CAAC,EACrE,CAAC,EACL,CAAC,cAEN9D,IAAA,QAAK+D,SAAS,CAAC,iEAAiE,CAAAD,QAAA,CAC7E,CACC,CAAEmC,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,MAAO,CAAC,CAC/B,CAAED,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,cAAe,CAAC,CAC7C,CAAED,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAY,CAAC,CAC3C,CAACjC,GAAG,CAACkC,MAAM,eACVnG,IAAA,WAEEoG,OAAO,CAAEA,CAAA,GAAM3E,kBAAkB,CAAC0E,MAAM,CAACF,KAAK,CAAE,CAChDlC,SAAS,2DAAAb,MAAA,CACP1B,eAAe,GAAK2E,MAAM,CAACF,KAAK,CAC5B,wBAAwB,CACxB,kDAAkD,CACrD,CAAAnC,QAAA,CAEFqC,MAAM,CAACD,KAAK,EARRC,MAAM,CAACF,KASN,CACT,CAAC,CACC,CAAC,EACH,CAAC,cAGNjG,IAAA,QAAK+D,SAAS,CAAC,sDAAsD,CAAAD,QAAA,cACnE5D,KAAA,QAAK6D,SAAS,CAAC,4BAA4B,CAAAD,QAAA,eACzC9D,IAAA,CAACd,qBAAqB,EAAC6E,SAAS,CAAC,4CAA4C,CAAE,CAAC,cAChF7D,KAAA,QAAK6D,SAAS,CAAC,SAAS,CAAAD,QAAA,eACtB9D,IAAA,MAAG+D,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAAC,yBAE7C,CAAG,CAAC,cACJ5D,KAAA,MAAG6D,SAAS,CAAC,wBAAwB,CAAAD,QAAA,EAAC,oEAEpC,CAAC,CAACpC,OAAO,EAAI,gGAAgG,EAC5G,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,CAGLqE,cAAc,CAACM,MAAM,CAAG,CAAC,cACxBrG,IAAA,QAAK+D,SAAS,CAAC,YAAY,CAAAD,QAAA,CACxBiC,cAAc,CAAC9B,GAAG,CAACiB,KAAK,EAAI,CAC3B,KAAM,CAAAqC,UAAU,CAAGtC,sBAAsB,CAACC,KAAK,CAAC,CAChD,KAAM,CAAAsC,WAAW,CAAG9B,0BAA0B,CAACR,KAAK,CAAC,CAErD,mBACEhF,KAAA,QAAoB6D,SAAS,iBAAAb,MAAA,CAAkB,CAACgC,KAAK,CAACU,SAAS,CAAG,YAAY,CAAG,EAAE,CAAG,CAAA9B,QAAA,eACpF5D,KAAA,QAAK6D,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eACpD5D,KAAA,QAAK6D,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACrB9D,IAAA,OAAI+D,SAAS,CAAC,iCAAiC,CAAAD,QAAA,CAAEoB,KAAK,CAACoB,UAAU,CAAK,CAAC,cACvEtG,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAEoB,KAAK,CAACuC,IAAI,CAAI,CAAC,CACxDvC,KAAK,CAACsB,aAAa,eAClBxG,IAAA,SAAM+D,SAAS,CAAC,6GAA6G,CAAAD,QAAA,CAC1HoB,KAAK,CAACsB,aAAa,CAChB,CACP,EACE,CAAC,cACNxG,IAAA,SAAM+D,SAAS,+EAAAb,MAAA,CAAgFsE,WAAW,CAAClC,KAAK,CAAG,CAAAxB,QAAA,CAChH0D,WAAW,CAAC3C,IAAI,CACb,CAAC,EACJ,CAAC,cAEN3E,KAAA,QAAK6D,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7B5D,KAAA,QAAK6D,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eAC1D9D,IAAA,CAACpB,YAAY,EAACmF,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACvD/D,IAAA,SAAA8D,QAAA,CAAOlE,MAAM,CAACC,QAAQ,CAACqF,KAAK,CAACuB,UAAU,CAAC,CAAE,YAAY,CAAE,CAAEC,MAAM,CAAE5G,EAAG,CAAC,CAAC,CAAO,CAAC,EAC5E,CAAC,cAENI,KAAA,QAAK6D,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eAC1D9D,IAAA,CAACnB,SAAS,EAACkF,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACpD7D,KAAA,SAAA4D,QAAA,EAAOoB,KAAK,CAACyB,eAAe,CAAC,KAAG,CAACzB,KAAK,CAAC0B,aAAa,CAAC,MAAI,EAAM,CAAC,EAC7D,CAAC,cAEN1G,KAAA,QAAK6D,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eAC1D9D,IAAA,CAAClB,UAAU,EAACiF,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACrD/D,IAAA,SAAM+D,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAEoB,KAAK,CAAC2B,QAAQ,CAAO,CAAC,EAC/C,CAAC,cAEN3G,KAAA,QAAK6D,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eAC1D9D,IAAA,CAACP,aAAa,EAACsE,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACxD7D,KAAA,SAAA4D,QAAA,EAAOoB,KAAK,CAACwC,aAAa,CAAC,GAAC,CAACxC,KAAK,CAACyC,cAAc,CAAC,UAAQ,EAAM,CAAC,EAC9D,CAAC,CAELzC,KAAK,CAACC,uBAAuB,eAC5BjF,KAAA,QAAK6D,SAAS,CAAC,0BAA0B,CAAAD,QAAA,eACvC9D,IAAA,CAACZ,eAAe,EAAC2E,SAAS,sCAAAb,MAAA,CAAuCqE,UAAU,CAACjC,KAAK,CAAG,CAAE,CAAC,cACvFpF,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,gBAAAb,MAAA,CAAiBqE,UAAU,CAACjC,KAAK,CAAG,CAAAxB,QAAA,CAAEyD,UAAU,CAAC1C,IAAI,CAAI,CAAC,CACrE0C,UAAU,CAAClC,IAAI,GAAK,MAAM,eACzBnF,KAAA,MAAG6D,SAAS,CAAC,kCAAkC,CAAAD,QAAA,EAAC,eACpC,CAACoB,KAAK,CAACC,uBAAuB,EACvC,CACJ,EACE,CAAC,EACH,CACN,CAEAD,KAAK,CAACW,aAAa,EAAIX,KAAK,CAACrB,SAAS,EAAIqB,KAAK,CAACrB,SAAS,CAACwC,MAAM,CAAG,CAAC,eACnEnG,KAAA,QAAK6D,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eACpD9D,IAAA,CAACb,qBAAqB,EAAC4E,SAAS,CAAC,mCAAmC,CAAE,CAAC,cACvE7D,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,cAAY,CAAG,CAAC,cAC3C5D,KAAA,MAAG6D,SAAS,CAAC,gBAAgB,CAAAD,QAAA,EAAC,OACvB,CAACoB,KAAK,CAACrB,SAAS,CAACI,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACqC,UAAU,CAAC,CAACqB,IAAI,CAAC,IAAI,CAAC,EACtD,CAAC,EACD,CAAC,EACH,CACN,EACE,CAAC,cAEN1H,KAAA,QAAK6D,SAAS,CAAC,qEAAqE,CAAAD,QAAA,eAClF5D,KAAA,WACEkG,OAAO,CAAEA,CAAA,GAAM,CACblE,gBAAgB,CAACgD,KAAK,CAAC,CACvB9C,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAE,CACF2B,SAAS,CAAC,yEAAyE,CAAAD,QAAA,EACpF,kBAEC,cAAA9D,IAAA,CAACN,cAAc,EAACqE,SAAS,CAAC,cAAc,CAAE,CAAC,EACrC,CAAC,CAERmB,KAAK,CAACU,SAAS,eACd5F,IAAA,WACEoG,OAAO,CAAEA,CAAA,GAAM5C,aAAa,CAAC0B,KAAK,CAAC+B,EAAE,CAAE,CACvCD,QAAQ,CAAE3E,QAAS,CACnB0B,SAAS,CAAC,0DAA0D,CAAAD,QAAA,CAEnEzB,QAAQ,CAAG,kBAAkB,CAAG,UAAU,CACrC,CACT,EACE,CAAC,GArFE6C,KAAK,CAAC+B,EAsFX,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,cAEN/G,KAAA,QAAK6D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACxC9D,IAAA,CAACL,mBAAmB,EAACoE,SAAS,CAAC,0CAA0C,CAAE,CAAC,cAC5E/D,IAAA,MAAG+D,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,0BAAwB,CAAG,CAAC,cAC7D9D,IAAA,MAAG+D,SAAS,CAAC,gCAAgC,CAAAD,QAAA,CAC1CtC,eAAe,GAAK,WAAW,CAC5B,0DAA0D,CAC1DA,eAAe,GAAK,WAAW,CAC/B,4DAA4D,CAC5D,yCAAyC,CAC5C,CAAC,EACD,CACN,EACE,CAAC,CAEV,CAAC,CAED,GAAIhB,OAAO,EAAII,QAAQ,CAACyF,MAAM,GAAK,CAAC,EAAI/E,eAAe,CAAC+E,MAAM,GAAK,CAAC,CAAE,CACpE,mBACErG,IAAA,QAAK+D,SAAS,CAAC,KAAK,CAAAD,QAAA,cAClB5D,KAAA,QAAK6D,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B9D,IAAA,QAAK+D,SAAS,CAAC,wCAAwC,CAAM,CAAC,cAC9D/D,IAAA,QAAK+D,SAAS,CAAC,YAAY,CAAAD,QAAA,CACxB,CAAC,GAAG+D,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC5D,GAAG,CAAC,CAAC6D,CAAC,CAAE3D,CAAC,gBACtBnE,IAAA,QAAa+D,SAAS,CAAC,+BAA+B,EAA5CI,CAAkD,CAC7D,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,mBACEjE,KAAA,QAAK6D,SAAS,CAAC,eAAe,CAAAD,QAAA,eAE5B5D,KAAA,QAAK6D,SAAS,CAAC,mCAAmC,CAAAD,QAAA,eAChD5D,KAAA,QAAA4D,QAAA,eACE9D,IAAA,OAAI+D,SAAS,CAAC,sCAAsC,CAAAD,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC7E9D,IAAA,MAAG+D,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,qDAAgD,CAAG,CAAC,EAClF,CAAC,cAEN9D,IAAA,WACEoG,OAAO,CAAEjD,WAAY,CACrB6D,QAAQ,CAAEtG,UAAW,CACrBqD,SAAS,CAAC,0DAA0D,CACpEgE,KAAK,CAAC,eAAe,CAAAjE,QAAA,cAErB9D,IAAA,CAACT,aAAa,EAACwE,SAAS,8BAAAb,MAAA,CAA+BxC,UAAU,CAAG,cAAc,CAAG,EAAE,CAAG,CAAE,CAAC,CACvF,CAAC,EACN,CAAC,CAGLJ,SAAS,GAAK,WAAW,cACxBJ,KAAA,QAAK6D,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eACpD5D,KAAA,QAAK6D,SAAS,CAAC,0BAA0B,CAAAD,QAAA,eACvC9D,IAAA,MAAG+D,SAAS,CAAC,sCAAsC,CAAAD,QAAA,CAAE9C,aAAa,CAACE,KAAK,CAAI,CAAC,cAC7ElB,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,QAAM,CAAG,CAAC,EAChD,CAAC,cACN5D,KAAA,QAAK6D,SAAS,CAAC,uDAAuD,CAAAD,QAAA,eACpE9D,IAAA,MAAG+D,SAAS,CAAC,oCAAoC,CAAAD,QAAA,CAAE9C,aAAa,CAACG,WAAW,CAAI,CAAC,cACjFnB,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,cAAS,CAAG,CAAC,EACnD,CAAC,cACN5D,KAAA,QAAK6D,SAAS,CAAC,qDAAqD,CAAAD,QAAA,eAClE9D,IAAA,MAAG+D,SAAS,CAAC,kCAAkC,CAAAD,QAAA,CAAE9C,aAAa,CAACI,KAAK,CAAI,CAAC,cACzEpB,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,cAAS,CAAG,CAAC,EACnD,CAAC,cACN5D,KAAA,QAAK6D,SAAS,CAAC,sDAAsD,CAAAD,QAAA,eACnE9D,IAAA,MAAG+D,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAE9C,aAAa,CAACK,SAAS,CAAI,CAAC,cAC9ErB,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,cAAS,CAAG,CAAC,EACnD,CAAC,EACH,CAAC,cAEN5D,KAAA,QAAK6D,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eACpD5D,KAAA,QAAK6D,SAAS,CAAC,0BAA0B,CAAAD,QAAA,eACvC9D,IAAA,MAAG+D,SAAS,CAAC,sCAAsC,CAAAD,QAAA,CAAElC,cAAc,CAACV,KAAK,CAAI,CAAC,cAC9ElB,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,QAAM,CAAG,CAAC,EAChD,CAAC,cACN5D,KAAA,QAAK6D,SAAS,CAAC,sDAAsD,CAAAD,QAAA,eACnE9D,IAAA,MAAG+D,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAElC,cAAc,CAACG,SAAS,CAAI,CAAC,cAC/E/B,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,cAAY,CAAG,CAAC,EACtD,CAAC,cACN5D,KAAA,QAAK6D,SAAS,CAAC,qDAAqD,CAAAD,QAAA,eAClE9D,IAAA,MAAG+D,SAAS,CAAC,kCAAkC,CAAAD,QAAA,CAAElC,cAAc,CAACE,SAAS,CAAI,CAAC,cAC9E9B,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,cAAS,CAAG,CAAC,EACnD,CAAC,cACN5D,KAAA,QAAK6D,SAAS,CAAC,oDAAoD,CAAAD,QAAA,eACjE9D,IAAA,MAAG+D,SAAS,CAAC,iCAAiC,CAAAD,QAAA,CAAElC,cAAc,CAACI,cAAc,CAAI,CAAC,cAClFhC,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,gBAAc,CAAG,CAAC,EACxD,CAAC,EACH,CACN,cAGD5D,KAAA,QAAK6D,SAAS,CAAC,2CAA2C,CAAAD,QAAA,eACxD5D,KAAA,WACEkG,OAAO,CAAEA,CAAA,GAAM7F,YAAY,CAAC,WAAW,CAAE,CACzCwD,SAAS,oGAAAb,MAAA,CACP5C,SAAS,GAAK,WAAW,CACrB,sCAAsC,CACtC,2CAA2C,CAC9C,CAAAwD,QAAA,eAEH9D,IAAA,CAACpB,YAAY,EAACmF,SAAS,CAAC,SAAS,CAAE,CAAC,cACpC/D,IAAA,SAAA8D,QAAA,CAAM,iBAAe,CAAM,CAAC,CAC3B9C,aAAa,CAACE,KAAK,CAAG,CAAC,eACtBlB,IAAA,SAAM+D,SAAS,sDAAAb,MAAA,CACb5C,SAAS,GAAK,WAAW,CACrB,wBAAwB,CACxB,mCAAmC,CACtC,CAAAwD,QAAA,CACA9C,aAAa,CAACE,KAAK,CAChB,CACP,EACK,CAAC,cAEThB,KAAA,WACEkG,OAAO,CAAEA,CAAA,GAAM7F,YAAY,CAAC,WAAW,CAAE,CACzCwD,SAAS,oGAAAb,MAAA,CACP5C,SAAS,GAAK,WAAW,CACrB,sCAAsC,CACtC,2CAA2C,CAC9C,CAAAwD,QAAA,eAEH9D,IAAA,CAACL,mBAAmB,EAACoE,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3C/D,IAAA,SAAA8D,QAAA,CAAM,kBAAgB,CAAM,CAAC,CAC5BlC,cAAc,CAACE,SAAS,CAAG,CAAC,eAC3B9B,IAAA,SAAM+D,SAAS,sDAAAb,MAAA,CACb5C,SAAS,GAAK,WAAW,CACrB,wBAAwB,CACxB,mCAAmC,CACtC,CAAAwD,QAAA,CACAlC,cAAc,CAACE,SAAS,CACrB,CACP,EACK,CAAC,EACN,CAAC,CAGLxB,SAAS,GAAK,WAAW,cAAGN,IAAA,CAAC8F,WAAW,GAAE,CAAC,cAAG9F,IAAA,CAACkH,kBAAkB,GAAE,CAAC,CAGpE/E,gBAAgB,EAAIF,aAAa,eAChC/B,KAAA,QAAK6D,SAAS,CAAC,oCAAoC,CAAAD,QAAA,eACjD9D,IAAA,QAAK+D,SAAS,CAAC,oBAAoB,CAACqC,OAAO,CAAEA,CAAA,GAAMhE,mBAAmB,CAAC,KAAK,CAAE,CAAE,CAAC,cACjFpC,IAAA,QAAK+D,SAAS,CAAC,mDAAmD,CAAAD,QAAA,cAChE5D,KAAA,QAAK6D,SAAS,CAAC,sEAAsE,CAAAD,QAAA,eACnF5D,KAAA,QAAK6D,SAAS,CAAC,wCAAwC,CAAAD,QAAA,eACrD9D,IAAA,OAAI+D,SAAS,CAAC,yCAAyC,CAAAD,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC3E9D,IAAA,WACEoG,OAAO,CAAEA,CAAA,GAAMhE,mBAAmB,CAAC,KAAK,CAAE,CAC1C2B,SAAS,CAAC,sCAAsC,CAAAD,QAAA,cAEhD9D,IAAA,CAACR,SAAS,EAACuE,SAAS,CAAC,2BAA2B,CAAE,CAAC,CAC7C,CAAC,EACN,CAAC,cAEN7D,KAAA,QAAK6D,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB5D,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,eAAa,CAAG,CAAC,cAC1D9D,IAAA,MAAG+D,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAAE7B,aAAa,CAACqE,UAAU,CAAI,CAAC,EACxE,CAAC,cAENpG,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,SAAO,CAAG,CAAC,cACpD9D,IAAA,MAAG+D,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAAE7B,aAAa,CAACsE,UAAU,EAAItE,aAAa,CAACwF,IAAI,CAAI,CAAC,EAC9F,CAAC,cAENvH,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,MAAI,CAAG,CAAC,cACjD5D,KAAA,MAAG6D,SAAS,CAAC,+BAA+B,CAAAD,QAAA,EACzClE,MAAM,CAACC,QAAQ,CAACoC,aAAa,CAACwE,UAAU,CAAC,CAAE,kBAAkB,CAAC,CAAC,IAChE,CAAC7G,MAAM,CAACC,QAAQ,CAACoC,aAAa,CAAC+F,QAAQ,CAAC,CAAE,OAAO,CAAC,CAAC,MACrD,EAAG,CAAC,EACD,CAAC,cAEN9H,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,KAAG,CAAG,CAAC,cAChD9D,IAAA,MAAG+D,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAAE7B,aAAa,CAAC4E,QAAQ,CAAI,CAAC,EACtE,CAAC,CAEL5E,aAAa,CAACuE,aAAa,eAC1BtG,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,UAAQ,CAAG,CAAC,cACrD9D,IAAA,MAAG+D,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAAE7B,aAAa,CAACuE,aAAa,CAAI,CAAC,EAC3E,CACN,CAEAlG,SAAS,GAAK,WAAW,eACxBJ,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,QAAM,CAAG,CAAC,cACnD9D,IAAA,QAAK+D,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAEY,cAAc,CAACzC,aAAa,CAAC0C,MAAM,CAAC,CAAM,CAAC,EAC/D,CACN,CAEArE,SAAS,GAAK,WAAW,eACxBJ,KAAA,CAAAE,SAAA,EAAA0D,QAAA,eACE5D,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,WAAS,CAAG,CAAC,cACtD5D,KAAA,QAAK6D,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACrC9D,IAAA,QAAK+D,SAAS,CAAC,yCAAyC,CAAAD,QAAA,cACtD9D,IAAA,QACE+D,SAAS,CAAC,6CAA6C,CACvDkE,KAAK,CAAE,CAAEC,KAAK,IAAAhF,MAAA,CAAKiF,IAAI,CAACC,GAAG,CAAC,GAAG,CAAGnG,aAAa,CAACyF,aAAa,CAAGzF,aAAa,CAAC0F,cAAc,CAAI,GAAG,CAAC,KAAI,CAAE,CAC3G,CAAC,CACC,CAAC,cACNzH,KAAA,SAAM6D,SAAS,CAAC,4CAA4C,CAAAD,QAAA,EACzD7B,aAAa,CAACyF,aAAa,CAAC,GAAC,CAACzF,aAAa,CAAC0F,cAAc,EACvD,CAAC,EACJ,CAAC,EACH,CAAC,CAEL1F,aAAa,CAACkD,uBAAuB,eACpCjF,KAAA,QAAA4D,QAAA,eACE9D,IAAA,MAAG+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,+BAA6B,CAAG,CAAC,cAC1E9D,IAAA,QAAK+D,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CACvC7B,aAAa,CAACkD,uBAAuB,CAACkD,KAAK,CAAC,IAAI,CAAC,CAACpE,GAAG,CAAC,CAACqE,IAAI,CAAEC,GAAG,gBAC/DvI,IAAA,SAEE+D,SAAS,CAAC,kIAAkI,CAAAD,QAAA,CAE3IwE,IAAI,EAHAC,GAID,CACP,CAAC,CACC,CAAC,cACNvI,IAAA,QAAK+D,SAAS,SAAAb,MAAA,CAAU+B,sBAAsB,CAAChD,aAAa,CAAC,CAACqD,KAAK,CAAG,CAAAxB,QAAA,cACpE5D,KAAA,MAAG6D,SAAS,CAAC,uCAAuC,CAAAD,QAAA,EACjDmB,sBAAsB,CAAChD,aAAa,CAAC,CAACoD,IAAI,GAAK,MAAM,eACpDrF,IAAA,CAACjB,eAAe,EAACgF,SAAS,CAAC,cAAc,CAAE,CAC5C,CACAkB,sBAAsB,CAAChD,aAAa,CAAC,CAACoD,IAAI,GAAK,MAAM,EAAI,CAACpD,aAAa,CAACkD,uBAAuB,eAC9FnF,IAAA,CAACjB,eAAe,EAACgF,SAAS,CAAC,cAAc,CAAE,CAC5C,CACAkB,sBAAsB,CAAChD,aAAa,CAAC,CAAC4C,IAAI,EAC1C,CAAC,CACD,CAAC,EACH,CACN,CAEA5C,aAAa,CAAC4D,aAAa,EAAI5D,aAAa,CAAC4B,SAAS,EAAI5B,aAAa,CAAC4B,SAAS,CAACwC,MAAM,CAAG,CAAC,eAC3FnG,KAAA,QAAK6D,SAAS,CAAC,8BAA8B,CAAAD,QAAA,eAC3C5D,KAAA,MAAG6D,SAAS,CAAC,oDAAoD,CAAAD,QAAA,eAC/D9D,IAAA,CAACb,qBAAqB,EAAC4E,SAAS,CAAC,cAAc,CAAE,CAAC,qCAEpD,EAAG,CAAC,cACJ/D,IAAA,OAAI+D,SAAS,CAAC,qCAAqC,CAAAD,QAAA,CAChD7B,aAAa,CAAC4B,SAAS,CAACI,GAAG,CAAC,CAACuE,QAAQ,CAAED,GAAG,gBACzCrI,KAAA,OAAA4D,QAAA,EAAc,SACV,CAAC0E,QAAQ,CAAClC,UAAU,CAAC,IAAE,CAACkC,QAAQ,CAACjC,UAAU,CAAC,IAAE,CAACiC,QAAQ,CAACnE,IAAI,EAAI,sBAAsB,CAAC,GAC3F,GAFSkE,GAEL,CACL,CAAC,CACA,CAAC,EACF,CACN,EACD,CACH,EACE,CAAC,cAENrI,KAAA,QAAK6D,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClC9D,IAAA,WACEoG,OAAO,CAAEA,CAAA,GAAMhE,mBAAmB,CAAC,KAAK,CAAE,CAC1C2B,SAAS,CAAC,6BAA6B,CAAAD,QAAA,CACxC,cAED,CAAQ,CAAC,CAERxD,SAAS,GAAK,WAAW,EAAI2B,aAAa,CAAC0C,MAAM,GAAK,OAAO,EAAI,CAAC1C,aAAa,CAAC6E,YAAY,eAC3F9G,IAAA,WACEoG,OAAO,CAAEA,CAAA,GAAM/C,YAAY,CAACpB,aAAa,CAAC8E,QAAQ,CAAE,CACpDC,QAAQ,CAAEzE,UAAW,CACrBwB,SAAS,CAAC,+CAA+C,CAAAD,QAAA,CAExDvB,UAAU,CAAG,mBAAmB,CAAG,oBAAoB,CAClD,CACT,CAEAjC,SAAS,GAAK,WAAW,EAAI2B,aAAa,CAAC2D,SAAS,eACnD5F,IAAA,WACEoG,OAAO,CAAEA,CAAA,GAAM5C,aAAa,CAACvB,aAAa,CAACgF,EAAE,CAAE,CAC/CD,QAAQ,CAAE3E,QAAS,CACnB0B,SAAS,CAAC,+CAA+C,CAAAD,QAAA,CAExDzB,QAAQ,CAAG,kBAAkB,CAAG,UAAU,CACrC,CACT,EACE,CAAC,EACH,CAAC,CACH,CAAC,EACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}