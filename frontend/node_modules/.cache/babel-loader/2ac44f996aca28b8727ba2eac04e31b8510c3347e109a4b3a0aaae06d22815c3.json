{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JRoidl\\\\Desktop\\\\mitarbeiterapp\\\\frontend\\\\src\\\\pages\\\\staff\\\\MyShifts.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/staff/MyShifts.js\nimport React, { useState, useEffect } from 'react';\nimport api from '../../services/api';\nimport toast from 'react-hot-toast';\nimport { CalendarIcon, ClockIcon, MapPinIcon, CheckCircleIcon, XCircleIcon, ExclamationTriangleIcon, InformationCircleIcon, ShieldExclamationIcon, AcademicCapIcon, ChevronRightIcon, FunnelIcon, ArrowPathIcon, XMarkIcon, UserGroupIcon, ArrowRightIcon, MagnifyingGlassIcon } from '@heroicons/react/24/outline';\nimport { format, parseISO } from 'date-fns';\nimport { de } from 'date-fns/locale';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyShifts = () => {\n  _s();\n  // State für beide Tabs\n  const [activeTab, setActiveTab] = useState('my-shifts');\n  const [loading, setLoading] = useState(false);\n  const [refreshing, setRefreshing] = useState(false);\n\n  // State für \"Meine Schichten\"\n  const [myShifts, setMyShifts] = useState([]);\n  const [myShiftsFilter, setMyShiftsFilter] = useState('all'); // all, preliminary, final, confirmed\n  const [myShiftsStats, setMyShiftsStats] = useState({\n    total: 0,\n    preliminary: 0,\n    final: 0,\n    confirmed: 0\n  });\n\n  // State für \"Verfügbare Schichten\"\n  const [availableShifts, setAvailableShifts] = useState([]);\n  const [availableFilter, setAvailableFilter] = useState('all'); // all, qualified, available\n  const [showAll, setShowAll] = useState(false);\n  const [availableStats, setAvailableStats] = useState({\n    total: 0,\n    available: 0,\n    qualified: 0,\n    with_conflicts: 0\n  });\n\n  // Gemeinsame States\n  const [selectedShift, setSelectedShift] = useState(null);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [applying, setApplying] = useState(false);\n  const [confirming, setConfirming] = useState(false);\n  useEffect(() => {\n    if (activeTab === 'my-shifts') {\n      loadMyShifts();\n    } else {\n      loadAvailableShifts();\n    }\n  }, [activeTab, showAll]);\n  const loadMyShifts = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/staff/shifts/my');\n      setMyShifts(response.data.shifts);\n      setMyShiftsStats(response.data.stats);\n    } catch (error) {\n      console.error('Fehler beim Laden der Schichten:', error);\n      toast.error('Fehler beim Laden deiner Schichten');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadAvailableShifts = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(`/staff/shifts/available?showAll=${showAll}`);\n      setAvailableShifts(response.data.shifts);\n      setAvailableStats(response.data.stats);\n    } catch (error) {\n      console.error('Fehler beim Laden der verfügbaren Schichten:', error);\n      toast.error('Fehler beim Laden der verfügbaren Schichten');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const refreshData = async () => {\n    setRefreshing(true);\n    try {\n      if (activeTab === 'my-shifts') {\n        await loadMyShifts();\n      } else {\n        await loadAvailableShifts();\n      }\n      toast.success('Daten aktualisiert');\n    } catch (error) {\n      toast.error('Fehler beim Aktualisieren');\n    } finally {\n      setRefreshing(false);\n    }\n  };\n  const confirmShift = async shiftId => {\n    setConfirming(true);\n    try {\n      await api.post(`/staff/shifts/${shiftId}/confirm`);\n      toast.success('Schicht erfolgreich bestätigt');\n      await loadMyShifts();\n      setShowDetailsModal(false);\n    } catch (error) {\n      console.error('Fehler beim Bestätigen:', error);\n      toast.error('Fehler beim Bestätigen der Schicht');\n    } finally {\n      setConfirming(false);\n    }\n  };\n  const applyForShift = async shiftId => {\n    setApplying(true);\n    try {\n      await api.post(`/staff/shifts/${shiftId}/apply`);\n      toast.success('Bewerbung erfolgreich eingereicht');\n      await loadAvailableShifts();\n      setShowDetailsModal(false);\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response2, _error$response2$data;\n      console.error('Fehler beim Bewerben:', error);\n      if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && _error$response$data.conflicts) {\n        const conflicts = error.response.data.conflicts;\n        toast.error(/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold\",\n            children: error.response.data.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"mt-2 text-sm\",\n            children: conflicts.map((c, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", c.event, \": \", c.time]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), {\n          duration: 6000\n        });\n      } else if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && _error$response2$data.details) {\n        toast.error(/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold\",\n            children: error.response.data.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm mt-1\",\n            children: error.response.data.details.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), {\n          duration: 5000\n        });\n      } else {\n        var _error$response3, _error$response3$data;\n        toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Fehler beim Einreichen der Bewerbung');\n      }\n    } finally {\n      setApplying(false);\n    }\n  };\n  const getStatusBadge = status => {\n    const badges = {\n      preliminary: {\n        text: 'Vorläufig',\n        className: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n        icon: ExclamationTriangleIcon\n      },\n      final: {\n        text: 'Endgültig',\n        className: 'bg-blue-100 text-blue-800 border-blue-200',\n        icon: InformationCircleIcon\n      },\n      confirmed: {\n        text: 'Bestätigt',\n        className: 'bg-green-100 text-green-800 border-green-200',\n        icon: CheckCircleIcon\n      }\n    };\n    const badge = badges[status] || badges.preliminary;\n    const Icon = badge.icon;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium border ${badge.className}`,\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        className: \"h-3.5 w-3.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), badge.text]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  };\n  const getQualificationStatus = shift => {\n    if (!shift.required_qualifications || shift.required_qualification_count === 0) {\n      return {\n        type: 'none',\n        text: 'Keine Qualifikationen erforderlich',\n        color: 'text-ios-gray-500'\n      };\n    }\n    if (shift.fully_qualified || shift.matching_qualifications === shift.required_qualification_count) {\n      return {\n        type: 'full',\n        text: 'Voll qualifiziert',\n        color: 'text-ios-green'\n      };\n    }\n    if (shift.partially_qualified || shift.matching_qualifications > 0) {\n      return {\n        type: 'partial',\n        text: `${shift.matching_qualifications} von ${shift.required_qualification_count} Qualifikationen`,\n        color: 'text-ios-orange'\n      };\n    }\n    return {\n      type: 'none',\n      text: 'Nicht qualifiziert',\n      color: 'text-ios-red'\n    };\n  };\n  const getShiftAvailabilityStatus = shift => {\n    if (shift.my_status === 'assigned') {\n      return {\n        text: 'Bereits eingeteilt',\n        color: 'bg-ios-green/10 text-ios-green border-ios-green/20'\n      };\n    }\n    if (shift.my_status === 'applied') {\n      return {\n        text: 'Beworben',\n        color: 'bg-ios-purple/10 text-ios-purple border-ios-purple/20'\n      };\n    }\n    if (!shift.can_apply) {\n      if (shift.has_conflicts) {\n        return {\n          text: 'Zeitkonflikt',\n          color: 'bg-ios-red/10 text-ios-red border-ios-red/20'\n        };\n      }\n      if (!shift.fully_qualified && !shift.partially_qualified) {\n        return {\n          text: 'Nicht qualifiziert',\n          color: 'bg-ios-gray-100 text-ios-gray-600 border-ios-gray-200'\n        };\n      }\n    }\n    return {\n      text: 'Verfügbar',\n      color: 'bg-ios-blue/10 text-ios-blue border-ios-blue/20'\n    };\n  };\n\n  // Komponente für Meine Schichten Tab\n  const MyShiftsTab = () => {\n    const filteredShifts = myShifts.filter(shift => {\n      if (myShiftsFilter === 'all') return true;\n      return shift.status === myShiftsFilter;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(FunnelIcon, {\n              className: \"h-5 w-5 text-ios-gray-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-ios-gray-900\",\n              children: \"Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex rounded-lg overflow-hidden border border-ios-gray-300 mt-3\",\n          children: [{\n            value: 'all',\n            label: 'Alle'\n          }, {\n            value: 'preliminary',\n            label: 'Vorläufig'\n          }, {\n            value: 'final',\n            label: 'Endgültig'\n          }, {\n            value: 'confirmed',\n            label: 'Bestätigt'\n          }].map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMyShiftsFilter(option.value),\n            className: `flex-1 px-4 py-2 text-sm font-medium transition-colors ${myShiftsFilter === option.value ? 'bg-ios-blue text-white' : 'bg-white text-ios-gray-700 hover:bg-ios-gray-100'}`,\n            children: option.label\n          }, option.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), filteredShifts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-4\",\n        children: filteredShifts.map(shift => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ios-card p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-ios-gray-900\",\n                children: shift.event_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: shift.shift_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this), shift.position_name && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-ios-purple/10 text-ios-purple mt-1\",\n                children: shift.position_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this), getStatusBadge(shift.status)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm text-ios-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                className: \"h-4 w-4 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: format(parseISO(shift.start_time), 'dd.MM.yyyy', {\n                  locale: de\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm text-ios-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                className: \"h-4 w-4 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [shift.start_time_only, \" - \", shift.end_time_only, \" Uhr\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm text-ios-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(MapPinIcon, {\n                className: \"h-4 w-4 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"truncate\",\n                children: shift.location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between pt-3 border-t border-ios-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedShift(shift);\n                setShowDetailsModal(true);\n              },\n              className: \"text-sm text-ios-blue hover:text-blue-600 font-medium flex items-center\",\n              children: [\"Details anzeigen\", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                className: \"h-4 w-4 ml-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 19\n            }, this), shift.status === 'final' && !shift.confirmed_at && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => confirmShift(shift.shift_id),\n              disabled: confirming,\n              className: \"ios-button-primary text-sm px-4 py-2 disabled:opacity-50\",\n              children: confirming ? 'Wird bestätigt...' : 'Bestätigen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 21\n            }, this), shift.confirmed_at && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-green-600 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 23\n              }, this), \"Best\\xE4tigt am \", format(parseISO(shift.confirmed_at), 'dd.MM.', {\n                locale: de\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 17\n          }, this)]\n        }, shift.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-12 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n          className: \"h-12 w-12 text-ios-gray-300 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-ios-gray-500\",\n          children: \"Keine Schichten gefunden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-400 mt-2\",\n          children: myShiftsFilter !== 'all' ? `Keine ${myShiftsFilter === 'preliminary' ? 'vorläufigen' : myShiftsFilter === 'final' ? 'endgültigen' : 'bestätigten'} Schichten` : 'Du hast noch keine Schichteinteilungen'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Komponente für Verfügbare Schichten Tab\n  const AvailableShiftsTab = () => {\n    const filteredShifts = availableShifts.filter(shift => {\n      if (availableFilter === 'qualified') return shift.fully_qualified;\n      if (availableFilter === 'available') return shift.can_apply;\n      return true;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(FunnelIcon, {\n              className: \"h-5 w-5 text-ios-gray-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-ios-gray-900\",\n              children: \"Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: showAll,\n              onChange: e => setShowAll(e.target.checked),\n              className: \"rounded text-ios-blue focus:ring-ios-blue mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-ios-gray-700\",\n              children: \"Alle Schichten anzeigen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex rounded-lg overflow-hidden border border-ios-gray-300 mt-3\",\n          children: [{\n            value: 'all',\n            label: 'Alle'\n          }, {\n            value: 'qualified',\n            label: 'Qualifiziert'\n          }, {\n            value: 'available',\n            label: 'Verfügbar'\n          }].map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAvailableFilter(option.value),\n            className: `flex-1 px-4 py-2 text-sm font-medium transition-colors ${availableFilter === option.value ? 'bg-ios-blue text-white' : 'bg-white text-ios-gray-700 hover:bg-ios-gray-100'}`,\n            children: option.label\n          }, option.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 bg-ios-blue/5 border border-ios-blue/20\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(InformationCircleIcon, {\n            className: \"h-5 w-5 text-ios-blue flex-shrink-0 mt-0.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium text-ios-gray-900\",\n              children: \"Verf\\xFCgbare Schichten\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-ios-gray-600 mt-1\",\n              children: [\"Hier siehst du alle Schichten, f\\xFCr die du dich bewerben kannst.\", !showAll && ' Aktiviere \"Alle Schichten anzeigen\" um auch Schichten ohne passende Qualifikationen zu sehen.']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this), filteredShifts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-4\",\n        children: filteredShifts.map(shift => {\n          const qualStatus = getQualificationStatus(shift);\n          const shiftStatus = getShiftAvailabilityStatus(shift);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `ios-card p-4 ${!shift.can_apply ? 'opacity-75' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-ios-gray-900\",\n                  children: shift.event_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-ios-gray-600\",\n                  children: shift.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 23\n                }, this), shift.position_name && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-ios-purple/10 text-ios-purple mt-1\",\n                  children: shift.position_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${shiftStatus.color}`,\n                children: shiftStatus.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-sm text-ios-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                  className: \"h-4 w-4 mr-2 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: format(parseISO(shift.start_time), 'dd.MM.yyyy', {\n                    locale: de\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-sm text-ios-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                  className: \"h-4 w-4 mr-2 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [shift.start_time_only, \" - \", shift.end_time_only, \" Uhr\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-sm text-ios-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(MapPinIcon, {\n                  className: \"h-4 w-4 mr-2 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"truncate\",\n                  children: shift.location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-sm text-ios-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(UserGroupIcon, {\n                  className: \"h-4 w-4 mr-2 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [shift.current_staff, \"/\", shift.required_staff, \" besetzt\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 21\n              }, this), shift.required_qualifications && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                  className: `h-4 w-4 mr-2 flex-shrink-0 mt-0.5 ${qualStatus.color}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `font-medium ${qualStatus.color}`,\n                    children: qualStatus.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 27\n                  }, this), qualStatus.type !== 'none' && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-ios-gray-500 mt-0.5\",\n                    children: [\"Ben\\xF6tigt: \", shift.required_qualifications]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 23\n              }, this), shift.has_conflicts && shift.conflicts && shift.conflicts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start text-sm text-ios-red\",\n                children: [/*#__PURE__*/_jsxDEV(ShieldExclamationIcon, {\n                  className: \"h-4 w-4 mr-2 flex-shrink-0 mt-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: \"Zeitkonflikt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 484,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs mt-0.5\",\n                    children: [\"mit: \", shift.conflicts.map(c => c.shift_name).join(', ')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between pt-3 border-t border-ios-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedShift(shift);\n                  setShowDetailsModal(true);\n                },\n                className: \"text-sm text-ios-blue hover:text-blue-600 font-medium flex items-center\",\n                children: [\"Details anzeigen\", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                  className: \"h-4 w-4 ml-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 21\n              }, this), shift.can_apply && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => applyForShift(shift.id),\n                disabled: applying,\n                className: \"ios-button-primary text-sm px-4 py-2 disabled:opacity-50\",\n                children: applying ? 'Wird gesendet...' : 'Bewerben'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 19\n            }, this)]\n          }, shift.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-12 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n          className: \"h-12 w-12 text-ios-gray-300 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-ios-gray-500\",\n          children: \"Keine Schichten gefunden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-400 mt-2\",\n          children: availableFilter === 'qualified' ? 'Du bist für keine der verfügbaren Schichten qualifiziert' : availableFilter === 'available' ? 'Keine Schichten ohne Konflikte oder Qualifikationsprobleme' : 'Momentan sind keine Schichten verfügbar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading && myShifts.length === 0 && availableShifts.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-pulse\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-4\",\n          children: [...Array(3)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl p-6 h-48\"\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-ios-gray-900\",\n          children: \"Schichtenverwaltung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-ios-gray-600\",\n          children: \"Verwalte deine Schichten und finde neue Eins\\xE4tze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: refreshData,\n        disabled: refreshing,\n        className: \"p-2 rounded-lg hover:bg-ios-gray-100 disabled:opacity-50\",\n        title: \"Aktualisieren\",\n        children: /*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n          className: `h-5 w-5 text-ios-gray-600 ${refreshing ? 'animate-spin' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 7\n    }, this), activeTab === 'my-shifts' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-ios-gray-900\",\n          children: myShiftsStats.total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-600\",\n          children: \"Gesamt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 text-center border-l-4 border-yellow-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-yellow-600\",\n          children: myShiftsStats.preliminary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-600\",\n          children: \"Vorl\\xE4ufig\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 text-center border-l-4 border-blue-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: myShiftsStats.final\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-600\",\n          children: \"Endg\\xFCltig\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 text-center border-l-4 border-green-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-green-600\",\n          children: myShiftsStats.confirmed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-600\",\n          children: \"Best\\xE4tigt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-ios-gray-900\",\n          children: availableStats.total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-600\",\n          children: \"Gesamt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 text-center border-l-4 border-green-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-green-600\",\n          children: availableStats.qualified\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-600\",\n          children: \"Qualifiziert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 text-center border-l-4 border-blue-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: availableStats.available\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-600\",\n          children: \"Verf\\xFCgbar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-card p-4 text-center border-l-4 border-red-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-red-600\",\n          children: availableStats.with_conflicts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-ios-gray-600\",\n          children: \"Mit Konflikten\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-1 p-1 bg-ios-gray-100 rounded-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('my-shifts'),\n        className: `flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg font-medium transition-all ${activeTab === 'my-shifts' ? 'bg-white shadow-sm text-ios-gray-900' : 'text-ios-gray-600 hover:text-ios-gray-900'}`,\n        children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Meine Schichten\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 11\n        }, this), myShiftsStats.total > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `ml-1 px-2 py-0.5 rounded-full text-xs font-medium ${activeTab === 'my-shifts' ? 'bg-ios-blue text-white' : 'bg-ios-gray-200 text-ios-gray-700'}`,\n          children: myShiftsStats.total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('available'),\n        className: `flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg font-medium transition-all ${activeTab === 'available' ? 'bg-white shadow-sm text-ios-gray-900' : 'text-ios-gray-600 hover:text-ios-gray-900'}`,\n        children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Schichten finden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 11\n        }, this), availableStats.available > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `ml-1 px-2 py-0.5 rounded-full text-xs font-medium ${activeTab === 'available' ? 'bg-ios-blue text-white' : 'bg-ios-gray-200 text-ios-gray-700'}`,\n          children: availableStats.available\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 7\n    }, this), activeTab === 'my-shifts' ? /*#__PURE__*/_jsxDEV(MyShiftsTab, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 36\n    }, this) : /*#__PURE__*/_jsxDEV(AvailableShiftsTab, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 54\n    }, this), showDetailsModal && selectedShift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ios-modal-backdrop\",\n        onClick: () => setShowDetailsModal(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center min-h-screen p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative bg-white rounded-2xl shadow-ios-xl max-w-md w-full p-6 z-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-ios-gray-900\",\n              children: \"Schichtdetails\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowDetailsModal(false),\n              className: \"p-2 rounded-lg hover:bg-ios-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n                className: \"h-5 w-5 text-ios-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: \"Veranstaltung\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-ios-gray-900\",\n                children: selectedShift.event_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: \"Schicht\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-ios-gray-900\",\n                children: selectedShift.shift_name || selectedShift.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: \"Zeit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-ios-gray-900\",\n                children: [format(parseISO(selectedShift.start_time), 'dd.MM.yyyy HH:mm'), \" -\", format(parseISO(selectedShift.end_time), 'HH:mm'), \" Uhr\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: \"Ort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-ios-gray-900\",\n                children: selectedShift.location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 17\n            }, this), selectedShift.position_name && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: \"Position\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-ios-gray-900\",\n                children: selectedShift.position_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 19\n            }, this), activeTab === 'my-shifts' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-ios-gray-600\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: getStatusBadge(selectedShift.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 19\n            }, this), activeTab === 'available' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-ios-gray-600\",\n                  children: \"Besetzung\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 bg-ios-gray-200 rounded-full h-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-ios-blue h-2 rounded-full transition-all\",\n                      style: {\n                        width: `${Math.min(100, selectedShift.current_staff / selectedShift.required_staff * 100)}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 719,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 718,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-3 text-sm font-medium text-ios-gray-700\",\n                    children: [selectedShift.current_staff, \"/\", selectedShift.required_staff]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 724,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 21\n              }, this), selectedShift.required_qualifications && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-ios-gray-600\",\n                  children: \"Erforderliche Qualifikationen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 flex flex-wrap gap-2\",\n                  children: selectedShift.required_qualifications.split(', ').map((qual, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-ios-gray-100 text-ios-gray-700 border border-ios-gray-200\",\n                    children: qual\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 735,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `mt-2 ${getQualificationStatus(selectedShift).color}`,\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium flex items-center\",\n                    children: [getQualificationStatus(selectedShift).type === 'full' && /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                      className: \"h-4 w-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 746,\n                      columnNumber: 31\n                    }, this), getQualificationStatus(selectedShift).type === 'none' && !selectedShift.required_qualifications && /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                      className: \"h-4 w-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 749,\n                      columnNumber: 31\n                    }, this), getQualificationStatus(selectedShift).text]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 744,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 743,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 23\n              }, this), selectedShift.has_conflicts && selectedShift.conflicts && selectedShift.conflicts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-ios-red/10 rounded-xl\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-ios-red flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(ShieldExclamationIcon, {\n                    className: \"h-4 w-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 760,\n                    columnNumber: 27\n                  }, this), \"Zeitkonflikt mit anderen Schichten\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"mt-2 text-xs text-ios-red space-y-1\",\n                  children: selectedShift.conflicts.map((conflict, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2022 \", conflict.event_name, \": \", conflict.shift_name, \" (\", conflict.time || 'Zeit nicht verfügbar', \")\"]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 765,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 763,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 758,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowDetailsModal(false),\n              className: \"flex-1 ios-button-secondary\",\n              children: \"Schlie\\xDFen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 17\n            }, this), activeTab === 'my-shifts' && selectedShift.status === 'final' && !selectedShift.confirmed_at && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => confirmShift(selectedShift.shift_id),\n              disabled: confirming,\n              className: \"flex-1 ios-button-primary disabled:opacity-50\",\n              children: confirming ? 'Wird bestätigt...' : 'Schicht bestätigen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 19\n            }, this), activeTab === 'available' && selectedShift.can_apply && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => applyForShift(selectedShift.id),\n              disabled: applying,\n              className: \"flex-1 ios-button-primary disabled:opacity-50\",\n              children: applying ? 'Wird gesendet...' : 'Bewerben'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 552,\n    columnNumber: 5\n  }, this);\n};\n_s(MyShifts, \"2HoYrUaz4f3TZcDMeohy2me9erg=\");\n_c = MyShifts;\nexport default MyShifts;\nvar _c;\n$RefreshReg$(_c, \"MyShifts\");","map":{"version":3,"names":["React","useState","useEffect","api","toast","CalendarIcon","ClockIcon","MapPinIcon","CheckCircleIcon","XCircleIcon","ExclamationTriangleIcon","InformationCircleIcon","ShieldExclamationIcon","AcademicCapIcon","ChevronRightIcon","FunnelIcon","ArrowPathIcon","XMarkIcon","UserGroupIcon","ArrowRightIcon","MagnifyingGlassIcon","format","parseISO","de","jsxDEV","_jsxDEV","Fragment","_Fragment","MyShifts","_s","activeTab","setActiveTab","loading","setLoading","refreshing","setRefreshing","myShifts","setMyShifts","myShiftsFilter","setMyShiftsFilter","myShiftsStats","setMyShiftsStats","total","preliminary","final","confirmed","availableShifts","setAvailableShifts","availableFilter","setAvailableFilter","showAll","setShowAll","availableStats","setAvailableStats","available","qualified","with_conflicts","selectedShift","setSelectedShift","showDetailsModal","setShowDetailsModal","applying","setApplying","confirming","setConfirming","loadMyShifts","loadAvailableShifts","response","get","data","shifts","stats","error","console","refreshData","success","confirmShift","shiftId","post","applyForShift","_error$response","_error$response$data","_error$response2","_error$response2$data","conflicts","children","className","message","fileName","_jsxFileName","lineNumber","columnNumber","map","c","i","event","time","duration","details","_error$response3","_error$response3$data","getStatusBadge","status","badges","text","icon","badge","Icon","getQualificationStatus","shift","required_qualifications","required_qualification_count","type","color","fully_qualified","matching_qualifications","partially_qualified","getShiftAvailabilityStatus","my_status","can_apply","has_conflicts","MyShiftsTab","filteredShifts","filter","value","label","option","onClick","length","event_name","shift_name","position_name","start_time","locale","start_time_only","end_time_only","location","confirmed_at","shift_id","disabled","id","AvailableShiftsTab","checked","onChange","e","target","qualStatus","shiftStatus","name","current_staff","required_staff","join","Array","_","title","end_time","style","width","Math","min","split","qual","idx","conflict","_c","$RefreshReg$"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/staff/MyShifts.js"],"sourcesContent":["// frontend/src/pages/staff/MyShifts.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport api from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  CalendarIcon,\r\n  ClockIcon,\r\n  MapPinIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ExclamationTriangleIcon,\r\n  InformationCircleIcon,\r\n  ShieldExclamationIcon,\r\n  AcademicCapIcon,\r\n  ChevronRightIcon,\r\n  FunnelIcon,\r\n  ArrowPathIcon,\r\n  XMarkIcon,\r\n  UserGroupIcon,\r\n  ArrowRightIcon,\r\n  MagnifyingGlassIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { format, parseISO } from 'date-fns';\r\nimport { de } from 'date-fns/locale';\r\n\r\nconst MyShifts = () => {\r\n  // State für beide Tabs\r\n  const [activeTab, setActiveTab] = useState('my-shifts');\r\n  const [loading, setLoading] = useState(false);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  \r\n  // State für \"Meine Schichten\"\r\n  const [myShifts, setMyShifts] = useState([]);\r\n  const [myShiftsFilter, setMyShiftsFilter] = useState('all'); // all, preliminary, final, confirmed\r\n  const [myShiftsStats, setMyShiftsStats] = useState({\r\n    total: 0,\r\n    preliminary: 0,\r\n    final: 0,\r\n    confirmed: 0\r\n  });\r\n  \r\n  // State für \"Verfügbare Schichten\"\r\n  const [availableShifts, setAvailableShifts] = useState([]);\r\n  const [availableFilter, setAvailableFilter] = useState('all'); // all, qualified, available\r\n  const [showAll, setShowAll] = useState(false);\r\n  const [availableStats, setAvailableStats] = useState({\r\n    total: 0,\r\n    available: 0,\r\n    qualified: 0,\r\n    with_conflicts: 0\r\n  });\r\n  \r\n  // Gemeinsame States\r\n  const [selectedShift, setSelectedShift] = useState(null);\r\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\r\n  const [applying, setApplying] = useState(false);\r\n  const [confirming, setConfirming] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'my-shifts') {\r\n      loadMyShifts();\r\n    } else {\r\n      loadAvailableShifts();\r\n    }\r\n  }, [activeTab, showAll]);\r\n\r\n  const loadMyShifts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/staff/shifts/my');\r\n      setMyShifts(response.data.shifts);\r\n      setMyShiftsStats(response.data.stats);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Schichten:', error);\r\n      toast.error('Fehler beim Laden deiner Schichten');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadAvailableShifts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/staff/shifts/available?showAll=${showAll}`);\r\n      setAvailableShifts(response.data.shifts);\r\n      setAvailableStats(response.data.stats);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der verfügbaren Schichten:', error);\r\n      toast.error('Fehler beim Laden der verfügbaren Schichten');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshData = async () => {\r\n    setRefreshing(true);\r\n    try {\r\n      if (activeTab === 'my-shifts') {\r\n        await loadMyShifts();\r\n      } else {\r\n        await loadAvailableShifts();\r\n      }\r\n      toast.success('Daten aktualisiert');\r\n    } catch (error) {\r\n      toast.error('Fehler beim Aktualisieren');\r\n    } finally {\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const confirmShift = async (shiftId) => {\r\n    setConfirming(true);\r\n    try {\r\n      await api.post(`/staff/shifts/${shiftId}/confirm`);\r\n      toast.success('Schicht erfolgreich bestätigt');\r\n      await loadMyShifts();\r\n      setShowDetailsModal(false);\r\n    } catch (error) {\r\n      console.error('Fehler beim Bestätigen:', error);\r\n      toast.error('Fehler beim Bestätigen der Schicht');\r\n    } finally {\r\n      setConfirming(false);\r\n    }\r\n  };\r\n\r\n  const applyForShift = async (shiftId) => {\r\n    setApplying(true);\r\n    try {\r\n      await api.post(`/staff/shifts/${shiftId}/apply`);\r\n      toast.success('Bewerbung erfolgreich eingereicht');\r\n      await loadAvailableShifts();\r\n      setShowDetailsModal(false);\r\n    } catch (error) {\r\n      console.error('Fehler beim Bewerben:', error);\r\n      \r\n      if (error.response?.data?.conflicts) {\r\n        const conflicts = error.response.data.conflicts;\r\n        toast.error(\r\n          <div>\r\n            <p className=\"font-semibold\">{error.response.data.message}</p>\r\n            <ul className=\"mt-2 text-sm\">\r\n              {conflicts.map((c, i) => (\r\n                <li key={i}>• {c.event}: {c.time}</li>\r\n              ))}\r\n            </ul>\r\n          </div>,\r\n          { duration: 6000 }\r\n        );\r\n      } else if (error.response?.data?.details) {\r\n        toast.error(\r\n          <div>\r\n            <p className=\"font-semibold\">{error.response.data.message}</p>\r\n            <p className=\"text-sm mt-1\">{error.response.data.details.message}</p>\r\n          </div>,\r\n          { duration: 5000 }\r\n        );\r\n      } else {\r\n        toast.error(error.response?.data?.message || 'Fehler beim Einreichen der Bewerbung');\r\n      }\r\n    } finally {\r\n      setApplying(false);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const badges = {\r\n      preliminary: {\r\n        text: 'Vorläufig',\r\n        className: 'bg-yellow-100 text-yellow-800 border-yellow-200',\r\n        icon: ExclamationTriangleIcon\r\n      },\r\n      final: {\r\n        text: 'Endgültig',\r\n        className: 'bg-blue-100 text-blue-800 border-blue-200',\r\n        icon: InformationCircleIcon\r\n      },\r\n      confirmed: {\r\n        text: 'Bestätigt',\r\n        className: 'bg-green-100 text-green-800 border-green-200',\r\n        icon: CheckCircleIcon\r\n      }\r\n    };\r\n\r\n    const badge = badges[status] || badges.preliminary;\r\n    const Icon = badge.icon;\r\n\r\n    return (\r\n      <span className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium border ${badge.className}`}>\r\n        <Icon className=\"h-3.5 w-3.5\" />\r\n        {badge.text}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getQualificationStatus = (shift) => {\r\n    if (!shift.required_qualifications || shift.required_qualification_count === 0) {\r\n      return { type: 'none', text: 'Keine Qualifikationen erforderlich', color: 'text-ios-gray-500' };\r\n    }\r\n    \r\n    if (shift.fully_qualified || (shift.matching_qualifications === shift.required_qualification_count)) {\r\n      return { type: 'full', text: 'Voll qualifiziert', color: 'text-ios-green' };\r\n    }\r\n    \r\n    if (shift.partially_qualified || (shift.matching_qualifications > 0)) {\r\n      return { \r\n        type: 'partial', \r\n        text: `${shift.matching_qualifications} von ${shift.required_qualification_count} Qualifikationen`, \r\n        color: 'text-ios-orange' \r\n      };\r\n    }\r\n    \r\n    return { type: 'none', text: 'Nicht qualifiziert', color: 'text-ios-red' };\r\n  };\r\n\r\n  const getShiftAvailabilityStatus = (shift) => {\r\n    if (shift.my_status === 'assigned') {\r\n      return { text: 'Bereits eingeteilt', color: 'bg-ios-green/10 text-ios-green border-ios-green/20' };\r\n    }\r\n    if (shift.my_status === 'applied') {\r\n      return { text: 'Beworben', color: 'bg-ios-purple/10 text-ios-purple border-ios-purple/20' };\r\n    }\r\n    if (!shift.can_apply) {\r\n      if (shift.has_conflicts) {\r\n        return { text: 'Zeitkonflikt', color: 'bg-ios-red/10 text-ios-red border-ios-red/20' };\r\n      }\r\n      if (!shift.fully_qualified && !shift.partially_qualified) {\r\n        return { text: 'Nicht qualifiziert', color: 'bg-ios-gray-100 text-ios-gray-600 border-ios-gray-200' };\r\n      }\r\n    }\r\n    return { text: 'Verfügbar', color: 'bg-ios-blue/10 text-ios-blue border-ios-blue/20' };\r\n  };\r\n\r\n  // Komponente für Meine Schichten Tab\r\n  const MyShiftsTab = () => {\r\n    const filteredShifts = myShifts.filter(shift => {\r\n      if (myShiftsFilter === 'all') return true;\r\n      return shift.status === myShiftsFilter;\r\n    });\r\n\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {/* Filter */}\r\n        <div className=\"ios-card p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <FunnelIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n              <span className=\"font-medium text-ios-gray-900\">Filter</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex rounded-lg overflow-hidden border border-ios-gray-300 mt-3\">\r\n            {[\r\n              { value: 'all', label: 'Alle' },\r\n              { value: 'preliminary', label: 'Vorläufig' },\r\n              { value: 'final', label: 'Endgültig' },\r\n              { value: 'confirmed', label: 'Bestätigt' }\r\n            ].map(option => (\r\n              <button\r\n                key={option.value}\r\n                onClick={() => setMyShiftsFilter(option.value)}\r\n                className={`flex-1 px-4 py-2 text-sm font-medium transition-colors ${\r\n                  myShiftsFilter === option.value\r\n                    ? 'bg-ios-blue text-white'\r\n                    : 'bg-white text-ios-gray-700 hover:bg-ios-gray-100'\r\n                }`}\r\n              >\r\n                {option.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Shifts List */}\r\n        {filteredShifts.length > 0 ? (\r\n          <div className=\"grid gap-4\">\r\n            {filteredShifts.map(shift => (\r\n              <div key={shift.id} className=\"ios-card p-4\">\r\n                <div className=\"flex items-start justify-between mb-3\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"font-semibold text-ios-gray-900\">{shift.event_name}</h3>\r\n                    <p className=\"text-sm text-ios-gray-600\">{shift.shift_name}</p>\r\n                    {shift.position_name && (\r\n                      <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-ios-purple/10 text-ios-purple mt-1\">\r\n                        {shift.position_name}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  {getStatusBadge(shift.status)}\r\n                </div>\r\n                \r\n                <div className=\"space-y-2 mb-4\">\r\n                  <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                    <CalendarIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                    <span>{format(parseISO(shift.start_time), 'dd.MM.yyyy', { locale: de })}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                    <ClockIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                    <span>{shift.start_time_only} - {shift.end_time_only} Uhr</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                    <MapPinIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                    <span className=\"truncate\">{shift.location}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between pt-3 border-t border-ios-gray-200\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setSelectedShift(shift);\r\n                      setShowDetailsModal(true);\r\n                    }}\r\n                    className=\"text-sm text-ios-blue hover:text-blue-600 font-medium flex items-center\"\r\n                  >\r\n                    Details anzeigen\r\n                    <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\r\n                  </button>\r\n                  \r\n                  {shift.status === 'final' && !shift.confirmed_at && (\r\n                    <button\r\n                      onClick={() => confirmShift(shift.shift_id)}\r\n                      disabled={confirming}\r\n                      className=\"ios-button-primary text-sm px-4 py-2 disabled:opacity-50\"\r\n                    >\r\n                      {confirming ? 'Wird bestätigt...' : 'Bestätigen'}\r\n                    </button>\r\n                  )}\r\n                  \r\n                  {shift.confirmed_at && (\r\n                    <span className=\"text-xs text-green-600 flex items-center\">\r\n                      <CheckCircleIcon className=\"h-4 w-4 mr-1\" />\r\n                      Bestätigt am {format(parseISO(shift.confirmed_at), 'dd.MM.', { locale: de })}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"ios-card p-12 text-center\">\r\n            <CalendarIcon className=\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\" />\r\n            <p className=\"text-ios-gray-500\">Keine Schichten gefunden</p>\r\n            <p className=\"text-sm text-ios-gray-400 mt-2\">\r\n              {myShiftsFilter !== 'all' \r\n                ? `Keine ${myShiftsFilter === 'preliminary' ? 'vorläufigen' : myShiftsFilter === 'final' ? 'endgültigen' : 'bestätigten'} Schichten`\r\n                : 'Du hast noch keine Schichteinteilungen'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Komponente für Verfügbare Schichten Tab\r\n  const AvailableShiftsTab = () => {\r\n    const filteredShifts = availableShifts.filter(shift => {\r\n      if (availableFilter === 'qualified') return shift.fully_qualified;\r\n      if (availableFilter === 'available') return shift.can_apply;\r\n      return true;\r\n    });\r\n\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {/* Filter */}\r\n        <div className=\"ios-card p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <FunnelIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n              <span className=\"font-medium text-ios-gray-900\">Filter</span>\r\n            </div>\r\n            \r\n            <label className=\"flex items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={showAll}\r\n                onChange={(e) => setShowAll(e.target.checked)}\r\n                className=\"rounded text-ios-blue focus:ring-ios-blue mr-2\"\r\n              />\r\n              <span className=\"text-sm text-ios-gray-700\">Alle Schichten anzeigen</span>\r\n            </label>\r\n          </div>\r\n          \r\n          <div className=\"flex rounded-lg overflow-hidden border border-ios-gray-300 mt-3\">\r\n            {[\r\n              { value: 'all', label: 'Alle' },\r\n              { value: 'qualified', label: 'Qualifiziert' },\r\n              { value: 'available', label: 'Verfügbar' }\r\n            ].map(option => (\r\n              <button\r\n                key={option.value}\r\n                onClick={() => setAvailableFilter(option.value)}\r\n                className={`flex-1 px-4 py-2 text-sm font-medium transition-colors ${\r\n                  availableFilter === option.value\r\n                    ? 'bg-ios-blue text-white'\r\n                    : 'bg-white text-ios-gray-700 hover:bg-ios-gray-100'\r\n                }`}\r\n              >\r\n                {option.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info Box */}\r\n        <div className=\"ios-card p-4 bg-ios-blue/5 border border-ios-blue/20\">\r\n          <div className=\"flex items-start space-x-3\">\r\n            <InformationCircleIcon className=\"h-5 w-5 text-ios-blue flex-shrink-0 mt-0.5\" />\r\n            <div className=\"text-sm\">\r\n              <p className=\"font-medium text-ios-gray-900\">\r\n                Verfügbare Schichten\r\n              </p>\r\n              <p className=\"text-ios-gray-600 mt-1\">\r\n                Hier siehst du alle Schichten, für die du dich bewerben kannst. \r\n                {!showAll && ' Aktiviere \"Alle Schichten anzeigen\" um auch Schichten ohne passende Qualifikationen zu sehen.'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Shifts List */}\r\n        {filteredShifts.length > 0 ? (\r\n          <div className=\"grid gap-4\">\r\n            {filteredShifts.map(shift => {\r\n              const qualStatus = getQualificationStatus(shift);\r\n              const shiftStatus = getShiftAvailabilityStatus(shift);\r\n              \r\n              return (\r\n                <div key={shift.id} className={`ios-card p-4 ${!shift.can_apply ? 'opacity-75' : ''}`}>\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"font-semibold text-ios-gray-900\">{shift.event_name}</h3>\r\n                      <p className=\"text-sm text-ios-gray-600\">{shift.name}</p>\r\n                      {shift.position_name && (\r\n                        <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-ios-purple/10 text-ios-purple mt-1\">\r\n                          {shift.position_name}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    <span className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${shiftStatus.color}`}>\r\n                      {shiftStatus.text}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"space-y-2 mb-4\">\r\n                    <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                      <CalendarIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span>{format(parseISO(shift.start_time), 'dd.MM.yyyy', { locale: de })}</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                      <ClockIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span>{shift.start_time_only} - {shift.end_time_only} Uhr</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                      <MapPinIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span className=\"truncate\">{shift.location}</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center text-sm text-ios-gray-600\">\r\n                      <UserGroupIcon className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span>{shift.current_staff}/{shift.required_staff} besetzt</span>\r\n                    </div>\r\n                    \r\n                    {shift.required_qualifications && (\r\n                      <div className=\"flex items-start text-sm\">\r\n                        <AcademicCapIcon className={`h-4 w-4 mr-2 flex-shrink-0 mt-0.5 ${qualStatus.color}`} />\r\n                        <div>\r\n                          <p className={`font-medium ${qualStatus.color}`}>{qualStatus.text}</p>\r\n                          {qualStatus.type !== 'none' && (\r\n                            <p className=\"text-xs text-ios-gray-500 mt-0.5\">\r\n                              Benötigt: {shift.required_qualifications}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {shift.has_conflicts && shift.conflicts && shift.conflicts.length > 0 && (\r\n                      <div className=\"flex items-start text-sm text-ios-red\">\r\n                        <ShieldExclamationIcon className=\"h-4 w-4 mr-2 flex-shrink-0 mt-0.5\" />\r\n                        <div>\r\n                          <p className=\"font-medium\">Zeitkonflikt</p>\r\n                          <p className=\"text-xs mt-0.5\">\r\n                            mit: {shift.conflicts.map(c => c.shift_name).join(', ')}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-between pt-3 border-t border-ios-gray-200\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setSelectedShift(shift);\r\n                        setShowDetailsModal(true);\r\n                      }}\r\n                      className=\"text-sm text-ios-blue hover:text-blue-600 font-medium flex items-center\"\r\n                    >\r\n                      Details anzeigen\r\n                      <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\r\n                    </button>\r\n                    \r\n                    {shift.can_apply && (\r\n                      <button\r\n                        onClick={() => applyForShift(shift.id)}\r\n                        disabled={applying}\r\n                        className=\"ios-button-primary text-sm px-4 py-2 disabled:opacity-50\"\r\n                      >\r\n                        {applying ? 'Wird gesendet...' : 'Bewerben'}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className=\"ios-card p-12 text-center\">\r\n            <MagnifyingGlassIcon className=\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\" />\r\n            <p className=\"text-ios-gray-500\">Keine Schichten gefunden</p>\r\n            <p className=\"text-sm text-ios-gray-400 mt-2\">\r\n              {availableFilter === 'qualified' \r\n                ? 'Du bist für keine der verfügbaren Schichten qualifiziert'\r\n                : availableFilter === 'available'\r\n                ? 'Keine Schichten ohne Konflikte oder Qualifikationsprobleme'\r\n                : 'Momentan sind keine Schichten verfügbar'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading && myShifts.length === 0 && availableShifts.length === 0) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"></div>\r\n          <div className=\"grid gap-4\">\r\n            {[...Array(3)].map((_, i) => (\r\n              <div key={i} className=\"bg-white rounded-2xl p-6 h-48\"></div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-ios-gray-900\">Schichtenverwaltung</h1>\r\n          <p className=\"text-ios-gray-600\">Verwalte deine Schichten und finde neue Einsätze</p>\r\n        </div>\r\n        \r\n        <button\r\n          onClick={refreshData}\r\n          disabled={refreshing}\r\n          className=\"p-2 rounded-lg hover:bg-ios-gray-100 disabled:opacity-50\"\r\n          title=\"Aktualisieren\"\r\n        >\r\n          <ArrowPathIcon className={`h-5 w-5 text-ios-gray-600 ${refreshing ? 'animate-spin' : ''}`} />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Stats based on active tab */}\r\n      {activeTab === 'my-shifts' ? (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"ios-card p-4 text-center\">\r\n            <p className=\"text-2xl font-bold text-ios-gray-900\">{myShiftsStats.total}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Gesamt</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-yellow-400\">\r\n            <p className=\"text-2xl font-bold text-yellow-600\">{myShiftsStats.preliminary}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Vorläufig</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-blue-400\">\r\n            <p className=\"text-2xl font-bold text-blue-600\">{myShiftsStats.final}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Endgültig</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-green-400\">\r\n            <p className=\"text-2xl font-bold text-green-600\">{myShiftsStats.confirmed}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Bestätigt</p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"ios-card p-4 text-center\">\r\n            <p className=\"text-2xl font-bold text-ios-gray-900\">{availableStats.total}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Gesamt</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-green-400\">\r\n            <p className=\"text-2xl font-bold text-green-600\">{availableStats.qualified}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Qualifiziert</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-blue-400\">\r\n            <p className=\"text-2xl font-bold text-blue-600\">{availableStats.available}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Verfügbar</p>\r\n          </div>\r\n          <div className=\"ios-card p-4 text-center border-l-4 border-red-400\">\r\n            <p className=\"text-2xl font-bold text-red-600\">{availableStats.with_conflicts}</p>\r\n            <p className=\"text-sm text-ios-gray-600\">Mit Konflikten</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex gap-1 p-1 bg-ios-gray-100 rounded-xl\">\r\n        <button\r\n          onClick={() => setActiveTab('my-shifts')}\r\n          className={`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg font-medium transition-all ${\r\n            activeTab === 'my-shifts'\r\n              ? 'bg-white shadow-sm text-ios-gray-900'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          <CalendarIcon className=\"h-5 w-5\" />\r\n          <span>Meine Schichten</span>\r\n          {myShiftsStats.total > 0 && (\r\n            <span className={`ml-1 px-2 py-0.5 rounded-full text-xs font-medium ${\r\n              activeTab === 'my-shifts' \r\n                ? 'bg-ios-blue text-white' \r\n                : 'bg-ios-gray-200 text-ios-gray-700'\r\n            }`}>\r\n              {myShiftsStats.total}\r\n            </span>\r\n          )}\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => setActiveTab('available')}\r\n          className={`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg font-medium transition-all ${\r\n            activeTab === 'available'\r\n              ? 'bg-white shadow-sm text-ios-gray-900'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          <MagnifyingGlassIcon className=\"h-5 w-5\" />\r\n          <span>Schichten finden</span>\r\n          {availableStats.available > 0 && (\r\n            <span className={`ml-1 px-2 py-0.5 rounded-full text-xs font-medium ${\r\n              activeTab === 'available' \r\n                ? 'bg-ios-blue text-white' \r\n                : 'bg-ios-gray-200 text-ios-gray-700'\r\n            }`}>\r\n              {availableStats.available}\r\n            </span>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      {activeTab === 'my-shifts' ? <MyShiftsTab /> : <AvailableShiftsTab />}\r\n\r\n      {/* Details Modal */}\r\n      {showDetailsModal && selectedShift && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"ios-modal-backdrop\" onClick={() => setShowDetailsModal(false)} />\r\n          <div className=\"flex items-center justify-center min-h-screen p-4\">\r\n            <div className=\"relative bg-white rounded-2xl shadow-ios-xl max-w-md w-full p-6 z-10\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-ios-gray-900\">Schichtdetails</h3>\r\n                <button\r\n                  onClick={() => setShowDetailsModal(false)}\r\n                  className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n                >\r\n                  <XMarkIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Veranstaltung</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">{selectedShift.event_name}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Schicht</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">{selectedShift.shift_name || selectedShift.name}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Zeit</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">\r\n                    {format(parseISO(selectedShift.start_time), 'dd.MM.yyyy HH:mm')} - \r\n                    {format(parseISO(selectedShift.end_time), 'HH:mm')} Uhr\r\n                  </p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <p className=\"text-sm text-ios-gray-600\">Ort</p>\r\n                  <p className=\"font-medium text-ios-gray-900\">{selectedShift.location}</p>\r\n                </div>\r\n                \r\n                {selectedShift.position_name && (\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Position</p>\r\n                    <p className=\"font-medium text-ios-gray-900\">{selectedShift.position_name}</p>\r\n                  </div>\r\n                )}\r\n                \r\n                {activeTab === 'my-shifts' && (\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Status</p>\r\n                    <div className=\"mt-1\">{getStatusBadge(selectedShift.status)}</div>\r\n                  </div>\r\n                )}\r\n                \r\n                {activeTab === 'available' && (\r\n                  <>\r\n                    <div>\r\n                      <p className=\"text-sm text-ios-gray-600\">Besetzung</p>\r\n                      <div className=\"flex items-center mt-1\">\r\n                        <div className=\"flex-1 bg-ios-gray-200 rounded-full h-2\">\r\n                          <div \r\n                            className=\"bg-ios-blue h-2 rounded-full transition-all\"\r\n                            style={{ width: `${Math.min(100, (selectedShift.current_staff / selectedShift.required_staff) * 100)}%` }}\r\n                          />\r\n                        </div>\r\n                        <span className=\"ml-3 text-sm font-medium text-ios-gray-700\">\r\n                          {selectedShift.current_staff}/{selectedShift.required_staff}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {selectedShift.required_qualifications && (\r\n                      <div>\r\n                        <p className=\"text-sm text-ios-gray-600\">Erforderliche Qualifikationen</p>\r\n                        <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                          {selectedShift.required_qualifications.split(', ').map((qual, idx) => (\r\n                            <span\r\n                              key={idx}\r\n                              className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-ios-gray-100 text-ios-gray-700 border border-ios-gray-200\"\r\n                            >\r\n                              {qual}\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                        <div className={`mt-2 ${getQualificationStatus(selectedShift).color}`}>\r\n                          <p className=\"text-sm font-medium flex items-center\">\r\n                            {getQualificationStatus(selectedShift).type === 'full' && (\r\n                              <CheckCircleIcon className=\"h-4 w-4 mr-1\" />\r\n                            )}\r\n                            {getQualificationStatus(selectedShift).type === 'none' && !selectedShift.required_qualifications && (\r\n                              <CheckCircleIcon className=\"h-4 w-4 mr-1\" />\r\n                            )}\r\n                            {getQualificationStatus(selectedShift).text}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {selectedShift.has_conflicts && selectedShift.conflicts && selectedShift.conflicts.length > 0 && (\r\n                      <div className=\"p-3 bg-ios-red/10 rounded-xl\">\r\n                        <p className=\"text-sm font-medium text-ios-red flex items-center\">\r\n                          <ShieldExclamationIcon className=\"h-4 w-4 mr-2\" />\r\n                          Zeitkonflikt mit anderen Schichten\r\n                        </p>\r\n                        <ul className=\"mt-2 text-xs text-ios-red space-y-1\">\r\n                          {selectedShift.conflicts.map((conflict, idx) => (\r\n                            <li key={idx}>\r\n                              • {conflict.event_name}: {conflict.shift_name} ({conflict.time || 'Zeit nicht verfügbar'})\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"mt-6 flex space-x-3\">\r\n                <button\r\n                  onClick={() => setShowDetailsModal(false)}\r\n                  className=\"flex-1 ios-button-secondary\"\r\n                >\r\n                  Schließen\r\n                </button>\r\n                \r\n                {activeTab === 'my-shifts' && selectedShift.status === 'final' && !selectedShift.confirmed_at && (\r\n                  <button\r\n                    onClick={() => confirmShift(selectedShift.shift_id)}\r\n                    disabled={confirming}\r\n                    className=\"flex-1 ios-button-primary disabled:opacity-50\"\r\n                  >\r\n                    {confirming ? 'Wird bestätigt...' : 'Schicht bestätigen'}\r\n                  </button>\r\n                )}\r\n                \r\n                {activeTab === 'available' && selectedShift.can_apply && (\r\n                  <button\r\n                    onClick={() => applyForShift(selectedShift.id)}\r\n                    disabled={applying}\r\n                    className=\"flex-1 ios-button-primary disabled:opacity-50\"\r\n                  >\r\n                    {applying ? 'Wird gesendet...' : 'Bewerben'}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyShifts;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}