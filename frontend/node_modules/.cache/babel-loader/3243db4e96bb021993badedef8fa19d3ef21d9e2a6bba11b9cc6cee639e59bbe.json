{"ast":null,"code":"import _objectSpread from\"C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/admin/EventDetail.js\nimport React,{useState,useEffect}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import api from'../../services/api';import toast from'react-hot-toast';import{format,parseISO,isPast,isFuture,isToday}from'date-fns';import{de}from'date-fns/locale';import{ArrowLeftIcon,CalendarIcon,MapPinIcon,ClockIcon,UserGroupIcon,PlusIcon,TrashIcon,PencilIcon,CheckCircleIcon,XCircleIcon,ExclamationTriangleIcon,DocumentTextIcon,BellIcon,ChartBarIcon,CalendarDaysIcon,EnvelopeIcon,EyeIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EventDetail=()=>{var _event$invitations,_event$shifts,_event$stats,_event$stats2,_event$stats3,_event$stats4;const{id}=useParams();const navigate=useNavigate();const[event,setEvent]=useState(null);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('overview');// 'overview', 'team', 'shifts'\nconst[editMode,setEditMode]=useState(false);const[editData,setEditData]=useState({});const[processing,setProcessing]=useState(false);const[showInviteDialog,setShowInviteDialog]=useState(false);const[availableStaff,setAvailableStaff]=useState([]);const[selectedStaffIds,setSelectedStaffIds]=useState([]);const[showAddShiftDialog,setShowAddShiftDialog]=useState(false);const[positions,setPositions]=useState([]);const[newShift,setNewShift]=useState({name:'',start_time:'09:00',end_time:'17:00',required_staff:1,position_id:'',description:''});useEffect(()=>{loadEvent();loadPositions();},[id]);const loadEvent=async()=>{try{setLoading(true);const response=await api.get(\"/events/\".concat(id));setEvent(response.data);setEditData({name:response.data.name,description:response.data.description||'',location:response.data.location,start_date:format(parseISO(response.data.start_date),'yyyy-MM-dd'),start_time:format(parseISO(response.data.start_date),'HH:mm'),end_date:format(parseISO(response.data.end_date),'yyyy-MM-dd'),end_time:format(parseISO(response.data.end_date),'HH:mm'),max_staff:response.data.max_staff||0});}catch(error){console.error('Fehler beim Laden der Veranstaltung:',error);toast.error('Veranstaltung konnte nicht geladen werden');navigate('/admin/events');}finally{setLoading(false);}};const loadPositions=async()=>{try{const response=await api.get('/settings/positions');setPositions(response.data.positions.filter(p=>p.is_active));}catch(error){console.error('Fehler beim Laden der Positionen:',error);}};const loadAvailableStaff=async()=>{try{const response=await api.get('/staff?status=active');const alreadyInvited=event.invitations.map(inv=>inv.staff_id);setAvailableStaff(response.data.staff.filter(s=>!alreadyInvited.includes(s.id)));}catch(error){console.error('Fehler beim Laden der Mitarbeiter:',error);}};const handleSave=async()=>{setProcessing(true);try{const startDateTime=\"\".concat(editData.start_date,\"T\").concat(editData.start_time,\":00\");const endDateTime=\"\".concat(editData.end_date,\"T\").concat(editData.end_time,\":00\");await api.put(\"/events/\".concat(id),{name:editData.name,description:editData.description,location:editData.location,start_date:startDateTime,end_date:endDateTime,max_staff:parseInt(editData.max_staff)||0});toast.success('Veranstaltung erfolgreich aktualisiert');setEditMode(false);loadEvent();}catch(error){console.error('Fehler beim Speichern:',error);toast.error('Fehler beim Speichern der Änderungen');}finally{setProcessing(false);}};const handleStatusChange=async newStatus=>{if(!window.confirm(\"Status wirklich auf '\".concat(newStatus,\"' \\xE4ndern?\")))return;setProcessing(true);try{await api.patch(\"/events/\".concat(id,\"/status\"),{status:newStatus});toast.success('Status erfolgreich geändert');loadEvent();}catch(error){console.error('Fehler beim Ändern des Status:',error);toast.error('Status konnte nicht geändert werden');}finally{setProcessing(false);}};const handleInviteStaff=async()=>{if(selectedStaffIds.length===0){toast.error('Bitte wählen Sie mindestens einen Mitarbeiter aus');return;}setProcessing(true);try{await api.post(\"/events/\".concat(id,\"/invite\"),{staff_ids:selectedStaffIds});toast.success(\"\".concat(selectedStaffIds.length,\" Mitarbeiter erfolgreich eingeladen\"));setShowInviteDialog(false);setSelectedStaffIds([]);loadEvent();}catch(error){console.error('Fehler beim Einladen:',error);toast.error('Fehler beim Einladen der Mitarbeiter');}finally{setProcessing(false);}};const handleRemoveInvitation=async staffId=>{if(!window.confirm('Einladung wirklich zurückziehen?'))return;try{await api.delete(\"/events/\".concat(id,\"/invite/\").concat(staffId));toast.success('Einladung zurückgezogen');loadEvent();}catch(error){console.error('Fehler beim Entfernen der Einladung:',error);toast.error('Einladung konnte nicht entfernt werden');}};const handleAddShift=async()=>{setProcessing(true);try{const shiftData=_objectSpread(_objectSpread({},newShift),{},{start_time:\"\".concat(format(parseISO(event.start_date),'yyyy-MM-dd'),\"T\").concat(newShift.start_time,\":00\"),end_time:\"\".concat(format(parseISO(event.start_date),'yyyy-MM-dd'),\"T\").concat(newShift.end_time,\":00\"),position_id:newShift.position_id||null});await api.post(\"/events/\".concat(id,\"/shifts\"),shiftData);toast.success('Schicht erfolgreich hinzugefügt');setShowAddShiftDialog(false);setNewShift({name:'',start_time:'09:00',end_time:'17:00',required_staff:1,position_id:'',description:''});loadEvent();}catch(error){console.error('Fehler beim Hinzufügen der Schicht:',error);toast.error('Schicht konnte nicht hinzugefügt werden');}finally{setProcessing(false);}};const handleDeleteShift=async shiftId=>{if(!window.confirm('Schicht wirklich löschen?'))return;try{await api.delete(\"/events/\".concat(id,\"/shifts/\").concat(shiftId));toast.success('Schicht gelöscht');loadEvent();}catch(error){console.error('Fehler beim Löschen der Schicht:',error);toast.error('Schicht konnte nicht gelöscht werden');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6 space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-32 bg-ios-gray-200 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-20 bg-ios-gray-200 rounded\"})]})]})});}if(!event)return null;const getEventStatus=()=>{const now=new Date();const startDate=parseISO(event.start_date);const endDate=parseISO(event.end_date);if(event.status==='cancelled'){return{text:'Abgesagt',color:'bg-ios-red text-white',icon:XCircleIcon};}else if(event.status==='draft'){return{text:'Entwurf',color:'bg-ios-gray-400 text-white',icon:ExclamationTriangleIcon};}else if(isPast(endDate)){return{text:'Beendet',color:'bg-ios-gray-500 text-white',icon:CheckCircleIcon};}else if(now>=startDate&&now<=endDate){return{text:'Läuft',color:'bg-ios-green text-white',icon:ClockIcon};}else if(isToday(startDate)){return{text:'Heute',color:'bg-ios-orange text-white',icon:CalendarIcon};}else{return{text:'Geplant',color:'bg-ios-blue text-white',icon:CalendarDaysIcon};}};const eventStatus=getEventStatus();const isEventPast=isPast(parseISO(event.end_date));return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/admin/events'),className:\"p-2 rounded-lg hover:bg-ios-gray-100\",children:/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 text-ios-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-ios-gray-900\",children:editMode?'Veranstaltung bearbeiten':event.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-ios-gray-600\",children:[\"Erstellt von \",event.creator_name,\" am \",format(parseISO(event.created_at),'dd.MM.yyyy')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium \".concat(eventStatus.color),children:[/*#__PURE__*/_jsx(eventStatus.icon,{className:\"w-4 h-4 mr-1.5\"}),eventStatus.text]}),!isEventPast&&!editMode&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setEditMode(true),className:\"ios-button-secondary\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-1.5\"}),\"Bearbeiten\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1 mb-6 bg-ios-gray-100 p-1 rounded-xl\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('overview'),className:\"flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='overview'?'bg-white text-ios-gray-900 shadow-sm':'text-ios-gray-600 hover:text-ios-gray-900'),children:\"\\xDCbersicht\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('team'),className:\"flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='team'?'bg-white text-ios-gray-900 shadow-sm':'text-ios-gray-600 hover:text-ios-gray-900'),children:[\"Team (\",((_event$invitations=event.invitations)===null||_event$invitations===void 0?void 0:_event$invitations.length)||0,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('shifts'),className:\"flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='shifts'?'bg-white text-ios-gray-900 shadow-sm':'text-ios-gray-600 hover:text-ios-gray-900'),children:[\"Schichten (\",((_event$shifts=event.shifts)===null||_event$shifts===void 0?void 0:_event$shifts.length)||0,\")\"]})]}),activeTab==='overview'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"ios-card p-6 mb-6\",children:editMode?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.name,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{name:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Beschreibung\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editData.description,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{description:e.target.value})),rows:3,className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Ort\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editData.location,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{location:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Startdatum\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:editData.start_date,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{start_date:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Startzeit\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:editData.start_time,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{start_time:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Enddatum\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:editData.end_date,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{end_date:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Endzeit\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:editData.end_time,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{end_time:e.target.value})),className:\"ios-input\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditMode(false);setEditData({name:event.name,description:event.description||'',location:event.location,start_date:format(parseISO(event.start_date),'yyyy-MM-dd'),start_time:format(parseISO(event.start_date),'HH:mm'),end_date:format(parseISO(event.end_date),'yyyy-MM-dd'),end_time:format(parseISO(event.end_date),'HH:mm'),max_staff:event.max_staff||0});},className:\"flex-1 ios-button-secondary\",children:\"Abbrechen\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,disabled:processing,className:\"flex-1 ios-button-primary disabled:opacity-50\",children:processing?'Speichern...':'Speichern'})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-5 w-5 text-ios-gray-400 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-ios-gray-700\",children:\"Veranstaltungsort\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-900\",children:event.location})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-5 w-5 text-ios-gray-400 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-ios-gray-700\",children:\"Zeitraum\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-ios-gray-900\",children:[format(parseISO(event.start_date),'dd.MM.yyyy HH:mm',{locale:de}),\" -\",format(parseISO(event.end_date),' dd.MM.yyyy HH:mm',{locale:de}),\" Uhr\"]})]})]}),event.description&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-5 w-5 text-ios-gray-400 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-ios-gray-700\",children:\"Beschreibung\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-900 whitespace-pre-wrap\",children:event.description})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-ios-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Schichten\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:((_event$stats=event.stats)===null||_event$stats===void 0?void 0:_event$stats.total_shifts)||0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Ben\\xF6tigte Mitarbeiter\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:((_event$stats2=event.stats)===null||_event$stats2===void 0?void 0:_event$stats2.total_positions_needed)||0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Eingeladen\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-gray-900\",children:((_event$stats3=event.stats)===null||_event$stats3===void 0?void 0:_event$stats3.invited_staff)||0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600\",children:\"Zugesagt\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-ios-green\",children:((_event$stats4=event.stats)===null||_event$stats4===void 0?void 0:_event$stats4.accepted_invitations)||0})]})]})]})}),!editMode&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[event.status==='draft'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleStatusChange('published'),disabled:processing,className:\"ios-card p-4 text-center hover:shadow-ios-lg transition-shadow disabled:opacity-50\",children:[/*#__PURE__*/_jsx(BellIcon,{className:\"h-8 w-8 text-ios-blue mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:\"Ver\\xF6ffentlichen\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-ios-gray-500 mt-1\",children:\"Einladungen versenden\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/events/\".concat(id,\"/planning\"),className:\"ios-card p-4 text-center hover:shadow-ios-lg transition-shadow\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"h-8 w-8 text-ios-purple mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:\"Schichtplanung\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-ios-gray-500 mt-1\",children:\"Mitarbeiter einteilen\"})]}),!isEventPast&&event.status!=='cancelled'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleStatusChange('cancelled'),disabled:processing,className:\"ios-card p-4 text-center hover:shadow-ios-lg transition-shadow disabled:opacity-50\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-8 w-8 text-ios-red mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:\"Absagen\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-ios-gray-500 mt-1\",children:\"Event stornieren\"})]})]})]}),activeTab==='team'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[!isEventPast&&event.status!=='cancelled'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowInviteDialog(true);loadAvailableStaff();},className:\"ios-button-primary\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-2\"}),\"Mitarbeiter einladen\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ios-card overflow-hidden\",children:event.invitations&&event.invitations.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-ios-gray-200\",children:event.invitations.map(invitation=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 hover:bg-ios-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[invitation.profile_image?/*#__PURE__*/_jsx(\"img\",{src:\"/uploads/profiles/\".concat(invitation.profile_image),alt:invitation.staff_name,className:\"h-10 w-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-ios-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-5 w-5 text-ios-gray-500\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-ios-gray-900\",children:invitation.staff_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-ios-gray-500\",children:[invitation.personal_code,\" \\u2022 \",invitation.staff_email]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[invitation.status==='pending'&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-ios-orange/10 text-ios-orange\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"w-3 h-3 mr-1\"}),\"Ausstehend\"]}),invitation.status==='accepted'&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-ios-green/10 text-ios-green\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-3 h-3 mr-1\"}),\"Zugesagt\"]}),invitation.status==='declined'&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-ios-red/10 text-ios-red\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"w-3 h-3 mr-1\"}),\"Abgesagt\"]}),!isEventPast&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveInvitation(invitation.staff_id),className:\"text-ios-red hover:text-red-600\",title:\"Einladung zur\\xFCckziehen\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-5 w-5\"})})]})]})},invitation.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-500\",children:\"Noch keine Mitarbeiter eingeladen\"})]})})]}),activeTab==='shifts'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[!isEventPast&&event.status!=='cancelled'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddShiftDialog(true),className:\"ios-button-primary\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-2\"}),\"Schicht hinzuf\\xFCgen\"]})}),event.shifts&&event.shifts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:event.shifts.map(shift=>/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-ios-gray-900\",children:shift.name}),shift.position_name&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-ios-gray-600 mt-1\",children:[\"Position: \",shift.position_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium \".concat(shift.assigned_count>=shift.required_staff?'bg-ios-green/10 text-ios-green':shift.assigned_count>0?'bg-ios-orange/10 text-ios-orange':'bg-ios-gray-100 text-ios-gray-600'),children:[shift.assigned_count,\"/\",shift.required_staff,\" besetzt\"]}),!isEventPast&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteShift(shift.id),className:\"text-ios-red hover:text-red-600\",title:\"Schicht l\\xF6schen\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-5 w-5\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6 text-sm text-ios-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 mr-1.5\"}),format(parseISO(shift.start_time),'HH:mm'),\" - \",format(parseISO(shift.end_time),'HH:mm'),\" Uhr\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-4 w-4 mr-1.5\"}),shift.required_staff,\" Mitarbeiter ben\\xF6tigt\"]})]}),shift.description&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-sm text-ios-gray-600\",children:shift.description})]},shift.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"ios-card p-8 text-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-ios-gray-500\",children:\"Noch keine Schichten erstellt\"})]})]}),showInviteDialog&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full items-center justify-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/40 backdrop-blur-sm\",onClick:()=>setShowInviteDialog(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-ios-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-ios-gray-900\",children:\"Mitarbeiter einladen\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-ios-gray-600 mt-1\",children:\"W\\xE4hlen Sie die Mitarbeiter aus, die Sie einladen m\\xF6chten\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 overflow-y-auto max-h-[50vh]\",children:availableStaff.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:availableStaff.map(staff=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center p-3 rounded-xl hover:bg-ios-gray-50 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedStaffIds.includes(staff.id),onChange:e=>{if(e.target.checked){setSelectedStaffIds([...selectedStaffIds,staff.id]);}else{setSelectedStaffIds(selectedStaffIds.filter(id=>id!==staff.id));}},className:\"h-4 w-4 rounded text-ios-blue focus:ring-ios-blue\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 flex items-center space-x-3 flex-1\",children:[staff.profile_image_url?/*#__PURE__*/_jsx(\"img\",{src:staff.profile_image_url,alt:staff.full_name,className:\"h-8 w-8 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-ios-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium text-ios-gray-600\",children:[staff.first_name[0],staff.last_name[0]]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-ios-gray-900\",children:staff.full_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-ios-gray-500\",children:[staff.personal_code,\" \\u2022 \",staff.qualifications||'Keine Qualifikationen']})]})]})]},staff.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-ios-gray-500 py-8\",children:\"Alle aktiven Mitarbeiter wurden bereits eingeladen\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-t border-ios-gray-200 flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowInviteDialog(false);setSelectedStaffIds([]);},className:\"flex-1 ios-button-secondary\",children:\"Abbrechen\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleInviteStaff,disabled:processing||selectedStaffIds.length===0,className:\"flex-1 ios-button-primary disabled:opacity-50\",children:processing?'Einladen...':\"\".concat(selectedStaffIds.length,\" Mitarbeiter einladen\")})]})]})]})}),showAddShiftDialog&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full items-center justify-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/40 backdrop-blur-sm\",onClick:()=>setShowAddShiftDialog(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-2xl shadow-xl max-w-md w-full p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-ios-gray-900 mb-4\",children:\"Neue Schicht hinzuf\\xFCgen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newShift.name,onChange:e=>setNewShift(_objectSpread(_objectSpread({},newShift),{},{name:e.target.value})),className:\"ios-input\",placeholder:\"z.B. Fr\\xFChdienst\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Von\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:newShift.start_time,onChange:e=>setNewShift(_objectSpread(_objectSpread({},newShift),{},{start_time:e.target.value})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Bis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:newShift.end_time,onChange:e=>setNewShift(_objectSpread(_objectSpread({},newShift),{},{end_time:e.target.value})),className:\"ios-input\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Position (optional)\"}),/*#__PURE__*/_jsxs(\"select\",{value:newShift.position_id,onChange:e=>setNewShift(_objectSpread(_objectSpread({},newShift),{},{position_id:e.target.value})),className:\"ios-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Alle Positionen\"}),positions.map(pos=>/*#__PURE__*/_jsx(\"option\",{value:pos.id,children:pos.name},pos.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Ben\\xF6tigte Mitarbeiter\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:newShift.required_staff,onChange:e=>setNewShift(_objectSpread(_objectSpread({},newShift),{},{required_staff:parseInt(e.target.value)||1})),className:\"ios-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-ios-gray-700 mb-2\",children:\"Beschreibung (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newShift.description,onChange:e=>setNewShift(_objectSpread(_objectSpread({},newShift),{},{description:e.target.value})),rows:3,className:\"ios-input\",placeholder:\"Zus\\xE4tzliche Informationen...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddShiftDialog(false);setNewShift({name:'',start_time:'09:00',end_time:'17:00',required_staff:1,position_id:'',description:''});},className:\"flex-1 ios-button-secondary\",children:\"Abbrechen\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddShift,disabled:processing||!newShift.name,className:\"flex-1 ios-button-primary disabled:opacity-50\",children:processing?'Hinzufügen...':'Hinzufügen'})]})]})]})})]});};export default EventDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","api","toast","format","parseISO","isPast","isFuture","isToday","de","ArrowLeftIcon","CalendarIcon","MapPinIcon","ClockIcon","UserGroupIcon","PlusIcon","TrashIcon","PencilIcon","CheckCircleIcon","XCircleIcon","ExclamationTriangleIcon","DocumentTextIcon","BellIcon","ChartBarIcon","CalendarDaysIcon","EnvelopeIcon","EyeIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EventDetail","_event$invitations","_event$shifts","_event$stats","_event$stats2","_event$stats3","_event$stats4","id","navigate","event","setEvent","loading","setLoading","activeTab","setActiveTab","editMode","setEditMode","editData","setEditData","processing","setProcessing","showInviteDialog","setShowInviteDialog","availableStaff","setAvailableStaff","selectedStaffIds","setSelectedStaffIds","showAddShiftDialog","setShowAddShiftDialog","positions","setPositions","newShift","setNewShift","name","start_time","end_time","required_staff","position_id","description","loadEvent","loadPositions","response","get","concat","data","location","start_date","end_date","max_staff","error","console","filter","p","is_active","loadAvailableStaff","alreadyInvited","invitations","map","inv","staff_id","staff","s","includes","handleSave","startDateTime","endDateTime","put","parseInt","success","handleStatusChange","newStatus","window","confirm","patch","status","handleInviteStaff","length","post","staff_ids","handleRemoveInvitation","staffId","delete","handleAddShift","shiftData","_objectSpread","handleDeleteShift","shiftId","className","children","getEventStatus","now","Date","startDate","endDate","text","color","icon","eventStatus","isEventPast","onClick","creator_name","created_at","shifts","type","value","onChange","e","target","rows","disabled","locale","stats","total_shifts","total_positions_needed","invited_staff","accepted_invitations","to","invitation","profile_image","src","alt","staff_name","personal_code","staff_email","title","shift","position_name","assigned_count","checked","profile_image_url","full_name","first_name","last_name","qualifications","placeholder","pos","min"],"sources":["C:/Users/JRoidl/Desktop/mitarbeiterapp/frontend/src/pages/admin/EventDetail.js"],"sourcesContent":["// frontend/src/pages/admin/EventDetail.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport api from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport { format, parseISO, isPast, isFuture, isToday } from 'date-fns';\r\nimport { de } from 'date-fns/locale';\r\nimport {\r\n  ArrowLeftIcon,\r\n  CalendarIcon,\r\n  MapPinIcon,\r\n  ClockIcon,\r\n  UserGroupIcon,\r\n  PlusIcon,\r\n  TrashIcon,\r\n  PencilIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ExclamationTriangleIcon,\r\n  DocumentTextIcon,\r\n  BellIcon,\r\n  ChartBarIcon,\r\n  CalendarDaysIcon,\r\n  EnvelopeIcon,\r\n  EyeIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst EventDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [event, setEvent] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview'); // 'overview', 'team', 'shifts'\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editData, setEditData] = useState({});\r\n  const [processing, setProcessing] = useState(false);\r\n  const [showInviteDialog, setShowInviteDialog] = useState(false);\r\n  const [availableStaff, setAvailableStaff] = useState([]);\r\n  const [selectedStaffIds, setSelectedStaffIds] = useState([]);\r\n  const [showAddShiftDialog, setShowAddShiftDialog] = useState(false);\r\n  const [positions, setPositions] = useState([]);\r\n  const [newShift, setNewShift] = useState({\r\n    name: '',\r\n    start_time: '09:00',\r\n    end_time: '17:00',\r\n    required_staff: 1,\r\n    position_id: '',\r\n    description: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadEvent();\r\n    loadPositions();\r\n  }, [id]);\r\n\r\n  const loadEvent = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/events/${id}`);\r\n      setEvent(response.data);\r\n      setEditData({\r\n        name: response.data.name,\r\n        description: response.data.description || '',\r\n        location: response.data.location,\r\n        start_date: format(parseISO(response.data.start_date), 'yyyy-MM-dd'),\r\n        start_time: format(parseISO(response.data.start_date), 'HH:mm'),\r\n        end_date: format(parseISO(response.data.end_date), 'yyyy-MM-dd'),\r\n        end_time: format(parseISO(response.data.end_date), 'HH:mm'),\r\n        max_staff: response.data.max_staff || 0\r\n      });\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Veranstaltung:', error);\r\n      toast.error('Veranstaltung konnte nicht geladen werden');\r\n      navigate('/admin/events');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadPositions = async () => {\r\n    try {\r\n      const response = await api.get('/settings/positions');\r\n      setPositions(response.data.positions.filter(p => p.is_active));\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Positionen:', error);\r\n    }\r\n  };\r\n\r\n  const loadAvailableStaff = async () => {\r\n    try {\r\n      const response = await api.get('/staff?status=active');\r\n      const alreadyInvited = event.invitations.map(inv => inv.staff_id);\r\n      setAvailableStaff(response.data.staff.filter(s => !alreadyInvited.includes(s.id)));\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Mitarbeiter:', error);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setProcessing(true);\r\n    try {\r\n      const startDateTime = `${editData.start_date}T${editData.start_time}:00`;\r\n      const endDateTime = `${editData.end_date}T${editData.end_time}:00`;\r\n\r\n      await api.put(`/events/${id}`, {\r\n        name: editData.name,\r\n        description: editData.description,\r\n        location: editData.location,\r\n        start_date: startDateTime,\r\n        end_date: endDateTime,\r\n        max_staff: parseInt(editData.max_staff) || 0\r\n      });\r\n      \r\n      toast.success('Veranstaltung erfolgreich aktualisiert');\r\n      setEditMode(false);\r\n      loadEvent();\r\n    } catch (error) {\r\n      console.error('Fehler beim Speichern:', error);\r\n      toast.error('Fehler beim Speichern der Änderungen');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (newStatus) => {\r\n    if (!window.confirm(`Status wirklich auf '${newStatus}' ändern?`)) return;\r\n\r\n    setProcessing(true);\r\n    try {\r\n      await api.patch(`/events/${id}/status`, { status: newStatus });\r\n      toast.success('Status erfolgreich geändert');\r\n      loadEvent();\r\n    } catch (error) {\r\n      console.error('Fehler beim Ändern des Status:', error);\r\n      toast.error('Status konnte nicht geändert werden');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleInviteStaff = async () => {\r\n    if (selectedStaffIds.length === 0) {\r\n      toast.error('Bitte wählen Sie mindestens einen Mitarbeiter aus');\r\n      return;\r\n    }\r\n\r\n    setProcessing(true);\r\n    try {\r\n      await api.post(`/events/${id}/invite`, { staff_ids: selectedStaffIds });\r\n      toast.success(`${selectedStaffIds.length} Mitarbeiter erfolgreich eingeladen`);\r\n      setShowInviteDialog(false);\r\n      setSelectedStaffIds([]);\r\n      loadEvent();\r\n    } catch (error) {\r\n      console.error('Fehler beim Einladen:', error);\r\n      toast.error('Fehler beim Einladen der Mitarbeiter');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveInvitation = async (staffId) => {\r\n    if (!window.confirm('Einladung wirklich zurückziehen?')) return;\r\n\r\n    try {\r\n      await api.delete(`/events/${id}/invite/${staffId}`);\r\n      toast.success('Einladung zurückgezogen');\r\n      loadEvent();\r\n    } catch (error) {\r\n      console.error('Fehler beim Entfernen der Einladung:', error);\r\n      toast.error('Einladung konnte nicht entfernt werden');\r\n    }\r\n  };\r\n\r\n  const handleAddShift = async () => {\r\n    setProcessing(true);\r\n    try {\r\n      const shiftData = {\r\n        ...newShift,\r\n        start_time: `${format(parseISO(event.start_date), 'yyyy-MM-dd')}T${newShift.start_time}:00`,\r\n        end_time: `${format(parseISO(event.start_date), 'yyyy-MM-dd')}T${newShift.end_time}:00`,\r\n        position_id: newShift.position_id || null\r\n      };\r\n\r\n      await api.post(`/events/${id}/shifts`, shiftData);\r\n      toast.success('Schicht erfolgreich hinzugefügt');\r\n      setShowAddShiftDialog(false);\r\n      setNewShift({\r\n        name: '',\r\n        start_time: '09:00',\r\n        end_time: '17:00',\r\n        required_staff: 1,\r\n        position_id: '',\r\n        description: ''\r\n      });\r\n      loadEvent();\r\n    } catch (error) {\r\n      console.error('Fehler beim Hinzufügen der Schicht:', error);\r\n      toast.error('Schicht konnte nicht hinzugefügt werden');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteShift = async (shiftId) => {\r\n    if (!window.confirm('Schicht wirklich löschen?')) return;\r\n\r\n    try {\r\n      await api.delete(`/events/${id}/shifts/${shiftId}`);\r\n      toast.success('Schicht gelöscht');\r\n      loadEvent();\r\n    } catch (error) {\r\n      console.error('Fehler beim Löschen der Schicht:', error);\r\n      toast.error('Schicht konnte nicht gelöscht werden');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-8 bg-ios-gray-200 rounded w-1/4 mb-6\"></div>\r\n          <div className=\"ios-card p-6 space-y-4\">\r\n            <div className=\"h-32 bg-ios-gray-200 rounded\"></div>\r\n            <div className=\"h-20 bg-ios-gray-200 rounded\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!event) return null;\r\n\r\n  const getEventStatus = () => {\r\n    const now = new Date();\r\n    const startDate = parseISO(event.start_date);\r\n    const endDate = parseISO(event.end_date);\r\n    \r\n    if (event.status === 'cancelled') {\r\n      return { text: 'Abgesagt', color: 'bg-ios-red text-white', icon: XCircleIcon };\r\n    } else if (event.status === 'draft') {\r\n      return { text: 'Entwurf', color: 'bg-ios-gray-400 text-white', icon: ExclamationTriangleIcon };\r\n    } else if (isPast(endDate)) {\r\n      return { text: 'Beendet', color: 'bg-ios-gray-500 text-white', icon: CheckCircleIcon };\r\n    } else if (now >= startDate && now <= endDate) {\r\n      return { text: 'Läuft', color: 'bg-ios-green text-white', icon: ClockIcon };\r\n    } else if (isToday(startDate)) {\r\n      return { text: 'Heute', color: 'bg-ios-orange text-white', icon: CalendarIcon };\r\n    } else {\r\n      return { text: 'Geplant', color: 'bg-ios-blue text-white', icon: CalendarDaysIcon };\r\n    }\r\n  };\r\n\r\n  const eventStatus = getEventStatus();\r\n  const isEventPast = isPast(parseISO(event.end_date));\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-6xl mx-auto\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <button\r\n            onClick={() => navigate('/admin/events')}\r\n            className=\"p-2 rounded-lg hover:bg-ios-gray-100\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5 text-ios-gray-600\" />\r\n          </button>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-ios-gray-900\">\r\n              {editMode ? 'Veranstaltung bearbeiten' : event.name}\r\n            </h1>\r\n            <p className=\"text-ios-gray-600\">\r\n              Erstellt von {event.creator_name} am {format(parseISO(event.created_at), 'dd.MM.yyyy')}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center space-x-3\">\r\n          <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${eventStatus.color}`}>\r\n            <eventStatus.icon className=\"w-4 h-4 mr-1.5\" />\r\n            {eventStatus.text}\r\n          </span>\r\n          {!isEventPast && !editMode && (\r\n            <button\r\n              onClick={() => setEditMode(true)}\r\n              className=\"ios-button-secondary\"\r\n            >\r\n              <PencilIcon className=\"h-4 w-4 mr-1.5\" />\r\n              Bearbeiten\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex space-x-1 mb-6 bg-ios-gray-100 p-1 rounded-xl\">\r\n        <button\r\n          onClick={() => setActiveTab('overview')}\r\n          className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${\r\n            activeTab === 'overview'\r\n              ? 'bg-white text-ios-gray-900 shadow-sm'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          Übersicht\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('team')}\r\n          className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${\r\n            activeTab === 'team'\r\n              ? 'bg-white text-ios-gray-900 shadow-sm'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          Team ({event.invitations?.length || 0})\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('shifts')}\r\n          className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${\r\n            activeTab === 'shifts'\r\n              ? 'bg-white text-ios-gray-900 shadow-sm'\r\n              : 'text-ios-gray-600 hover:text-ios-gray-900'\r\n          }`}\r\n        >\r\n          Schichten ({event.shifts?.length || 0})\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      {activeTab === 'overview' && (\r\n        <>\r\n          {/* Event Info */}\r\n          <div className=\"ios-card p-6 mb-6\">\r\n            {editMode ? (\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editData.name}\r\n                    onChange={(e) => setEditData({ ...editData, name: e.target.value })}\r\n                    className=\"ios-input\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Beschreibung</label>\r\n                  <textarea\r\n                    value={editData.description}\r\n                    onChange={(e) => setEditData({ ...editData, description: e.target.value })}\r\n                    rows={3}\r\n                    className=\"ios-input\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Ort</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editData.location}\r\n                    onChange={(e) => setEditData({ ...editData, location: e.target.value })}\r\n                    className=\"ios-input\"\r\n                  />\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Startdatum</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={editData.start_date}\r\n                      onChange={(e) => setEditData({ ...editData, start_date: e.target.value })}\r\n                      className=\"ios-input\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Startzeit</label>\r\n                    <input\r\n                      type=\"time\"\r\n                      value={editData.start_time}\r\n                      onChange={(e) => setEditData({ ...editData, start_time: e.target.value })}\r\n                      className=\"ios-input\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Enddatum</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={editData.end_date}\r\n                      onChange={(e) => setEditData({ ...editData, end_date: e.target.value })}\r\n                      className=\"ios-input\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Endzeit</label>\r\n                    <input\r\n                      type=\"time\"\r\n                      value={editData.end_time}\r\n                      onChange={(e) => setEditData({ ...editData, end_time: e.target.value })}\r\n                      className=\"ios-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex space-x-3 pt-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setEditMode(false);\r\n                      setEditData({\r\n                        name: event.name,\r\n                        description: event.description || '',\r\n                        location: event.location,\r\n                        start_date: format(parseISO(event.start_date), 'yyyy-MM-dd'),\r\n                        start_time: format(parseISO(event.start_date), 'HH:mm'),\r\n                        end_date: format(parseISO(event.end_date), 'yyyy-MM-dd'),\r\n                        end_time: format(parseISO(event.end_date), 'HH:mm'),\r\n                        max_staff: event.max_staff || 0\r\n                      });\r\n                    }}\r\n                    className=\"flex-1 ios-button-secondary\"\r\n                  >\r\n                    Abbrechen\r\n                  </button>\r\n                  <button\r\n                    onClick={handleSave}\r\n                    disabled={processing}\r\n                    className=\"flex-1 ios-button-primary disabled:opacity-50\"\r\n                  >\r\n                    {processing ? 'Speichern...' : 'Speichern'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-start space-x-3\">\r\n                    <MapPinIcon className=\"h-5 w-5 text-ios-gray-400 mt-0.5\" />\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-ios-gray-700\">Veranstaltungsort</p>\r\n                      <p className=\"text-ios-gray-900\">{event.location}</p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-start space-x-3\">\r\n                    <CalendarIcon className=\"h-5 w-5 text-ios-gray-400 mt-0.5\" />\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-ios-gray-700\">Zeitraum</p>\r\n                      <p className=\"text-ios-gray-900\">\r\n                        {format(parseISO(event.start_date), 'dd.MM.yyyy HH:mm', { locale: de })} - \r\n                        {format(parseISO(event.end_date), ' dd.MM.yyyy HH:mm', { locale: de })} Uhr\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {event.description && (\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <DocumentTextIcon className=\"h-5 w-5 text-ios-gray-400 mt-0.5\" />\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-ios-gray-700\">Beschreibung</p>\r\n                        <p className=\"text-ios-gray-900 whitespace-pre-wrap\">{event.description}</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Stats */}\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-ios-gray-200\">\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Schichten</p>\r\n                    <p className=\"text-2xl font-bold text-ios-gray-900\">{event.stats?.total_shifts || 0}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Benötigte Mitarbeiter</p>\r\n                    <p className=\"text-2xl font-bold text-ios-gray-900\">{event.stats?.total_positions_needed || 0}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Eingeladen</p>\r\n                    <p className=\"text-2xl font-bold text-ios-gray-900\">{event.stats?.invited_staff || 0}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-ios-gray-600\">Zugesagt</p>\r\n                    <p className=\"text-2xl font-bold text-ios-green\">{event.stats?.accepted_invitations || 0}</p>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          {!editMode && (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              {event.status === 'draft' && (\r\n                <button\r\n                  onClick={() => handleStatusChange('published')}\r\n                  disabled={processing}\r\n                  className=\"ios-card p-4 text-center hover:shadow-ios-lg transition-shadow disabled:opacity-50\"\r\n                >\r\n                  <BellIcon className=\"h-8 w-8 text-ios-blue mx-auto mb-2\" />\r\n                  <p className=\"font-medium text-ios-gray-900\">Veröffentlichen</p>\r\n                  <p className=\"text-xs text-ios-gray-500 mt-1\">Einladungen versenden</p>\r\n                </button>\r\n              )}\r\n              \r\n              <Link\r\n                to={`/admin/events/${id}/planning`}\r\n                className=\"ios-card p-4 text-center hover:shadow-ios-lg transition-shadow\"\r\n              >\r\n                <CalendarDaysIcon className=\"h-8 w-8 text-ios-purple mx-auto mb-2\" />\r\n                <p className=\"font-medium text-ios-gray-900\">Schichtplanung</p>\r\n                <p className=\"text-xs text-ios-gray-500 mt-1\">Mitarbeiter einteilen</p>\r\n              </Link>\r\n\r\n              {!isEventPast && event.status !== 'cancelled' && (\r\n                <button\r\n                  onClick={() => handleStatusChange('cancelled')}\r\n                  disabled={processing}\r\n                  className=\"ios-card p-4 text-center hover:shadow-ios-lg transition-shadow disabled:opacity-50\"\r\n                >\r\n                  <XCircleIcon className=\"h-8 w-8 text-ios-red mx-auto mb-2\" />\r\n                  <p className=\"font-medium text-ios-gray-900\">Absagen</p>\r\n                  <p className=\"text-xs text-ios-gray-500 mt-1\">Event stornieren</p>\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {activeTab === 'team' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Invite Button */}\r\n          {!isEventPast && event.status !== 'cancelled' && (\r\n            <div className=\"flex justify-end\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowInviteDialog(true);\r\n                  loadAvailableStaff();\r\n                }}\r\n                className=\"ios-button-primary\"\r\n              >\r\n                <PlusIcon className=\"h-5 w-5 mr-2\" />\r\n                Mitarbeiter einladen\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Invitations List */}\r\n          <div className=\"ios-card overflow-hidden\">\r\n            {event.invitations && event.invitations.length > 0 ? (\r\n              <div className=\"divide-y divide-ios-gray-200\">\r\n                {event.invitations.map((invitation) => (\r\n                  <div key={invitation.id} className=\"p-4 hover:bg-ios-gray-50\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        {invitation.profile_image ? (\r\n                          <img\r\n                            src={`/uploads/profiles/${invitation.profile_image}`}\r\n                            alt={invitation.staff_name}\r\n                            className=\"h-10 w-10 rounded-full object-cover\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"h-10 w-10 rounded-full bg-ios-gray-200 flex items-center justify-center\">\r\n                            <UserGroupIcon className=\"h-5 w-5 text-ios-gray-500\" />\r\n                          </div>\r\n                        )}\r\n                        <div>\r\n                          <p className=\"font-medium text-ios-gray-900\">{invitation.staff_name}</p>\r\n                          <p className=\"text-sm text-ios-gray-500\">{invitation.personal_code} • {invitation.staff_email}</p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        {invitation.status === 'pending' && (\r\n                          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-ios-orange/10 text-ios-orange\">\r\n                            <ClockIcon className=\"w-3 h-3 mr-1\" />\r\n                            Ausstehend\r\n                          </span>\r\n                        )}\r\n                        {invitation.status === 'accepted' && (\r\n                          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-ios-green/10 text-ios-green\">\r\n                            <CheckCircleIcon className=\"w-3 h-3 mr-1\" />\r\n                            Zugesagt\r\n                          </span>\r\n                        )}\r\n                        {invitation.status === 'declined' && (\r\n                          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-ios-red/10 text-ios-red\">\r\n                            <XCircleIcon className=\"w-3 h-3 mr-1\" />\r\n                            Abgesagt\r\n                          </span>\r\n                        )}\r\n                        {!isEventPast && (\r\n                          <button\r\n                            onClick={() => handleRemoveInvitation(invitation.staff_id)}\r\n                            className=\"text-ios-red hover:text-red-600\"\r\n                            title=\"Einladung zurückziehen\"\r\n                          >\r\n                            <TrashIcon className=\"h-5 w-5\" />\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"p-8 text-center\">\r\n                <UserGroupIcon className=\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\" />\r\n                <p className=\"text-ios-gray-500\">Noch keine Mitarbeiter eingeladen</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'shifts' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Add Shift Button */}\r\n          {!isEventPast && event.status !== 'cancelled' && (\r\n            <div className=\"flex justify-end\">\r\n              <button\r\n                onClick={() => setShowAddShiftDialog(true)}\r\n                className=\"ios-button-primary\"\r\n              >\r\n                <PlusIcon className=\"h-5 w-5 mr-2\" />\r\n                Schicht hinzufügen\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Shifts List */}\r\n          {event.shifts && event.shifts.length > 0 ? (\r\n            <div className=\"grid gap-4\">\r\n              {event.shifts.map((shift) => (\r\n                <div key={shift.id} className=\"ios-card p-6\">\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold text-ios-gray-900\">{shift.name}</h3>\r\n                      {shift.position_name && (\r\n                        <p className=\"text-sm text-ios-gray-600 mt-1\">Position: {shift.position_name}</p>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\r\n                        shift.assigned_count >= shift.required_staff\r\n                          ? 'bg-ios-green/10 text-ios-green'\r\n                          : shift.assigned_count > 0\r\n                          ? 'bg-ios-orange/10 text-ios-orange'\r\n                          : 'bg-ios-gray-100 text-ios-gray-600'\r\n                      }`}>\r\n                        {shift.assigned_count}/{shift.required_staff} besetzt\r\n                      </span>\r\n                      {!isEventPast && (\r\n                        <button\r\n                          onClick={() => handleDeleteShift(shift.id)}\r\n                          className=\"text-ios-red hover:text-red-600\"\r\n                          title=\"Schicht löschen\"\r\n                        >\r\n                          <TrashIcon className=\"h-5 w-5\" />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-6 text-sm text-ios-gray-600\">\r\n                    <div className=\"flex items-center\">\r\n                      <ClockIcon className=\"h-4 w-4 mr-1.5\" />\r\n                      {format(parseISO(shift.start_time), 'HH:mm')} - {format(parseISO(shift.end_time), 'HH:mm')} Uhr\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      <UserGroupIcon className=\"h-4 w-4 mr-1.5\" />\r\n                      {shift.required_staff} Mitarbeiter benötigt\r\n                    </div>\r\n                  </div>\r\n\r\n                  {shift.description && (\r\n                    <p className=\"mt-3 text-sm text-ios-gray-600\">{shift.description}</p>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"ios-card p-8 text-center\">\r\n              <ClockIcon className=\"h-12 w-12 text-ios-gray-300 mx-auto mb-4\" />\r\n              <p className=\"text-ios-gray-500\">Noch keine Schichten erstellt</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Invite Staff Dialog */}\r\n      {showInviteDialog && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex min-h-full items-center justify-center p-4\">\r\n            <div className=\"fixed inset-0 bg-black/40 backdrop-blur-sm\" onClick={() => setShowInviteDialog(false)} />\r\n            \r\n            <div className=\"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden\">\r\n              <div className=\"p-6 border-b border-ios-gray-200\">\r\n                <h3 className=\"text-lg font-semibold text-ios-gray-900\">Mitarbeiter einladen</h3>\r\n                <p className=\"text-sm text-ios-gray-600 mt-1\">Wählen Sie die Mitarbeiter aus, die Sie einladen möchten</p>\r\n              </div>\r\n              \r\n              <div className=\"p-6 overflow-y-auto max-h-[50vh]\">\r\n                {availableStaff.length > 0 ? (\r\n                  <div className=\"space-y-2\">\r\n                    {availableStaff.map((staff) => (\r\n                      <label\r\n                        key={staff.id}\r\n                        className=\"flex items-center p-3 rounded-xl hover:bg-ios-gray-50 cursor-pointer\"\r\n                      >\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={selectedStaffIds.includes(staff.id)}\r\n                          onChange={(e) => {\r\n                            if (e.target.checked) {\r\n                              setSelectedStaffIds([...selectedStaffIds, staff.id]);\r\n                            } else {\r\n                              setSelectedStaffIds(selectedStaffIds.filter(id => id !== staff.id));\r\n                            }\r\n                          }}\r\n                          className=\"h-4 w-4 rounded text-ios-blue focus:ring-ios-blue\"\r\n                        />\r\n                        <div className=\"ml-3 flex items-center space-x-3 flex-1\">\r\n                          {staff.profile_image_url ? (\r\n                            <img\r\n                              src={staff.profile_image_url}\r\n                              alt={staff.full_name}\r\n                              className=\"h-8 w-8 rounded-full object-cover\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"h-8 w-8 rounded-full bg-ios-gray-200 flex items-center justify-center\">\r\n                              <span className=\"text-xs font-medium text-ios-gray-600\">\r\n                                {staff.first_name[0]}{staff.last_name[0]}\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"text-sm font-medium text-ios-gray-900\">{staff.full_name}</p>\r\n                            <p className=\"text-xs text-ios-gray-500\">{staff.personal_code} • {staff.qualifications || 'Keine Qualifikationen'}</p>\r\n                          </div>\r\n                        </div>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-center text-ios-gray-500 py-8\">\r\n                    Alle aktiven Mitarbeiter wurden bereits eingeladen\r\n                  </p>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"p-6 border-t border-ios-gray-200 flex space-x-3\">\r\n                <button\r\n                  onClick={() => {\r\n                    setShowInviteDialog(false);\r\n                    setSelectedStaffIds([]);\r\n                  }}\r\n                  className=\"flex-1 ios-button-secondary\"\r\n                >\r\n                  Abbrechen\r\n                </button>\r\n                <button\r\n                  onClick={handleInviteStaff}\r\n                  disabled={processing || selectedStaffIds.length === 0}\r\n                  className=\"flex-1 ios-button-primary disabled:opacity-50\"\r\n                >\r\n                  {processing ? 'Einladen...' : `${selectedStaffIds.length} Mitarbeiter einladen`}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Shift Dialog */}\r\n      {showAddShiftDialog && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex min-h-full items-center justify-center p-4\">\r\n            <div className=\"fixed inset-0 bg-black/40 backdrop-blur-sm\" onClick={() => setShowAddShiftDialog(false)} />\r\n            \r\n            <div className=\"relative bg-white rounded-2xl shadow-xl max-w-md w-full p-6\">\r\n              <h3 className=\"text-lg font-semibold text-ios-gray-900 mb-4\">Neue Schicht hinzufügen</h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newShift.name}\r\n                    onChange={(e) => setNewShift({ ...newShift, name: e.target.value })}\r\n                    className=\"ios-input\"\r\n                    placeholder=\"z.B. Frühdienst\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Von</label>\r\n                    <input\r\n                      type=\"time\"\r\n                      value={newShift.start_time}\r\n                      onChange={(e) => setNewShift({ ...newShift, start_time: e.target.value })}\r\n                      className=\"ios-input\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Bis</label>\r\n                    <input\r\n                      type=\"time\"\r\n                      value={newShift.end_time}\r\n                      onChange={(e) => setNewShift({ ...newShift, end_time: e.target.value })}\r\n                      className=\"ios-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Position (optional)</label>\r\n                  <select\r\n                    value={newShift.position_id}\r\n                    onChange={(e) => setNewShift({ ...newShift, position_id: e.target.value })}\r\n                    className=\"ios-input\"\r\n                  >\r\n                    <option value=\"\">Alle Positionen</option>\r\n                    {positions.map(pos => (\r\n                      <option key={pos.id} value={pos.id}>{pos.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Benötigte Mitarbeiter</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    value={newShift.required_staff}\r\n                    onChange={(e) => setNewShift({ ...newShift, required_staff: parseInt(e.target.value) || 1 })}\r\n                    className=\"ios-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-ios-gray-700 mb-2\">Beschreibung (optional)</label>\r\n                  <textarea\r\n                    value={newShift.description}\r\n                    onChange={(e) => setNewShift({ ...newShift, description: e.target.value })}\r\n                    rows={3}\r\n                    className=\"ios-input\"\r\n                    placeholder=\"Zusätzliche Informationen...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex space-x-3 mt-6\">\r\n                <button\r\n                  onClick={() => {\r\n                    setShowAddShiftDialog(false);\r\n                    setNewShift({\r\n                      name: '',\r\n                      start_time: '09:00',\r\n                      end_time: '17:00',\r\n                      required_staff: 1,\r\n                      position_id: '',\r\n                      description: ''\r\n                    });\r\n                  }}\r\n                  className=\"flex-1 ios-button-secondary\"\r\n                >\r\n                  Abbrechen\r\n                </button>\r\n                <button\r\n                  onClick={handleAddShift}\r\n                  disabled={processing || !newShift.name}\r\n                  className=\"flex-1 ios-button-primary disabled:opacity-50\"\r\n                >\r\n                  {processing ? 'Hinzufügen...' : 'Hinzufügen'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetail;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}